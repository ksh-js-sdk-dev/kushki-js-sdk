/*! For license information please see payment.min.js.LICENSE.txt */
!(function (e, t) {
  if ("object" == typeof exports && "object" == typeof module)
    module.exports = t();
  else if ("function" == typeof define && define.amd) define([], t);
  else {
    var n = t();
    for (var r in n) ("object" == typeof exports ? exports : e)[r] = n[r];
  }
})(self, () =>
  (() => {
    "use strict";
    var e = {
        160: (e, t, n) => {
          var r = Object.defineProperty,
            i = (e, t, n) => (
              ((e, t, n) => {
                t in e
                  ? r(e, t, {
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                      value: n
                    })
                  : (e[t] = n);
              })(e, "symbol" != typeof t ? t + "" : t, n),
              n
            );
          function o(e, t) {
            return function () {
              return e.apply(t, arguments);
            };
          }
          const { toString: a } = Object.prototype,
            { getPrototypeOf: s } = Object,
            u =
              ((h = Object.create(null)),
              (e) => {
                const t = a.call(e);
                return h[t] || (h[t] = t.slice(8, -1).toLowerCase());
              }),
            c = (e) => ((e = e.toLowerCase()), (t) => u(t) === e),
            d = (e) => (t) => typeof t === e,
            { isArray: l } = Array,
            f = d("undefined");
          var h;
          const p = c("ArrayBuffer"),
            y = d("string"),
            w = d("function"),
            v = d("number"),
            g = (e) => null !== e && "object" == typeof e,
            m = (e) => {
              if ("object" !== u(e)) return !1;
              const t = s(e);
              return !(
                (null !== t &&
                  t !== Object.prototype &&
                  null !== Object.getPrototypeOf(t)) ||
                Symbol.toStringTag in e ||
                Symbol.iterator in e
              );
            },
            b = c("Date"),
            E = c("File"),
            _ = c("Blob"),
            S = c("FileList"),
            x = c("URLSearchParams");
          function O(e, t, { allOwnKeys: n = !1 } = {}) {
            if (null === e || typeof e > "u") return;
            let r, i;
            if (("object" != typeof e && (e = [e]), l(e)))
              for (r = 0, i = e.length; r < i; r++) t.call(null, e[r], r, e);
            else {
              const i = n ? Object.getOwnPropertyNames(e) : Object.keys(e),
                o = i.length;
              let a;
              for (r = 0; r < o; r++) (a = i[r]), t.call(null, e[a], a, e);
            }
          }
          function P(e, t) {
            t = t.toLowerCase();
            const n = Object.keys(e);
            let r,
              i = n.length;
            for (; i-- > 0; ) if (((r = n[i]), t === r.toLowerCase())) return r;
            return null;
          }
          const A =
              typeof globalThis < "u"
                ? globalThis
                : typeof self < "u"
                ? self
                : typeof window < "u"
                ? window
                : n.g,
            C = (e) => !f(e) && e !== A,
            T = (
              (e) => (t) =>
                e && t instanceof e
            )(typeof Uint8Array < "u" && s(Uint8Array)),
            R = c("HTMLFormElement"),
            D = (
              ({ hasOwnProperty: e }) =>
              (t, n) =>
                e.call(t, n)
            )(Object.prototype),
            k = c("RegExp"),
            I = (e, t) => {
              const n = Object.getOwnPropertyDescriptors(e),
                r = {};
              O(n, (n, i) => {
                let o;
                !1 !== (o = t(n, i, e)) && (r[i] = o || n);
              }),
                Object.defineProperties(e, r);
            },
            N = "abcdefghijklmnopqrstuvwxyz",
            j = "0123456789",
            F = { DIGIT: j, ALPHA: N, ALPHA_DIGIT: N + N.toUpperCase() + j },
            M = c("AsyncFunction"),
            W = {
              isArray: l,
              isArrayBuffer: p,
              isBuffer: function (e) {
                return (
                  null !== e &&
                  !f(e) &&
                  null !== e.constructor &&
                  !f(e.constructor) &&
                  w(e.constructor.isBuffer) &&
                  e.constructor.isBuffer(e)
                );
              },
              isFormData: (e) => {
                let t;
                return (
                  e &&
                  (("function" == typeof FormData && e instanceof FormData) ||
                    (w(e.append) &&
                      ("formdata" === (t = u(e)) ||
                        ("object" === t &&
                          w(e.toString) &&
                          "[object FormData]" === e.toString()))))
                );
              },
              isArrayBufferView: function (e) {
                let t;
                return (
                  (t =
                    typeof ArrayBuffer < "u" && ArrayBuffer.isView
                      ? ArrayBuffer.isView(e)
                      : e && e.buffer && p(e.buffer)),
                  t
                );
              },
              isString: y,
              isNumber: v,
              isBoolean: (e) => !0 === e || !1 === e,
              isObject: g,
              isPlainObject: m,
              isUndefined: f,
              isDate: b,
              isFile: E,
              isBlob: _,
              isRegExp: k,
              isFunction: w,
              isStream: (e) => g(e) && w(e.pipe),
              isURLSearchParams: x,
              isTypedArray: T,
              isFileList: S,
              forEach: O,
              merge: function e() {
                const { caseless: t } = (C(this) && this) || {},
                  n = {},
                  r = (r, i) => {
                    const o = (t && P(n, i)) || i;
                    m(n[o]) && m(r)
                      ? (n[o] = e(n[o], r))
                      : m(r)
                      ? (n[o] = e({}, r))
                      : l(r)
                      ? (n[o] = r.slice())
                      : (n[o] = r);
                  };
                for (let e = 0, t = arguments.length; e < t; e++)
                  arguments[e] && O(arguments[e], r);
                return n;
              },
              extend: (e, t, n, { allOwnKeys: r } = {}) => (
                O(
                  t,
                  (t, r) => {
                    n && w(t) ? (e[r] = o(t, n)) : (e[r] = t);
                  },
                  { allOwnKeys: r }
                ),
                e
              ),
              trim: (e) =>
                e.trim
                  ? e.trim()
                  : e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""),
              stripBOM: (e) => (
                65279 === e.charCodeAt(0) && (e = e.slice(1)), e
              ),
              inherits: (e, t, n, r) => {
                (e.prototype = Object.create(t.prototype, r)),
                  (e.prototype.constructor = e),
                  Object.defineProperty(e, "super", { value: t.prototype }),
                  n && Object.assign(e.prototype, n);
              },
              toFlatObject: (e, t, n, r) => {
                let i, o, a;
                const u = {};
                if (((t = t || {}), null == e)) return t;
                do {
                  for (
                    i = Object.getOwnPropertyNames(e), o = i.length;
                    o-- > 0;

                  )
                    (a = i[o]),
                      (!r || r(a, e, t)) &&
                        !u[a] &&
                        ((t[a] = e[a]), (u[a] = !0));
                  e = !1 !== n && s(e);
                } while (e && (!n || n(e, t)) && e !== Object.prototype);
                return t;
              },
              kindOf: u,
              kindOfTest: c,
              endsWith: (e, t, n) => {
                (e = String(e)),
                  (void 0 === n || n > e.length) && (n = e.length),
                  (n -= t.length);
                const r = e.indexOf(t, n);
                return -1 !== r && r === n;
              },
              toArray: (e) => {
                if (!e) return null;
                if (l(e)) return e;
                let t = e.length;
                if (!v(t)) return null;
                const n = new Array(t);
                for (; t-- > 0; ) n[t] = e[t];
                return n;
              },
              forEachEntry: (e, t) => {
                const n = (e && e[Symbol.iterator]).call(e);
                let r;
                for (; (r = n.next()) && !r.done; ) {
                  const n = r.value;
                  t.call(e, n[0], n[1]);
                }
              },
              matchAll: (e, t) => {
                let n;
                const r = [];
                for (; null !== (n = e.exec(t)); ) r.push(n);
                return r;
              },
              isHTMLForm: R,
              hasOwnProperty: D,
              hasOwnProp: D,
              reduceDescriptors: I,
              freezeMethods: (e) => {
                I(e, (t, n) => {
                  if (
                    w(e) &&
                    -1 !== ["arguments", "caller", "callee"].indexOf(n)
                  )
                    return !1;
                  const r = e[n];
                  if (w(r)) {
                    if (((t.enumerable = !1), "writable" in t))
                      return void (t.writable = !1);
                    t.set ||
                      (t.set = () => {
                        throw Error(
                          "Can not rewrite read-only method '" + n + "'"
                        );
                      });
                  }
                });
              },
              toObjectSet: (e, t) => {
                const n = {},
                  r = (e) => {
                    e.forEach((e) => {
                      n[e] = !0;
                    });
                  };
                return l(e) ? r(e) : r(String(e).split(t)), n;
              },
              toCamelCase: (e) =>
                e
                  .toLowerCase()
                  .replace(/[-_\s]([a-z\d])(\w*)/g, function (e, t, n) {
                    return t.toUpperCase() + n;
                  }),
              noop: () => {},
              toFiniteNumber: (e, t) => ((e = +e), Number.isFinite(e) ? e : t),
              findKey: P,
              global: A,
              isContextDefined: C,
              ALPHABET: F,
              generateString: (e = 16, t = F.ALPHA_DIGIT) => {
                let n = "";
                const { length: r } = t;
                for (; e--; ) n += t[(Math.random() * r) | 0];
                return n;
              },
              isSpecCompliantForm: function (e) {
                return !!(
                  e &&
                  w(e.append) &&
                  "FormData" === e[Symbol.toStringTag] &&
                  e[Symbol.iterator]
                );
              },
              toJSONObject: (e) => {
                const t = new Array(10),
                  n = (e, r) => {
                    if (g(e)) {
                      if (t.indexOf(e) >= 0) return;
                      if (!("toJSON" in e)) {
                        t[r] = e;
                        const i = l(e) ? [] : {};
                        return (
                          O(e, (e, t) => {
                            const o = n(e, r + 1);
                            !f(o) && (i[t] = o);
                          }),
                          (t[r] = void 0),
                          i
                        );
                      }
                    }
                    return e;
                  };
                return n(e, 0);
              },
              isAsyncFn: M,
              isThenable: (e) => e && (g(e) || w(e)) && w(e.then) && w(e.catch)
            };
          function B(e, t, n, r, i) {
            Error.call(this),
              Error.captureStackTrace
                ? Error.captureStackTrace(this, this.constructor)
                : (this.stack = new Error().stack),
              (this.message = e),
              (this.name = "AxiosError"),
              t && (this.code = t),
              n && (this.config = n),
              r && (this.request = r),
              i && (this.response = i);
          }
          W.inherits(B, Error, {
            toJSON: function () {
              return {
                message: this.message,
                name: this.name,
                description: this.description,
                number: this.number,
                fileName: this.fileName,
                lineNumber: this.lineNumber,
                columnNumber: this.columnNumber,
                stack: this.stack,
                config: W.toJSONObject(this.config),
                code: this.code,
                status:
                  this.response && this.response.status
                    ? this.response.status
                    : null
              };
            }
          });
          const V = B.prototype,
            U = {};
          function z(e) {
            return W.isPlainObject(e) || W.isArray(e);
          }
          function L(e) {
            return W.endsWith(e, "[]") ? e.slice(0, -2) : e;
          }
          function q(e, t, n) {
            return e
              ? e
                  .concat(t)
                  .map(function (e, t) {
                    return (e = L(e)), !n && t ? "[" + e + "]" : e;
                  })
                  .join(n ? "." : "")
              : t;
          }
          [
            "ERR_BAD_OPTION_VALUE",
            "ERR_BAD_OPTION",
            "ECONNABORTED",
            "ETIMEDOUT",
            "ERR_NETWORK",
            "ERR_FR_TOO_MANY_REDIRECTS",
            "ERR_DEPRECATED",
            "ERR_BAD_RESPONSE",
            "ERR_BAD_REQUEST",
            "ERR_CANCELED",
            "ERR_NOT_SUPPORT",
            "ERR_INVALID_URL"
          ].forEach((e) => {
            U[e] = { value: e };
          }),
            Object.defineProperties(B, U),
            Object.defineProperty(V, "isAxiosError", { value: !0 }),
            (B.from = (e, t, n, r, i, o) => {
              const a = Object.create(V);
              return (
                W.toFlatObject(
                  e,
                  a,
                  function (e) {
                    return e !== Error.prototype;
                  },
                  (e) => "isAxiosError" !== e
                ),
                B.call(a, e.message, t, n, r, i),
                (a.cause = e),
                (a.name = e.name),
                o && Object.assign(a, o),
                a
              );
            });
          const H = W.toFlatObject(W, {}, null, function (e) {
            return /^is[A-Z]/.test(e);
          });
          function K(e, t, n) {
            if (!W.isObject(e)) throw new TypeError("target must be an object");
            t = t || new FormData();
            const r = (n = W.toFlatObject(
                n,
                { metaTokens: !0, dots: !1, indexes: !1 },
                !1,
                function (e, t) {
                  return !W.isUndefined(t[e]);
                }
              )).metaTokens,
              i = n.visitor || c,
              o = n.dots,
              a = n.indexes,
              s =
                (n.Blob || (typeof Blob < "u" && Blob)) &&
                W.isSpecCompliantForm(t);
            if (!W.isFunction(i))
              throw new TypeError("visitor must be a function");
            function u(e) {
              if (null === e) return "";
              if (W.isDate(e)) return e.toISOString();
              if (!s && W.isBlob(e))
                throw new B("Blob is not supported. Use a Buffer instead.");
              return W.isArrayBuffer(e) || W.isTypedArray(e)
                ? s && "function" == typeof Blob
                  ? new Blob([e])
                  : Buffer.from(e)
                : e;
            }
            function c(e, n, i) {
              let s = e;
              if (e && !i && "object" == typeof e)
                if (W.endsWith(n, "{}"))
                  (n = r ? n : n.slice(0, -2)), (e = JSON.stringify(e));
                else if (
                  (W.isArray(e) &&
                    (function (e) {
                      return W.isArray(e) && !e.some(z);
                    })(e)) ||
                  ((W.isFileList(e) || W.endsWith(n, "[]")) &&
                    (s = W.toArray(e)))
                )
                  return (
                    (n = L(n)),
                    s.forEach(function (e, r) {
                      !W.isUndefined(e) &&
                        null !== e &&
                        t.append(
                          !0 === a ? q([n], r, o) : null === a ? n : n + "[]",
                          u(e)
                        );
                    }),
                    !1
                  );
              return !!z(e) || (t.append(q(i, n, o), u(e)), !1);
            }
            const d = [],
              l = Object.assign(H, {
                defaultVisitor: c,
                convertValue: u,
                isVisitable: z
              });
            if (!W.isObject(e)) throw new TypeError("data must be an object");
            return (
              (function e(n, r) {
                if (!W.isUndefined(n)) {
                  if (-1 !== d.indexOf(n))
                    throw Error(
                      "Circular reference detected in " + r.join(".")
                    );
                  d.push(n),
                    W.forEach(n, function (n, o) {
                      !0 ===
                        (!(W.isUndefined(n) || null === n) &&
                          i.call(t, n, W.isString(o) ? o.trim() : o, r, l)) &&
                        e(n, r ? r.concat(o) : [o]);
                    }),
                    d.pop();
                }
              })(e),
              t
            );
          }
          function J(e) {
            const t = {
              "!": "%21",
              "'": "%27",
              "(": "%28",
              ")": "%29",
              "~": "%7E",
              "%20": "+",
              "%00": "\0"
            };
            return encodeURIComponent(e).replace(
              /[!'()~]|%20|%00/g,
              function (e) {
                return t[e];
              }
            );
          }
          function $(e, t) {
            (this._pairs = []), e && K(e, this, t);
          }
          const G = $.prototype;
          function Q(e) {
            return encodeURIComponent(e)
              .replace(/%3A/gi, ":")
              .replace(/%24/g, "$")
              .replace(/%2C/gi, ",")
              .replace(/%20/g, "+")
              .replace(/%5B/gi, "[")
              .replace(/%5D/gi, "]");
          }
          function Y(e, t, n) {
            if (!t) return e;
            const r = (n && n.encode) || Q,
              i = n && n.serialize;
            let o;
            if (
              ((o = i
                ? i(t, n)
                : W.isURLSearchParams(t)
                ? t.toString()
                : new $(t, n).toString(r)),
              o)
            ) {
              const t = e.indexOf("#");
              -1 !== t && (e = e.slice(0, t)),
                (e += (-1 === e.indexOf("?") ? "?" : "&") + o);
            }
            return e;
          }
          (G.append = function (e, t) {
            this._pairs.push([e, t]);
          }),
            (G.toString = function (e) {
              const t = e
                ? function (t) {
                    return e.call(this, t, J);
                  }
                : J;
              return this._pairs
                .map(function (e) {
                  return t(e[0]) + "=" + t(e[1]);
                }, "")
                .join("&");
            });
          const X = class {
              constructor() {
                this.handlers = [];
              }
              use(e, t, n) {
                return (
                  this.handlers.push({
                    fulfilled: e,
                    rejected: t,
                    synchronous: !!n && n.synchronous,
                    runWhen: n ? n.runWhen : null
                  }),
                  this.handlers.length - 1
                );
              }
              eject(e) {
                this.handlers[e] && (this.handlers[e] = null);
              }
              clear() {
                this.handlers && (this.handlers = []);
              }
              forEach(e) {
                W.forEach(this.handlers, function (t) {
                  null !== t && e(t);
                });
              }
            },
            Z = {
              silentJSONParsing: !0,
              forcedJSONParsing: !0,
              clarifyTimeoutError: !1
            },
            ee = typeof URLSearchParams < "u" ? URLSearchParams : $,
            te = typeof FormData < "u" ? FormData : null,
            ne = typeof Blob < "u" ? Blob : null,
            re = (() => {
              let e;
              return (
                (!(typeof navigator < "u") ||
                  ("ReactNative" !== (e = navigator.product) &&
                    "NativeScript" !== e &&
                    "NS" !== e)) &&
                typeof window < "u" &&
                typeof document < "u"
              );
            })(),
            ie = {
              isBrowser: !0,
              classes: { URLSearchParams: ee, FormData: te, Blob: ne },
              isStandardBrowserEnv: re,
              isStandardBrowserWebWorkerEnv:
                typeof WorkerGlobalScope < "u" &&
                self instanceof WorkerGlobalScope &&
                "function" == typeof self.importScripts,
              protocols: ["http", "https", "file", "blob", "url", "data"]
            };
          function oe(e) {
            function t(e, n, r, i) {
              let o = e[i++];
              const a = Number.isFinite(+o),
                s = i >= e.length;
              return (
                (o = !o && W.isArray(r) ? r.length : o),
                s
                  ? (W.hasOwnProp(r, o) ? (r[o] = [r[o], n]) : (r[o] = n), !a)
                  : ((!r[o] || !W.isObject(r[o])) && (r[o] = []),
                    t(e, n, r[o], i) &&
                      W.isArray(r[o]) &&
                      (r[o] = (function (e) {
                        const t = {},
                          n = Object.keys(e);
                        let r;
                        const i = n.length;
                        let o;
                        for (r = 0; r < i; r++) (o = n[r]), (t[o] = e[o]);
                        return t;
                      })(r[o])),
                    !a)
              );
            }
            if (W.isFormData(e) && W.isFunction(e.entries)) {
              const n = {};
              return (
                W.forEachEntry(e, (e, r) => {
                  t(
                    (function (e) {
                      return W.matchAll(/\w+|\[(\w*)]/g, e).map((e) =>
                        "[]" === e[0] ? "" : e[1] || e[0]
                      );
                    })(e),
                    r,
                    n,
                    0
                  );
                }),
                n
              );
            }
            return null;
          }
          const ae = {
            transitional: Z,
            adapter: ie.isNode ? "http" : "xhr",
            transformRequest: [
              function (e, t) {
                const n = t.getContentType() || "",
                  r = n.indexOf("application/json") > -1,
                  i = W.isObject(e);
                if (
                  (i && W.isHTMLForm(e) && (e = new FormData(e)),
                  W.isFormData(e))
                )
                  return r && r ? JSON.stringify(oe(e)) : e;
                if (
                  W.isArrayBuffer(e) ||
                  W.isBuffer(e) ||
                  W.isStream(e) ||
                  W.isFile(e) ||
                  W.isBlob(e)
                )
                  return e;
                if (W.isArrayBufferView(e)) return e.buffer;
                if (W.isURLSearchParams(e))
                  return (
                    t.setContentType(
                      "application/x-www-form-urlencoded;charset=utf-8",
                      !1
                    ),
                    e.toString()
                  );
                let o;
                if (i) {
                  if (n.indexOf("application/x-www-form-urlencoded") > -1)
                    return (function (e, t) {
                      return K(
                        e,
                        new ie.classes.URLSearchParams(),
                        Object.assign(
                          {
                            visitor: function (e, t, n, r) {
                              return ie.isNode && W.isBuffer(e)
                                ? (this.append(t, e.toString("base64")), !1)
                                : r.defaultVisitor.apply(this, arguments);
                            }
                          },
                          t
                        )
                      );
                    })(e, this.formSerializer).toString();
                  if (
                    (o = W.isFileList(e)) ||
                    n.indexOf("multipart/form-data") > -1
                  ) {
                    const t = this.env && this.env.FormData;
                    return K(
                      o ? { "files[]": e } : e,
                      t && new t(),
                      this.formSerializer
                    );
                  }
                }
                return i || r
                  ? (t.setContentType("application/json", !1),
                    (function (e, t, n) {
                      if (W.isString(e))
                        try {
                          return (0, JSON.parse)(e), W.trim(e);
                        } catch (e) {
                          if ("SyntaxError" !== e.name) throw e;
                        }
                      return (0, JSON.stringify)(e);
                    })(e))
                  : e;
              }
            ],
            transformResponse: [
              function (e) {
                const t = this.transitional || ae.transitional,
                  n = t && t.forcedJSONParsing,
                  r = "json" === this.responseType;
                if (e && W.isString(e) && ((n && !this.responseType) || r)) {
                  const n = !(t && t.silentJSONParsing) && r;
                  try {
                    return JSON.parse(e);
                  } catch (e) {
                    if (n)
                      throw "SyntaxError" === e.name
                        ? B.from(
                            e,
                            B.ERR_BAD_RESPONSE,
                            this,
                            null,
                            this.response
                          )
                        : e;
                  }
                }
                return e;
              }
            ],
            timeout: 0,
            xsrfCookieName: "XSRF-TOKEN",
            xsrfHeaderName: "X-XSRF-TOKEN",
            maxContentLength: -1,
            maxBodyLength: -1,
            env: { FormData: ie.classes.FormData, Blob: ie.classes.Blob },
            validateStatus: function (e) {
              return e >= 200 && e < 300;
            },
            headers: {
              common: {
                Accept: "application/json, text/plain, */*",
                "Content-Type": void 0
              }
            }
          };
          W.forEach(["delete", "get", "head", "post", "put", "patch"], (e) => {
            ae.headers[e] = {};
          });
          const se = ae,
            ue = W.toObjectSet([
              "age",
              "authorization",
              "content-length",
              "content-type",
              "etag",
              "expires",
              "from",
              "host",
              "if-modified-since",
              "if-unmodified-since",
              "last-modified",
              "location",
              "max-forwards",
              "proxy-authorization",
              "referer",
              "retry-after",
              "user-agent"
            ]),
            ce = Symbol("internals");
          function de(e) {
            return e && String(e).trim().toLowerCase();
          }
          function le(e) {
            return !1 === e || null == e
              ? e
              : W.isArray(e)
              ? e.map(le)
              : String(e);
          }
          function fe(e, t, n, r, i) {
            if (W.isFunction(r)) return r.call(this, t, n);
            if ((i && (t = n), W.isString(t))) {
              if (W.isString(r)) return -1 !== t.indexOf(r);
              if (W.isRegExp(r)) return r.test(t);
            }
          }
          let he = class {
            constructor(e) {
              e && this.set(e);
            }
            set(e, t, n) {
              const r = this;
              function i(e, t, n) {
                const i = de(t);
                if (!i)
                  throw new Error("header name must be a non-empty string");
                const o = W.findKey(r, i);
                (!o ||
                  void 0 === r[o] ||
                  !0 === n ||
                  (void 0 === n && !1 !== r[o])) &&
                  (r[o || t] = le(e));
              }
              const o = (e, t) => W.forEach(e, (e, n) => i(e, n, t));
              return (
                W.isPlainObject(e) || e instanceof this.constructor
                  ? o(e, t)
                  : W.isString(e) &&
                    (e = e.trim()) &&
                    !((e) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e)
                  ? o(
                      ((e) => {
                        const t = {};
                        let n, r, i;
                        return (
                          e &&
                            e.split("\n").forEach(function (e) {
                              (i = e.indexOf(":")),
                                (n = e.substring(0, i).trim().toLowerCase()),
                                (r = e.substring(i + 1).trim()),
                                !(!n || (t[n] && ue[n])) &&
                                  ("set-cookie" === n
                                    ? t[n]
                                      ? t[n].push(r)
                                      : (t[n] = [r])
                                    : (t[n] = t[n] ? t[n] + ", " + r : r));
                            }),
                          t
                        );
                      })(e),
                      t
                    )
                  : null != e && i(t, e, n),
                this
              );
            }
            get(e, t) {
              if ((e = de(e))) {
                const n = W.findKey(this, e);
                if (n) {
                  const e = this[n];
                  if (!t) return e;
                  if (!0 === t)
                    return (function (e) {
                      const t = Object.create(null),
                        n = /([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;
                      let r;
                      for (; (r = n.exec(e)); ) t[r[1]] = r[2];
                      return t;
                    })(e);
                  if (W.isFunction(t)) return t.call(this, e, n);
                  if (W.isRegExp(t)) return t.exec(e);
                  throw new TypeError("parser must be boolean|regexp|function");
                }
              }
            }
            has(e, t) {
              if ((e = de(e))) {
                const n = W.findKey(this, e);
                return !(
                  !n ||
                  void 0 === this[n] ||
                  (t && !fe(0, this[n], n, t))
                );
              }
              return !1;
            }
            delete(e, t) {
              const n = this;
              let r = !1;
              function i(e) {
                if ((e = de(e))) {
                  const i = W.findKey(n, e);
                  i && (!t || fe(0, n[i], i, t)) && (delete n[i], (r = !0));
                }
              }
              return W.isArray(e) ? e.forEach(i) : i(e), r;
            }
            clear(e) {
              const t = Object.keys(this);
              let n = t.length,
                r = !1;
              for (; n--; ) {
                const i = t[n];
                (!e || fe(0, this[i], i, e, !0)) && (delete this[i], (r = !0));
              }
              return r;
            }
            normalize(e) {
              const t = this,
                n = {};
              return (
                W.forEach(this, (r, i) => {
                  const o = W.findKey(n, i);
                  if (o) return (t[o] = le(r)), void delete t[i];
                  const a = e
                    ? (function (e) {
                        return e
                          .trim()
                          .toLowerCase()
                          .replace(
                            /([a-z\d])(\w*)/g,
                            (e, t, n) => t.toUpperCase() + n
                          );
                      })(i)
                    : String(i).trim();
                  a !== i && delete t[i], (t[a] = le(r)), (n[a] = !0);
                }),
                this
              );
            }
            concat(...e) {
              return this.constructor.concat(this, ...e);
            }
            toJSON(e) {
              const t = Object.create(null);
              return (
                W.forEach(this, (n, r) => {
                  null != n &&
                    !1 !== n &&
                    (t[r] = e && W.isArray(n) ? n.join(", ") : n);
                }),
                t
              );
            }
            [Symbol.iterator]() {
              return Object.entries(this.toJSON())[Symbol.iterator]();
            }
            toString() {
              return Object.entries(this.toJSON())
                .map(([e, t]) => e + ": " + t)
                .join("\n");
            }
            get [Symbol.toStringTag]() {
              return "AxiosHeaders";
            }
            static from(e) {
              return e instanceof this ? e : new this(e);
            }
            static concat(e, ...t) {
              const n = new this(e);
              return t.forEach((e) => n.set(e)), n;
            }
            static accessor(e) {
              const t = (this[ce] = this[ce] = { accessors: {} }).accessors,
                n = this.prototype;
              function r(e) {
                const r = de(e);
                t[r] ||
                  ((function (e, t) {
                    const n = W.toCamelCase(" " + t);
                    ["get", "set", "has"].forEach((r) => {
                      Object.defineProperty(e, r + n, {
                        value: function (e, n, i) {
                          return this[r].call(this, t, e, n, i);
                        },
                        configurable: !0
                      });
                    });
                  })(n, e),
                  (t[r] = !0));
              }
              return W.isArray(e) ? e.forEach(r) : r(e), this;
            }
          };
          he.accessor([
            "Content-Type",
            "Content-Length",
            "Accept",
            "Accept-Encoding",
            "User-Agent",
            "Authorization"
          ]),
            W.reduceDescriptors(he.prototype, ({ value: e }, t) => {
              let n = t[0].toUpperCase() + t.slice(1);
              return {
                get: () => e,
                set(e) {
                  this[n] = e;
                }
              };
            }),
            W.freezeMethods(he);
          const pe = he;
          function ye(e, t) {
            const n = this || se,
              r = t || n,
              i = pe.from(r.headers);
            let o = r.data;
            return (
              W.forEach(e, function (e) {
                o = e.call(n, o, i.normalize(), t ? t.status : void 0);
              }),
              i.normalize(),
              o
            );
          }
          function we(e) {
            return !(!e || !e.__CANCEL__);
          }
          function ve(e, t, n) {
            B.call(this, e ?? "canceled", B.ERR_CANCELED, t, n),
              (this.name = "CanceledError");
          }
          W.inherits(ve, B, { __CANCEL__: !0 });
          const ge = ie.isStandardBrowserEnv
            ? {
                write: function (e, t, n, r, i, o) {
                  const a = [];
                  a.push(e + "=" + encodeURIComponent(t)),
                    W.isNumber(n) &&
                      a.push("expires=" + new Date(n).toGMTString()),
                    W.isString(r) && a.push("path=" + r),
                    W.isString(i) && a.push("domain=" + i),
                    !0 === o && a.push("secure"),
                    (document.cookie = a.join("; "));
                },
                read: function (e) {
                  const t = document.cookie.match(
                    new RegExp("(^|;\\s*)(" + e + ")=([^;]*)")
                  );
                  return t ? decodeURIComponent(t[3]) : null;
                },
                remove: function (e) {
                  this.write(e, "", Date.now() - 864e5);
                }
              }
            : {
                write: function () {},
                read: function () {
                  return null;
                },
                remove: function () {}
              };
          function me(e, t) {
            return e &&
              !(function (e) {
                return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);
              })(t)
              ? (function (e, t) {
                  return t
                    ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "")
                    : e;
                })(e, t)
              : t;
          }
          const be = ie.isStandardBrowserEnv
            ? (function () {
                const e = /(msie|trident)/i.test(navigator.userAgent),
                  t = document.createElement("a");
                let n;
                function r(n) {
                  let r = n;
                  return (
                    e && (t.setAttribute("href", r), (r = t.href)),
                    t.setAttribute("href", r),
                    {
                      href: t.href,
                      protocol: t.protocol ? t.protocol.replace(/:$/, "") : "",
                      host: t.host,
                      search: t.search ? t.search.replace(/^\?/, "") : "",
                      hash: t.hash ? t.hash.replace(/^#/, "") : "",
                      hostname: t.hostname,
                      port: t.port,
                      pathname:
                        "/" === t.pathname.charAt(0)
                          ? t.pathname
                          : "/" + t.pathname
                    }
                  );
                }
                return (
                  (n = r(window.location.href)),
                  function (e) {
                    const t = W.isString(e) ? r(e) : e;
                    return t.protocol === n.protocol && t.host === n.host;
                  }
                );
              })()
            : function () {
                return !0;
              };
          function Ee(e, t) {
            let n = 0;
            const r = (function (e, t) {
              e = e || 10;
              const n = new Array(e),
                r = new Array(e);
              let i,
                o = 0,
                a = 0;
              return (
                (t = void 0 !== t ? t : 1e3),
                function (s) {
                  const u = Date.now(),
                    c = r[a];
                  i || (i = u), (n[o] = s), (r[o] = u);
                  let d = a,
                    l = 0;
                  for (; d !== o; ) (l += n[d++]), (d %= e);
                  if (
                    ((o = (o + 1) % e), o === a && (a = (a + 1) % e), u - i < t)
                  )
                    return;
                  const f = c && u - c;
                  return f ? Math.round((1e3 * l) / f) : void 0;
                }
              );
            })(50, 250);
            return (i) => {
              const o = i.loaded,
                a = i.lengthComputable ? i.total : void 0,
                s = o - n,
                u = r(s);
              n = o;
              const c = {
                loaded: o,
                total: a,
                progress: a ? o / a : void 0,
                bytes: s,
                rate: u || void 0,
                estimated: u && a && o <= a ? (a - o) / u : void 0,
                event: i
              };
              (c[t ? "download" : "upload"] = !0), e(c);
            };
          }
          const _e =
              typeof XMLHttpRequest < "u" &&
              function (e) {
                return new Promise(function (t, n) {
                  let r = e.data;
                  const i = pe.from(e.headers).normalize(),
                    o = e.responseType;
                  let a;
                  function s() {
                    e.cancelToken && e.cancelToken.unsubscribe(a),
                      e.signal && e.signal.removeEventListener("abort", a);
                  }
                  W.isFormData(r) &&
                    (ie.isStandardBrowserEnv || ie.isStandardBrowserWebWorkerEnv
                      ? i.setContentType(!1)
                      : i.setContentType("multipart/form-data;", !1));
                  let u = new XMLHttpRequest();
                  if (e.auth) {
                    const t = e.auth.username || "",
                      n = e.auth.password
                        ? unescape(encodeURIComponent(e.auth.password))
                        : "";
                    i.set("Authorization", "Basic " + btoa(t + ":" + n));
                  }
                  const c = me(e.baseURL, e.url);
                  function d() {
                    if (!u) return;
                    const r = pe.from(
                      "getAllResponseHeaders" in u && u.getAllResponseHeaders()
                    );
                    (function (e, t, n) {
                      const r = n.config.validateStatus;
                      n.status && r && !r(n.status)
                        ? t(
                            new B(
                              "Request failed with status code " + n.status,
                              [B.ERR_BAD_REQUEST, B.ERR_BAD_RESPONSE][
                                Math.floor(n.status / 100) - 4
                              ],
                              n.config,
                              n.request,
                              n
                            )
                          )
                        : e(n);
                    })(
                      function (e) {
                        t(e), s();
                      },
                      function (e) {
                        n(e), s();
                      },
                      {
                        data:
                          o && "text" !== o && "json" !== o
                            ? u.response
                            : u.responseText,
                        status: u.status,
                        statusText: u.statusText,
                        headers: r,
                        config: e,
                        request: u
                      }
                    ),
                      (u = null);
                  }
                  if (
                    (u.open(
                      e.method.toUpperCase(),
                      Y(c, e.params, e.paramsSerializer),
                      !0
                    ),
                    (u.timeout = e.timeout),
                    "onloadend" in u
                      ? (u.onloadend = d)
                      : (u.onreadystatechange = function () {
                          !u ||
                            4 !== u.readyState ||
                            (0 === u.status &&
                              (!u.responseURL ||
                                0 !== u.responseURL.indexOf("file:"))) ||
                            setTimeout(d);
                        }),
                    (u.onabort = function () {
                      u &&
                        (n(new B("Request aborted", B.ECONNABORTED, e, u)),
                        (u = null));
                    }),
                    (u.onerror = function () {
                      n(new B("Network Error", B.ERR_NETWORK, e, u)),
                        (u = null);
                    }),
                    (u.ontimeout = function () {
                      let t = e.timeout
                        ? "timeout of " + e.timeout + "ms exceeded"
                        : "timeout exceeded";
                      const r = e.transitional || Z;
                      e.timeoutErrorMessage && (t = e.timeoutErrorMessage),
                        n(
                          new B(
                            t,
                            r.clarifyTimeoutError
                              ? B.ETIMEDOUT
                              : B.ECONNABORTED,
                            e,
                            u
                          )
                        ),
                        (u = null);
                    }),
                    ie.isStandardBrowserEnv)
                  ) {
                    const t =
                      (e.withCredentials || be(c)) &&
                      e.xsrfCookieName &&
                      ge.read(e.xsrfCookieName);
                    t && i.set(e.xsrfHeaderName, t);
                  }
                  void 0 === r && i.setContentType(null),
                    "setRequestHeader" in u &&
                      W.forEach(i.toJSON(), function (e, t) {
                        u.setRequestHeader(t, e);
                      }),
                    W.isUndefined(e.withCredentials) ||
                      (u.withCredentials = !!e.withCredentials),
                    o && "json" !== o && (u.responseType = e.responseType),
                    "function" == typeof e.onDownloadProgress &&
                      u.addEventListener(
                        "progress",
                        Ee(e.onDownloadProgress, !0)
                      ),
                    "function" == typeof e.onUploadProgress &&
                      u.upload &&
                      u.upload.addEventListener(
                        "progress",
                        Ee(e.onUploadProgress)
                      ),
                    (e.cancelToken || e.signal) &&
                      ((a = (t) => {
                        u &&
                          (n(!t || t.type ? new ve(null, e, u) : t),
                          u.abort(),
                          (u = null));
                      }),
                      e.cancelToken && e.cancelToken.subscribe(a),
                      e.signal &&
                        (e.signal.aborted
                          ? a()
                          : e.signal.addEventListener("abort", a)));
                  const l = (function (e) {
                    const t = /^([-+\w]{1,25})(:?\/\/|:)/.exec(e);
                    return (t && t[1]) || "";
                  })(c);
                  l && -1 === ie.protocols.indexOf(l)
                    ? n(
                        new B(
                          "Unsupported protocol " + l + ":",
                          B.ERR_BAD_REQUEST,
                          e
                        )
                      )
                    : u.send(r || null);
                });
              },
            Se = { http: null, xhr: _e };
          W.forEach(Se, (e, t) => {
            if (e) {
              try {
                Object.defineProperty(e, "name", { value: t });
              } catch {}
              Object.defineProperty(e, "adapterName", { value: t });
            }
          });
          const xe = (e) => {
            e = W.isArray(e) ? e : [e];
            const { length: t } = e;
            let n, r;
            for (
              let i = 0;
              i < t &&
              ((n = e[i]), !(r = W.isString(n) ? Se[n.toLowerCase()] : n));
              i++
            );
            if (!r)
              throw !1 === r
                ? new B(
                    `Adapter ${n} is not supported by the environment`,
                    "ERR_NOT_SUPPORT"
                  )
                : new Error(
                    W.hasOwnProp(Se, n)
                      ? `Adapter '${n}' is not available in the build`
                      : `Unknown adapter '${n}'`
                  );
            if (!W.isFunction(r))
              throw new TypeError("adapter is not a function");
            return r;
          };
          function Oe(e) {
            if (
              (e.cancelToken && e.cancelToken.throwIfRequested(),
              e.signal && e.signal.aborted)
            )
              throw new ve(null, e);
          }
          function Pe(e) {
            return (
              Oe(e),
              (e.headers = pe.from(e.headers)),
              (e.data = ye.call(e, e.transformRequest)),
              -1 !== ["post", "put", "patch"].indexOf(e.method) &&
                e.headers.setContentType(
                  "application/x-www-form-urlencoded",
                  !1
                ),
              xe(e.adapter || se.adapter)(e).then(
                function (t) {
                  return (
                    Oe(e),
                    (t.data = ye.call(e, e.transformResponse, t)),
                    (t.headers = pe.from(t.headers)),
                    t
                  );
                },
                function (t) {
                  return (
                    we(t) ||
                      (Oe(e),
                      t &&
                        t.response &&
                        ((t.response.data = ye.call(
                          e,
                          e.transformResponse,
                          t.response
                        )),
                        (t.response.headers = pe.from(t.response.headers)))),
                    Promise.reject(t)
                  );
                }
              )
            );
          }
          const Ae = (e) => (e instanceof pe ? e.toJSON() : e);
          function Ce(e, t) {
            t = t || {};
            const n = {};
            function r(e, t, n) {
              return W.isPlainObject(e) && W.isPlainObject(t)
                ? W.merge.call({ caseless: n }, e, t)
                : W.isPlainObject(t)
                ? W.merge({}, t)
                : W.isArray(t)
                ? t.slice()
                : t;
            }
            function i(e, t, n) {
              return W.isUndefined(t)
                ? W.isUndefined(e)
                  ? void 0
                  : r(void 0, e, n)
                : r(e, t, n);
            }
            function o(e, t) {
              if (!W.isUndefined(t)) return r(void 0, t);
            }
            function a(e, t) {
              return W.isUndefined(t)
                ? W.isUndefined(e)
                  ? void 0
                  : r(void 0, e)
                : r(void 0, t);
            }
            function s(n, i, o) {
              return o in t ? r(n, i) : o in e ? r(void 0, n) : void 0;
            }
            const u = {
              url: o,
              method: o,
              data: o,
              baseURL: a,
              transformRequest: a,
              transformResponse: a,
              paramsSerializer: a,
              timeout: a,
              timeoutMessage: a,
              withCredentials: a,
              adapter: a,
              responseType: a,
              xsrfCookieName: a,
              xsrfHeaderName: a,
              onUploadProgress: a,
              onDownloadProgress: a,
              decompress: a,
              maxContentLength: a,
              maxBodyLength: a,
              beforeRedirect: a,
              transport: a,
              httpAgent: a,
              httpsAgent: a,
              cancelToken: a,
              socketPath: a,
              responseEncoding: a,
              validateStatus: s,
              headers: (e, t) => i(Ae(e), Ae(t), !0)
            };
            return (
              W.forEach(Object.keys(Object.assign({}, e, t)), function (r) {
                const o = u[r] || i,
                  a = o(e[r], t[r], r);
                (W.isUndefined(a) && o !== s) || (n[r] = a);
              }),
              n
            );
          }
          const Te = {};
          [
            "object",
            "boolean",
            "number",
            "function",
            "string",
            "symbol"
          ].forEach((e, t) => {
            Te[e] = function (n) {
              return typeof n === e || "a" + (t < 1 ? "n " : " ") + e;
            };
          });
          const Re = {};
          Te.transitional = function (e, t, n) {
            function r(e, t) {
              return (
                "[Axios v1.5.0] Transitional option '" +
                e +
                "'" +
                t +
                (n ? ". " + n : "")
              );
            }
            return (n, i, o) => {
              if (!1 === e)
                throw new B(
                  r(i, " has been removed" + (t ? " in " + t : "")),
                  B.ERR_DEPRECATED
                );
              return (
                t &&
                  !Re[i] &&
                  ((Re[i] = !0),
                  console.warn(
                    r(
                      i,
                      " has been deprecated since v" +
                        t +
                        " and will be removed in the near future"
                    )
                  )),
                !e || e(n, i, o)
              );
            };
          };
          const De = {
              assertOptions: function (e, t, n) {
                if ("object" != typeof e)
                  throw new B(
                    "options must be an object",
                    B.ERR_BAD_OPTION_VALUE
                  );
                const r = Object.keys(e);
                let i = r.length;
                for (; i-- > 0; ) {
                  const o = r[i],
                    a = t[o];
                  if (a) {
                    const t = e[o],
                      n = void 0 === t || a(t, o, e);
                    if (!0 !== n)
                      throw new B(
                        "option " + o + " must be " + n,
                        B.ERR_BAD_OPTION_VALUE
                      );
                  } else if (!0 !== n)
                    throw new B("Unknown option " + o, B.ERR_BAD_OPTION);
                }
              },
              validators: Te
            },
            ke = De.validators;
          let Ie = class {
            constructor(e) {
              (this.defaults = e),
                (this.interceptors = { request: new X(), response: new X() });
            }
            request(e, t) {
              "string" == typeof e ? ((t = t || {}).url = e) : (t = e || {}),
                (t = Ce(this.defaults, t));
              const { transitional: n, paramsSerializer: r, headers: i } = t;
              void 0 !== n &&
                De.assertOptions(
                  n,
                  {
                    silentJSONParsing: ke.transitional(ke.boolean),
                    forcedJSONParsing: ke.transitional(ke.boolean),
                    clarifyTimeoutError: ke.transitional(ke.boolean)
                  },
                  !1
                ),
                null != r &&
                  (W.isFunction(r)
                    ? (t.paramsSerializer = { serialize: r })
                    : De.assertOptions(
                        r,
                        { encode: ke.function, serialize: ke.function },
                        !0
                      )),
                (t.method = (
                  t.method ||
                  this.defaults.method ||
                  "get"
                ).toLowerCase());
              let o = i && W.merge(i.common, i[t.method]);
              i &&
                W.forEach(
                  ["delete", "get", "head", "post", "put", "patch", "common"],
                  (e) => {
                    delete i[e];
                  }
                ),
                (t.headers = pe.concat(o, i));
              const a = [];
              let s = !0;
              this.interceptors.request.forEach(function (e) {
                ("function" == typeof e.runWhen && !1 === e.runWhen(t)) ||
                  ((s = s && e.synchronous),
                  a.unshift(e.fulfilled, e.rejected));
              });
              const u = [];
              this.interceptors.response.forEach(function (e) {
                u.push(e.fulfilled, e.rejected);
              });
              let c,
                d,
                l = 0;
              if (!s) {
                const e = [Pe.bind(this), void 0];
                for (
                  e.unshift.apply(e, a),
                    e.push.apply(e, u),
                    d = e.length,
                    c = Promise.resolve(t);
                  l < d;

                )
                  c = c.then(e[l++], e[l++]);
                return c;
              }
              d = a.length;
              let f = t;
              for (l = 0; l < d; ) {
                const e = a[l++],
                  t = a[l++];
                try {
                  f = e(f);
                } catch (e) {
                  t.call(this, e);
                  break;
                }
              }
              try {
                c = Pe.call(this, f);
              } catch (e) {
                return Promise.reject(e);
              }
              for (l = 0, d = u.length; l < d; ) c = c.then(u[l++], u[l++]);
              return c;
            }
            getUri(e) {
              return Y(
                me((e = Ce(this.defaults, e)).baseURL, e.url),
                e.params,
                e.paramsSerializer
              );
            }
          };
          W.forEach(["delete", "get", "head", "options"], function (e) {
            Ie.prototype[e] = function (t, n) {
              return this.request(
                Ce(n || {}, { method: e, url: t, data: (n || {}).data })
              );
            };
          }),
            W.forEach(["post", "put", "patch"], function (e) {
              function t(t) {
                return function (n, r, i) {
                  return this.request(
                    Ce(i || {}, {
                      method: e,
                      headers: t
                        ? { "Content-Type": "multipart/form-data" }
                        : {},
                      url: n,
                      data: r
                    })
                  );
                };
              }
              (Ie.prototype[e] = t()), (Ie.prototype[e + "Form"] = t(!0));
            });
          const Ne = Ie,
            je = {
              Continue: 100,
              SwitchingProtocols: 101,
              Processing: 102,
              EarlyHints: 103,
              Ok: 200,
              Created: 201,
              Accepted: 202,
              NonAuthoritativeInformation: 203,
              NoContent: 204,
              ResetContent: 205,
              PartialContent: 206,
              MultiStatus: 207,
              AlreadyReported: 208,
              ImUsed: 226,
              MultipleChoices: 300,
              MovedPermanently: 301,
              Found: 302,
              SeeOther: 303,
              NotModified: 304,
              UseProxy: 305,
              Unused: 306,
              TemporaryRedirect: 307,
              PermanentRedirect: 308,
              BadRequest: 400,
              Unauthorized: 401,
              PaymentRequired: 402,
              Forbidden: 403,
              NotFound: 404,
              MethodNotAllowed: 405,
              NotAcceptable: 406,
              ProxyAuthenticationRequired: 407,
              RequestTimeout: 408,
              Conflict: 409,
              Gone: 410,
              LengthRequired: 411,
              PreconditionFailed: 412,
              PayloadTooLarge: 413,
              UriTooLong: 414,
              UnsupportedMediaType: 415,
              RangeNotSatisfiable: 416,
              ExpectationFailed: 417,
              ImATeapot: 418,
              MisdirectedRequest: 421,
              UnprocessableEntity: 422,
              Locked: 423,
              FailedDependency: 424,
              TooEarly: 425,
              UpgradeRequired: 426,
              PreconditionRequired: 428,
              TooManyRequests: 429,
              RequestHeaderFieldsTooLarge: 431,
              UnavailableForLegalReasons: 451,
              InternalServerError: 500,
              NotImplemented: 501,
              BadGateway: 502,
              ServiceUnavailable: 503,
              GatewayTimeout: 504,
              HttpVersionNotSupported: 505,
              VariantAlsoNegotiates: 506,
              InsufficientStorage: 507,
              LoopDetected: 508,
              NotExtended: 510,
              NetworkAuthenticationRequired: 511
            };
          Object.entries(je).forEach(([e, t]) => {
            je[t] = e;
          });
          const Fe = je,
            Me = (function e(t) {
              const n = new Ne(t),
                r = o(Ne.prototype.request, n);
              return (
                W.extend(r, Ne.prototype, n, { allOwnKeys: !0 }),
                W.extend(r, n, null, { allOwnKeys: !0 }),
                (r.create = function (n) {
                  return e(Ce(t, n));
                }),
                r
              );
            })(se);
          (Me.Axios = Ne),
            (Me.CanceledError = ve),
            (Me.CancelToken = class e {
              constructor(e) {
                if ("function" != typeof e)
                  throw new TypeError("executor must be a function.");
                let t;
                this.promise = new Promise(function (e) {
                  t = e;
                });
                const n = this;
                this.promise.then((e) => {
                  if (!n._listeners) return;
                  let t = n._listeners.length;
                  for (; t-- > 0; ) n._listeners[t](e);
                  n._listeners = null;
                }),
                  (this.promise.then = (e) => {
                    let t;
                    const r = new Promise((e) => {
                      n.subscribe(e), (t = e);
                    }).then(e);
                    return (
                      (r.cancel = function () {
                        n.unsubscribe(t);
                      }),
                      r
                    );
                  }),
                  e(function (e, r, i) {
                    n.reason || ((n.reason = new ve(e, r, i)), t(n.reason));
                  });
              }
              throwIfRequested() {
                if (this.reason) throw this.reason;
              }
              subscribe(e) {
                this.reason
                  ? e(this.reason)
                  : this._listeners
                  ? this._listeners.push(e)
                  : (this._listeners = [e]);
              }
              unsubscribe(e) {
                if (!this._listeners) return;
                const t = this._listeners.indexOf(e);
                -1 !== t && this._listeners.splice(t, 1);
              }
              static source() {
                let t;
                return {
                  token: new e(function (e) {
                    t = e;
                  }),
                  cancel: t
                };
              }
            }),
            (Me.isCancel = we),
            (Me.VERSION = "1.5.0"),
            (Me.toFormData = K),
            (Me.AxiosError = B),
            (Me.Cancel = Me.CanceledError),
            (Me.all = function (e) {
              return Promise.all(e);
            }),
            (Me.spread = function (e) {
              return function (t) {
                return e.apply(null, t);
              };
            }),
            (Me.isAxiosError = function (e) {
              return W.isObject(e) && !0 === e.isAxiosError;
            }),
            (Me.mergeConfig = Ce),
            (Me.AxiosHeaders = pe),
            (Me.formToJSON = (e) => oe(W.isHTMLForm(e) ? new FormData(e) : e)),
            (Me.getAdapter = xe),
            (Me.HttpStatusCode = Fe),
            (Me.default = Me);
          const We = Me,
            {
              Axios: Be,
              AxiosError: Ve,
              CanceledError: Ue,
              isCancel: ze,
              CancelToken: Le,
              VERSION: qe,
              all: He,
              Cancel: Ke,
              isAxiosError: Je,
              spread: $e,
              toFormData: Ge,
              AxiosHeaders: Qe,
              HttpStatusCode: Ye,
              formToJSON: Xe,
              getAdapter: Ze,
              mergeConfig: et
            } = We;
          class tt extends Error {
            constructor(e, t = null) {
              super(e.code),
                i(this, "code"),
                i(this, "message"),
                i(this, "detail"),
                (this.code = e.code),
                (this.message = e.message),
                (this.detail = t),
                Object.setPrototypeOf(this, tt.prototype);
            }
          }
          class nt {}
          i(nt, "validErrors", (e, t) =>
            e instanceof Ve
              ? Promise.reject(new tt(t, e.message))
              : e instanceof tt
              ? Promise.reject(e)
              : e instanceof Error
              ? Promise.reject(new tt(t, e.message))
              : Promise.reject(new tt(t))
          ),
            (t.ERRORS = {
              E001: { code: "E001", message: "Error en solicitud de bin" },
              E002: { code: "E002", message: "Error en solicitud de token" },
              E003: {
                code: "E003",
                message: "Error en solicitud de datos del comercio"
              },
              E004: { code: "E004", message: "Error en solicitud de JWT" },
              E005: { code: "E005", message: "Campos 3DS invlidos" },
              E006: {
                code: "E006",
                message: "Error en solicitud de validacin de token"
              },
              E007: {
                code: "E007",
                message: "Error en la validacin del formulario"
              },
              E008: { code: "E008", message: "Error en la validacin de OTP" },
              E009: { code: "E009", message: "Error al limpiar el campo" },
              E010: {
                code: "E010",
                message: "Error al realizar focus en el campo"
              },
              E011: {
                code: "E011",
                message: "Error en inicializacion de la libreria"
              },
              E012: {
                code: "E012",
                message: "Error en inicializacin de campos"
              }
            }),
            (t.KushkiError = tt),
            (t.UtilsProvider = nt),
            (t.axios = We);
        },
        404: (e, t, n) => {
          var r = Object.defineProperty,
            i = (e, t, n) => (
              ((e, t, n) => {
                t in e
                  ? r(e, t, {
                      enumerable: !0,
                      configurable: !0,
                      writable: !0,
                      value: n
                    })
                  : (e[t] = n);
              })(e, "symbol" != typeof t ? t + "" : t, n),
              n
            );
          Object.defineProperty(t, Symbol.toStringTag, { value: "Module" });
          const o = n(160);
          var a,
            s,
            u =
              typeof globalThis < "u"
                ? globalThis
                : typeof window < "u"
                ? window
                : typeof n.g < "u"
                ? n.g
                : typeof self < "u"
                ? self
                : {};
          (s = a || (a = {})),
            (function (e) {
              var t =
                  "object" == typeof u
                    ? u
                    : "object" == typeof self
                    ? self
                    : "object" == typeof this
                    ? this
                    : Function("return this;")(),
                n = r(s);
              function r(e, t) {
                return function (n, r) {
                  "function" != typeof e[n] &&
                    Object.defineProperty(e, n, {
                      configurable: !0,
                      writable: !0,
                      value: r
                    }),
                    t && t(n, r);
                };
              }
              typeof t.Reflect > "u" ? (t.Reflect = s) : (n = r(t.Reflect, n)),
                (function (e) {
                  var t = Object.prototype.hasOwnProperty,
                    n = "function" == typeof Symbol,
                    r =
                      n && typeof Symbol.toPrimitive < "u"
                        ? Symbol.toPrimitive
                        : "@@toPrimitive",
                    i =
                      n && typeof Symbol.iterator < "u"
                        ? Symbol.iterator
                        : "@@iterator",
                    o = "function" == typeof Object.create,
                    a = { __proto__: [] } instanceof Array,
                    s = !o && !a,
                    u = {
                      create: o
                        ? function () {
                            return F(Object.create(null));
                          }
                        : a
                        ? function () {
                            return F({ __proto__: null });
                          }
                        : function () {
                            return F({});
                          },
                      has: s
                        ? function (e, n) {
                            return t.call(e, n);
                          }
                        : function (e, t) {
                            return t in e;
                          },
                      get: s
                        ? function (e, n) {
                            return t.call(e, n) ? e[n] : void 0;
                          }
                        : function (e, t) {
                            return e[t];
                          }
                    },
                    c = Object.getPrototypeOf(Function),
                    d =
                      "object" == typeof process &&
                      process.env &&
                      "true" === process.env.REFLECT_METADATA_USE_MAP_POLYFILL,
                    l =
                      d ||
                      "function" != typeof Map ||
                      "function" != typeof Map.prototype.entries
                        ? (function () {
                            var e = {},
                              t = [],
                              n = (function () {
                                function e(e, t, n) {
                                  (this._index = 0),
                                    (this._keys = e),
                                    (this._values = t),
                                    (this._selector = n);
                                }
                                return (
                                  (e.prototype["@@iterator"] = function () {
                                    return this;
                                  }),
                                  (e.prototype[i] = function () {
                                    return this;
                                  }),
                                  (e.prototype.next = function () {
                                    var e = this._index;
                                    if (e >= 0 && e < this._keys.length) {
                                      var n = this._selector(
                                        this._keys[e],
                                        this._values[e]
                                      );
                                      return (
                                        e + 1 >= this._keys.length
                                          ? ((this._index = -1),
                                            (this._keys = t),
                                            (this._values = t))
                                          : this._index++,
                                        { value: n, done: !1 }
                                      );
                                    }
                                    return { value: void 0, done: !0 };
                                  }),
                                  (e.prototype.throw = function (e) {
                                    throw (
                                      (this._index >= 0 &&
                                        ((this._index = -1),
                                        (this._keys = t),
                                        (this._values = t)),
                                      e)
                                    );
                                  }),
                                  (e.prototype.return = function (e) {
                                    return (
                                      this._index >= 0 &&
                                        ((this._index = -1),
                                        (this._keys = t),
                                        (this._values = t)),
                                      { value: e, done: !0 }
                                    );
                                  }),
                                  e
                                );
                              })();
                            return (function () {
                              function t() {
                                (this._keys = []),
                                  (this._values = []),
                                  (this._cacheKey = e),
                                  (this._cacheIndex = -2);
                              }
                              return (
                                Object.defineProperty(t.prototype, "size", {
                                  get: function () {
                                    return this._keys.length;
                                  },
                                  enumerable: !0,
                                  configurable: !0
                                }),
                                (t.prototype.has = function (e) {
                                  return this._find(e, !1) >= 0;
                                }),
                                (t.prototype.get = function (e) {
                                  var t = this._find(e, !1);
                                  return t >= 0 ? this._values[t] : void 0;
                                }),
                                (t.prototype.set = function (e, t) {
                                  var n = this._find(e, !0);
                                  return (this._values[n] = t), this;
                                }),
                                (t.prototype.delete = function (t) {
                                  var n = this._find(t, !1);
                                  if (n >= 0) {
                                    for (
                                      var r = this._keys.length, i = n + 1;
                                      i < r;
                                      i++
                                    )
                                      (this._keys[i - 1] = this._keys[i]),
                                        (this._values[i - 1] = this._values[i]);
                                    return (
                                      this._keys.length--,
                                      this._values.length--,
                                      t === this._cacheKey &&
                                        ((this._cacheKey = e),
                                        (this._cacheIndex = -2)),
                                      !0
                                    );
                                  }
                                  return !1;
                                }),
                                (t.prototype.clear = function () {
                                  (this._keys.length = 0),
                                    (this._values.length = 0),
                                    (this._cacheKey = e),
                                    (this._cacheIndex = -2);
                                }),
                                (t.prototype.keys = function () {
                                  return new n(this._keys, this._values, r);
                                }),
                                (t.prototype.values = function () {
                                  return new n(this._keys, this._values, o);
                                }),
                                (t.prototype.entries = function () {
                                  return new n(this._keys, this._values, a);
                                }),
                                (t.prototype["@@iterator"] = function () {
                                  return this.entries();
                                }),
                                (t.prototype[i] = function () {
                                  return this.entries();
                                }),
                                (t.prototype._find = function (e, t) {
                                  return (
                                    this._cacheKey !== e &&
                                      (this._cacheIndex = this._keys.indexOf(
                                        (this._cacheKey = e)
                                      )),
                                    this._cacheIndex < 0 &&
                                      t &&
                                      ((this._cacheIndex = this._keys.length),
                                      this._keys.push(e),
                                      this._values.push(void 0)),
                                    this._cacheIndex
                                  );
                                }),
                                t
                              );
                            })();
                            function r(e, t) {
                              return e;
                            }
                            function o(e, t) {
                              return t;
                            }
                            function a(e, t) {
                              return [e, t];
                            }
                          })()
                        : Map,
                    f =
                      d ||
                      "function" != typeof Set ||
                      "function" != typeof Set.prototype.entries
                        ? (function () {
                            function e() {
                              this._map = new l();
                            }
                            return (
                              Object.defineProperty(e.prototype, "size", {
                                get: function () {
                                  return this._map.size;
                                },
                                enumerable: !0,
                                configurable: !0
                              }),
                              (e.prototype.has = function (e) {
                                return this._map.has(e);
                              }),
                              (e.prototype.add = function (e) {
                                return this._map.set(e, e), this;
                              }),
                              (e.prototype.delete = function (e) {
                                return this._map.delete(e);
                              }),
                              (e.prototype.clear = function () {
                                this._map.clear();
                              }),
                              (e.prototype.keys = function () {
                                return this._map.keys();
                              }),
                              (e.prototype.values = function () {
                                return this._map.values();
                              }),
                              (e.prototype.entries = function () {
                                return this._map.entries();
                              }),
                              (e.prototype["@@iterator"] = function () {
                                return this.keys();
                              }),
                              (e.prototype[i] = function () {
                                return this.keys();
                              }),
                              e
                            );
                          })()
                        : Set,
                    h = new (
                      d || "function" != typeof WeakMap
                        ? (function () {
                            var e = 16,
                              n = u.create(),
                              r = i();
                            return (function () {
                              function e() {
                                this._key = i();
                              }
                              return (
                                (e.prototype.has = function (e) {
                                  var t = o(e, !1);
                                  return void 0 !== t && u.has(t, this._key);
                                }),
                                (e.prototype.get = function (e) {
                                  var t = o(e, !1);
                                  return void 0 !== t
                                    ? u.get(t, this._key)
                                    : void 0;
                                }),
                                (e.prototype.set = function (e, t) {
                                  return (o(e, !0)[this._key] = t), this;
                                }),
                                (e.prototype.delete = function (e) {
                                  var t = o(e, !1);
                                  return void 0 !== t && delete t[this._key];
                                }),
                                (e.prototype.clear = function () {
                                  this._key = i();
                                }),
                                e
                              );
                            })();
                            function i() {
                              var e;
                              do {
                                e = "@@WeakMap@@" + s();
                              } while (u.has(n, e));
                              return (n[e] = !0), e;
                            }
                            function o(e, n) {
                              if (!t.call(e, r)) {
                                if (!n) return;
                                Object.defineProperty(e, r, {
                                  value: u.create()
                                });
                              }
                              return e[r];
                            }
                            function a(e, t) {
                              for (var n = 0; n < t; ++n)
                                e[n] = (255 * Math.random()) | 0;
                              return e;
                            }
                            function s() {
                              var t = (function (e) {
                                return "function" == typeof Uint8Array
                                  ? typeof crypto < "u"
                                    ? crypto.getRandomValues(new Uint8Array(e))
                                    : typeof msCrypto < "u"
                                    ? msCrypto.getRandomValues(
                                        new Uint8Array(e)
                                      )
                                    : a(new Uint8Array(e), e)
                                  : a(new Array(e), e);
                              })(e);
                              (t[6] = (79 & t[6]) | 64),
                                (t[8] = (191 & t[8]) | 128);
                              for (var n = "", r = 0; r < e; ++r) {
                                var i = t[r];
                                (4 === r || 6 === r || 8 === r) && (n += "-"),
                                  i < 16 && (n += "0"),
                                  (n += i.toString(16).toLowerCase());
                              }
                              return n;
                            }
                          })()
                        : WeakMap
                    )();
                  function p(e, t, n) {
                    var r = h.get(e);
                    if (S(r)) {
                      if (!n) return;
                      (r = new l()), h.set(e, r);
                    }
                    var i = r.get(t);
                    if (S(i)) {
                      if (!n) return;
                      (i = new l()), r.set(t, i);
                    }
                    return i;
                  }
                  function y(e, t, n) {
                    if (w(e, t, n)) return !0;
                    var r = j(t);
                    return !x(r) && y(e, r, n);
                  }
                  function w(e, t, n) {
                    var r = p(t, n, !1);
                    return (
                      !S(r) &&
                      (function (e) {
                        return !!e;
                      })(r.has(e))
                    );
                  }
                  function v(e, t, n) {
                    if (w(e, t, n)) return g(e, t, n);
                    var r = j(t);
                    return x(r) ? void 0 : v(e, r, n);
                  }
                  function g(e, t, n) {
                    var r = p(t, n, !1);
                    if (!S(r)) return r.get(e);
                  }
                  function m(e, t, n, r) {
                    p(n, r, !0).set(e, t);
                  }
                  function b(e, t) {
                    var n = E(e, t),
                      r = j(e);
                    if (null === r) return n;
                    var i = b(r, t);
                    if (i.length <= 0) return n;
                    if (n.length <= 0) return i;
                    for (
                      var o = new f(), a = [], s = 0, u = n;
                      s < u.length;
                      s++
                    ) {
                      var c = u[s];
                      o.has(c) || (o.add(c), a.push(c));
                    }
                    for (var d = 0, l = i; d < l.length; d++)
                      (c = l[d]), o.has(c) || (o.add(c), a.push(c));
                    return a;
                  }
                  function E(e, t) {
                    var n = [],
                      r = p(e, t, !1);
                    if (S(r)) return n;
                    for (
                      var o = (function (e) {
                          var t = D(e, i);
                          if (!T(t)) throw new TypeError();
                          var n = t.call(e);
                          if (!O(n)) throw new TypeError();
                          return n;
                        })(r.keys()),
                        a = 0;
                      ;

                    ) {
                      var s = I(o);
                      if (!s) return (n.length = a), n;
                      var u = k(s);
                      try {
                        n[a] = u;
                      } catch (e) {
                        try {
                          N(o);
                        } finally {
                          throw e;
                        }
                      }
                      a++;
                    }
                  }
                  function _(e) {
                    if (null === e) return 1;
                    switch (typeof e) {
                      case "undefined":
                        return 0;
                      case "boolean":
                        return 2;
                      case "string":
                        return 3;
                      case "symbol":
                        return 4;
                      case "number":
                        return 5;
                      case "object":
                        return null === e ? 1 : 6;
                      default:
                        return 6;
                    }
                  }
                  function S(e) {
                    return void 0 === e;
                  }
                  function x(e) {
                    return null === e;
                  }
                  function O(e) {
                    return "object" == typeof e
                      ? null !== e
                      : "function" == typeof e;
                  }
                  function P(e, t) {
                    switch (_(e)) {
                      case 0:
                      case 1:
                      case 2:
                      case 3:
                      case 4:
                      case 5:
                        return e;
                    }
                    var n = 3 === t ? "string" : 5 === t ? "number" : "default",
                      i = D(e, r);
                    if (void 0 !== i) {
                      var o = i.call(e, n);
                      if (O(o)) throw new TypeError();
                      return o;
                    }
                    return (function (e, t) {
                      if ("string" === t) {
                        var n = e.toString;
                        if (T(n) && !O((i = n.call(e)))) return i;
                        if (T((r = e.valueOf)) && !O((i = r.call(e)))) return i;
                      } else {
                        var r;
                        if (T((r = e.valueOf)) && !O((i = r.call(e)))) return i;
                        var i,
                          o = e.toString;
                        if (T(o) && !O((i = o.call(e)))) return i;
                      }
                      throw new TypeError();
                    })(e, "default" === n ? "number" : n);
                  }
                  function A(e) {
                    var t = P(e, 3);
                    return (function (e) {
                      return "symbol" == typeof e;
                    })(t)
                      ? t
                      : (function (e) {
                          return "" + e;
                        })(t);
                  }
                  function C(e) {
                    return Array.isArray
                      ? Array.isArray(e)
                      : e instanceof Object
                      ? e instanceof Array
                      : "[object Array]" === Object.prototype.toString.call(e);
                  }
                  function T(e) {
                    return "function" == typeof e;
                  }
                  function R(e) {
                    return "function" == typeof e;
                  }
                  function D(e, t) {
                    var n = e[t];
                    if (null != n) {
                      if (!T(n)) throw new TypeError();
                      return n;
                    }
                  }
                  function k(e) {
                    return e.value;
                  }
                  function I(e) {
                    var t = e.next();
                    return !t.done && t;
                  }
                  function N(e) {
                    var t = e.return;
                    t && t.call(e);
                  }
                  function j(e) {
                    var t = Object.getPrototypeOf(e);
                    if ("function" != typeof e || e === c || t !== c) return t;
                    var n = e.prototype,
                      r = n && Object.getPrototypeOf(n);
                    if (null == r || r === Object.prototype) return t;
                    var i = r.constructor;
                    return "function" != typeof i || i === e ? t : i;
                  }
                  function F(e) {
                    return (e.__ = void 0), delete e.__, e;
                  }
                  e("decorate", function (e, t, n, r) {
                    if (S(n)) {
                      if (!C(e)) throw new TypeError();
                      if (!R(t)) throw new TypeError();
                      return (function (e, t) {
                        for (var n = e.length - 1; n >= 0; --n) {
                          var r = (0, e[n])(t);
                          if (!S(r) && !x(r)) {
                            if (!R(r)) throw new TypeError();
                            t = r;
                          }
                        }
                        return t;
                      })(e, t);
                    }
                    if (!C(e)) throw new TypeError();
                    if (!O(t)) throw new TypeError();
                    if (!O(r) && !S(r) && !x(r)) throw new TypeError();
                    return (
                      x(r) && (r = void 0),
                      (function (e, t, n, r) {
                        for (var i = e.length - 1; i >= 0; --i) {
                          var o = (0, e[i])(t, n, r);
                          if (!S(o) && !x(o)) {
                            if (!O(o)) throw new TypeError();
                            r = o;
                          }
                        }
                        return r;
                      })(e, t, (n = A(n)), r)
                    );
                  }),
                    e("metadata", function (e, t) {
                      return function (n, r) {
                        if (!O(n)) throw new TypeError();
                        if (
                          !S(r) &&
                          !(function (e) {
                            switch (_(e)) {
                              case 3:
                              case 4:
                                return !0;
                              default:
                                return !1;
                            }
                          })(r)
                        )
                          throw new TypeError();
                        m(e, t, n, r);
                      };
                    }),
                    e("defineMetadata", function (e, t, n, r) {
                      if (!O(n)) throw new TypeError();
                      return S(r) || (r = A(r)), m(e, t, n, r);
                    }),
                    e("hasMetadata", function (e, t, n) {
                      if (!O(t)) throw new TypeError();
                      return S(n) || (n = A(n)), y(e, t, n);
                    }),
                    e("hasOwnMetadata", function (e, t, n) {
                      if (!O(t)) throw new TypeError();
                      return S(n) || (n = A(n)), w(e, t, n);
                    }),
                    e("getMetadata", function (e, t, n) {
                      if (!O(t)) throw new TypeError();
                      return S(n) || (n = A(n)), v(e, t, n);
                    }),
                    e("getOwnMetadata", function (e, t, n) {
                      if (!O(t)) throw new TypeError();
                      return S(n) || (n = A(n)), g(e, t, n);
                    }),
                    e("getMetadataKeys", function (e, t) {
                      if (!O(e)) throw new TypeError();
                      return S(t) || (t = A(t)), b(e, t);
                    }),
                    e("getOwnMetadataKeys", function (e, t) {
                      if (!O(e)) throw new TypeError();
                      return S(t) || (t = A(t)), E(e, t);
                    }),
                    e("deleteMetadata", function (e, t, n) {
                      if (!O(t)) throw new TypeError();
                      S(n) || (n = A(n));
                      var r = p(t, n, !1);
                      if (S(r) || !r.delete(e)) return !1;
                      if (r.size > 0) return !0;
                      var i = h.get(t);
                      return i.delete(n), i.size > 0 || h.delete(t), !0;
                    });
                })(n);
            })();
          var c = ((e) => (
              (e.bin_info = "deferred/v2/bin/"),
              (e.card_token = "card/v1/tokens"),
              (e.card_subscription_token = "v1/subscription-tokens"),
              (e.deferred_info = "card/v1/deferred/"),
              (e.merchant_settings = "merchant/v1/merchant/settings"),
              (e.cybersource_jwt = "card/v1/authToken"),
              (e.secure_validation = "rules/v1/secureValidation"),
              e
            ))(c || {}),
            d = "named",
            l = "name",
            f = "unmanaged",
            h = "optional",
            p = "inject",
            y = "multi_inject",
            w = "inversify:paramtypes",
            v = "post_construct",
            g = "pre_destroy",
            m = [p, y, l, f, d, h],
            b = "Request",
            E = "Singleton",
            _ = "Transient",
            S = {
              ConstantValue: "ConstantValue",
              Constructor: "Constructor",
              DynamicValue: "DynamicValue",
              Factory: "Factory",
              Function: "Function",
              Instance: "Instance",
              Invalid: "Invalid",
              Provider: "Provider"
            },
            x = {
              ClassProperty: "ClassProperty",
              ConstructorArgument: "ConstructorArgument",
              Variable: "Variable"
            },
            O = 0;
          function P() {
            return O++;
          }
          var A = (function () {
              function e(e, t) {
                (this.id = P()),
                  (this.activated = !1),
                  (this.serviceIdentifier = e),
                  (this.scope = t),
                  (this.type = S.Invalid),
                  (this.constraint = function (e) {
                    return !0;
                  }),
                  (this.implementationType = null),
                  (this.cache = null),
                  (this.factory = null),
                  (this.provider = null),
                  (this.onActivation = null),
                  (this.onDeactivation = null),
                  (this.dynamicValue = null);
              }
              return (
                (e.prototype.clone = function () {
                  var t = new e(this.serviceIdentifier, this.scope);
                  return (
                    (t.activated = t.scope === E && this.activated),
                    (t.implementationType = this.implementationType),
                    (t.dynamicValue = this.dynamicValue),
                    (t.scope = this.scope),
                    (t.type = this.type),
                    (t.factory = this.factory),
                    (t.provider = this.provider),
                    (t.constraint = this.constraint),
                    (t.onActivation = this.onActivation),
                    (t.onDeactivation = this.onDeactivation),
                    (t.cache = this.cache),
                    t
                  );
                }),
                e
              );
            })(),
            C = "NULL argument",
            T = "Key Not Found",
            R = "Ambiguous match found for serviceIdentifier:",
            D = "No matching bindings found for serviceIdentifier:",
            k = "Missing required @injectable annotation in:",
            I = "Missing required @inject or @multiInject annotation in:",
            N = "Circular dependency found:",
            j = function () {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
              return (
                "The number of constructor arguments in the derived class " +
                e[0] +
                " must be >= than the number of constructor arguments of its base class."
              );
            },
            F = function (e, t) {
              return "onDeactivation() error in class " + e + ": " + t;
            },
            M = "Maximum call stack size exceeded",
            W = (function () {
              function e() {}
              return (
                (e.prototype.getConstructorMetadata = function (e) {
                  return {
                    compilerGeneratedMetadata: Reflect.getMetadata(w, e),
                    userGeneratedMetadata:
                      Reflect.getMetadata("inversify:tagged", e) || {}
                  };
                }),
                (e.prototype.getPropertiesMetadata = function (e) {
                  return Reflect.getMetadata("inversify:tagged_props", e) || [];
                }),
                e
              );
            })(),
            B = {
              MultipleBindingsAvailable: 2,
              NoBindingsAvailable: 0,
              OnlyOneBindingAvailable: 1
            };
          function V(e) {
            return e instanceof RangeError || e.message === M;
          }
          function U(e) {
            return "function" == typeof e
              ? e.name
              : "symbol" == typeof e
              ? e.toString()
              : e;
          }
          function z(e, t, n) {
            var r = "",
              i = n(e, t);
            return (
              0 !== i.length &&
                ((r = "\nRegistered bindings:"),
                i.forEach(function (e) {
                  var t = "Object";
                  null !== e.implementationType &&
                    (t = H(e.implementationType)),
                    (r = r + "\n " + t),
                    e.constraint.metaData &&
                      (r = r + " - " + e.constraint.metaData);
                })),
              r
            );
          }
          function L(e, t) {
            return (
              null !== e.parentRequest &&
              (e.parentRequest.serviceIdentifier === t || L(e.parentRequest, t))
            );
          }
          function q(e) {
            e.childRequests.forEach(function (e) {
              if (L(e, e.serviceIdentifier)) {
                var t = (function (e) {
                  var t = (function e(t, n) {
                    void 0 === n && (n = []);
                    var r = U(t.serviceIdentifier);
                    return (
                      n.push(r),
                      null !== t.parentRequest ? e(t.parentRequest, n) : n
                    );
                  })(e);
                  return t.reverse().join(" --\x3e ");
                })(e);
                throw new Error(N + " " + t);
              }
              q(e);
            });
          }
          function H(e) {
            if (e.name) return e.name;
            var t = e.toString(),
              n = t.match(/^function\s*([^\s(]+)/);
            return n ? n[1] : "Anonymous function: " + t;
          }
          var K = (function () {
              function e(e) {
                (this.id = P()), (this.container = e);
              }
              return (
                (e.prototype.addPlan = function (e) {
                  this.plan = e;
                }),
                (e.prototype.setCurrentRequest = function (e) {
                  this.currentRequest = e;
                }),
                e
              );
            })(),
            J = (function () {
              function e(e, t) {
                (this.key = e), (this.value = t);
              }
              return (
                (e.prototype.toString = function () {
                  return this.key === d
                    ? "named: " + String(this.value).toString() + " "
                    : "tagged: { key:" +
                        this.key.toString() +
                        ", value: " +
                        String(this.value) +
                        " }";
                }),
                e
              );
            })(),
            $ = function (e, t) {
              (this.parentContext = e), (this.rootRequest = t);
            },
            G = (function () {
              function e(e) {
                this._cb = e;
              }
              return (
                (e.prototype.unwrap = function () {
                  return this._cb();
                }),
                e
              );
            })(),
            Q = (function () {
              function e(e) {
                this.str = e;
              }
              return (
                (e.prototype.startsWith = function (e) {
                  return 0 === this.str.indexOf(e);
                }),
                (e.prototype.endsWith = function (e) {
                  var t,
                    n = e.split("").reverse().join("");
                  return (
                    (t = this.str.split("").reverse().join("")),
                    this.startsWith.call({ str: t }, n)
                  );
                }),
                (e.prototype.contains = function (e) {
                  return -1 !== this.str.indexOf(e);
                }),
                (e.prototype.equals = function (e) {
                  return this.str === e;
                }),
                (e.prototype.value = function () {
                  return this.str;
                }),
                e
              );
            })(),
            Y = (function () {
              function e(e, t, n, r) {
                (this.id = P()), (this.type = e), (this.serviceIdentifier = n);
                var i =
                  "symbol" == typeof t
                    ? (function (e) {
                        return e.toString().slice(7, -1);
                      })(t)
                    : t;
                (this.name = new Q(i || "")),
                  (this.identifier = t),
                  (this.metadata = new Array());
                var o = null;
                "string" == typeof r
                  ? (o = new J(d, r))
                  : r instanceof J && (o = r),
                  null !== o && this.metadata.push(o);
              }
              return (
                (e.prototype.hasTag = function (e) {
                  for (var t = 0, n = this.metadata; t < n.length; t++)
                    if (n[t].key === e) return !0;
                  return !1;
                }),
                (e.prototype.isArray = function () {
                  return this.hasTag(y);
                }),
                (e.prototype.matchesArray = function (e) {
                  return this.matchesTag(y)(e);
                }),
                (e.prototype.isNamed = function () {
                  return this.hasTag(d);
                }),
                (e.prototype.isTagged = function () {
                  return this.metadata.some(function (e) {
                    return m.every(function (t) {
                      return e.key !== t;
                    });
                  });
                }),
                (e.prototype.isOptional = function () {
                  return this.matchesTag(h)(!0);
                }),
                (e.prototype.getNamedTag = function () {
                  return this.isNamed()
                    ? this.metadata.filter(function (e) {
                        return e.key === d;
                      })[0]
                    : null;
                }),
                (e.prototype.getCustomTags = function () {
                  return this.isTagged()
                    ? this.metadata.filter(function (e) {
                        return m.every(function (t) {
                          return e.key !== t;
                        });
                      })
                    : null;
                }),
                (e.prototype.matchesNamedTag = function (e) {
                  return this.matchesTag(d)(e);
                }),
                (e.prototype.matchesTag = function (e) {
                  var t = this;
                  return function (n) {
                    for (var r = 0, i = t.metadata; r < i.length; r++) {
                      var o = i[r];
                      if (o.key === e && o.value === n) return !0;
                    }
                    return !1;
                  };
                }),
                e
              );
            })(),
            X =
              (globalThis && globalThis.__spreadArray) ||
              function (e, t, n) {
                if (n || 2 === arguments.length)
                  for (var r, i = 0, o = t.length; i < o; i++)
                    (r || !(i in t)) &&
                      (r || (r = Array.prototype.slice.call(t, 0, i)),
                      (r[i] = t[i]));
                return e.concat(r || Array.prototype.slice.call(t));
              };
          function Z(e, t, n, r) {
            var i = e.getConstructorMetadata(n),
              o = i.compilerGeneratedMetadata;
            if (void 0 === o) throw new Error(k + " " + t + ".");
            var a = i.userGeneratedMetadata,
              s = Object.keys(a),
              u = 0 === n.length && s.length > 0,
              c = s.length > n.length,
              d = (function (e, t, n, r, i) {
                for (var o = [], a = 0; a < i; a++) {
                  var s = ee(a, e, t, n, r);
                  null !== s && o.push(s);
                }
                return o;
              })(r, t, o, a, u || c ? s.length : n.length),
              l = ne(e, n, t);
            return X(X([], d, !0), l, !0);
          }
          function ee(e, t, n, r, i) {
            var o = i[e.toString()] || [],
              a = ie(o),
              s = !0 !== a.unmanaged,
              u = r[e];
            if (
              ((u = a.inject || a.multiInject || u) instanceof G &&
                (u = u.unwrap()),
              s)
            ) {
              if (!t && (u === Object || u === Function || void 0 === u))
                throw new Error(I + " argument " + e + " in class " + n + ".");
              var c = new Y(x.ConstructorArgument, a.targetName, u);
              return (c.metadata = o), c;
            }
            return null;
          }
          function te(e, t, n, r) {
            var i = e || t;
            if (void 0 === i) {
              var o = k + " for property " + String(n) + " in class " + r + ".";
              throw new Error(o);
            }
            return i;
          }
          function ne(e, t, n) {
            for (
              var r = e.getPropertiesMetadata(t),
                i = [],
                o = Object.getOwnPropertySymbols(r),
                a = 0,
                s = Object.keys(r).concat(o);
              a < s.length;
              a++
            ) {
              var u = s[a],
                c = r[u],
                d = ie(c),
                l = d.targetName || u,
                f = te(d.inject, d.multiInject, u, n),
                h = new Y(x.ClassProperty, l, f);
              (h.metadata = c), i.push(h);
            }
            var p = Object.getPrototypeOf(t.prototype).constructor;
            if (p !== Object) {
              var y = ne(e, p, n);
              i = X(X([], i, !0), y, !0);
            }
            return i;
          }
          function re(e, t) {
            var n = Object.getPrototypeOf(t.prototype).constructor;
            if (n !== Object) {
              var r = Z(e, H(n), n, !0),
                i = r.map(function (e) {
                  return e.metadata.filter(function (e) {
                    return e.key === f;
                  });
                }),
                o = [].concat.apply([], i).length,
                a = r.length - o;
              return a > 0 ? a : re(e, n);
            }
            return 0;
          }
          function ie(e) {
            var t = {};
            return (
              e.forEach(function (e) {
                t[e.key.toString()] = e.value;
              }),
              {
                inject: t[p],
                multiInject: t[y],
                targetName: t[l],
                unmanaged: t[f]
              }
            );
          }
          var oe = (function () {
            function e(e, t, n, r, i) {
              (this.id = P()),
                (this.serviceIdentifier = e),
                (this.parentContext = t),
                (this.parentRequest = n),
                (this.target = i),
                (this.childRequests = []),
                (this.bindings = Array.isArray(r) ? r : [r]),
                (this.requestScope = null === n ? new Map() : null);
            }
            return (
              (e.prototype.addChildRequest = function (t, n, r) {
                var i = new e(t, this.parentContext, this, n, r);
                return this.childRequests.push(i), i;
              }),
              e
            );
          })();
          function ae(e) {
            return e._bindingDictionary;
          }
          function se(e, t, n, r, i) {
            var o,
              a = ce(n.container, i.serviceIdentifier);
            return (
              a.length === B.NoBindingsAvailable &&
                n.container.options.autoBindInjectable &&
                "function" == typeof i.serviceIdentifier &&
                e.getConstructorMetadata(i.serviceIdentifier)
                  .compilerGeneratedMetadata &&
                (n.container.bind(i.serviceIdentifier).toSelf(),
                (a = ce(n.container, i.serviceIdentifier))),
              (o = t
                ? a
                : a.filter(function (e) {
                    var t = new oe(e.serviceIdentifier, n, r, e, i);
                    return e.constraint(t);
                  })),
              (function (e, t, n, r) {
                switch (t.length) {
                  case B.NoBindingsAvailable:
                    if (n.isOptional()) return t;
                    var i = U(e),
                      o = D;
                    throw (
                      ((o += (function (e, t) {
                        if (t.isTagged() || t.isNamed()) {
                          var n = "",
                            r = t.getNamedTag(),
                            i = t.getCustomTags();
                          return (
                            null !== r && (n += r.toString() + "\n"),
                            null !== i &&
                              i.forEach(function (e) {
                                n += e.toString() + "\n";
                              }),
                            " " + e + "\n " + e + " - " + n
                          );
                        }
                        return " " + e;
                      })(i, n)),
                      (o += z(r, i, ce)),
                      new Error(o))
                    );
                  case B.OnlyOneBindingAvailable:
                    return t;
                  case B.MultipleBindingsAvailable:
                  default:
                    if (n.isArray()) return t;
                    throw (
                      ((i = U(e)),
                      (o = R + " " + i),
                      (o += z(r, i, ce)),
                      new Error(o))
                    );
                }
              })(i.serviceIdentifier, o, i, n.container),
              o
            );
          }
          function ue(e, t, n, r, i, o) {
            var a, s;
            if (null === i) {
              (a = se(e, t, r, null, o)), (s = new oe(n, r, null, a, o));
              var u = new $(r, s);
              r.addPlan(u);
            } else
              (a = se(e, t, r, i, o)),
                (s = i.addChildRequest(o.serviceIdentifier, a, o));
            a.forEach(function (t) {
              var n = null;
              if (o.isArray()) n = s.addChildRequest(t.serviceIdentifier, t, o);
              else {
                if (t.cache) return;
                n = s;
              }
              if (t.type === S.Instance && null !== t.implementationType) {
                var i = (function (e, t) {
                  return Z(e, H(t), t, !1);
                })(e, t.implementationType);
                if (!r.container.options.skipBaseClassChecks) {
                  var a = re(e, t.implementationType);
                  if (i.length < a) {
                    var u = j(H(t.implementationType));
                    throw new Error(u);
                  }
                }
                i.forEach(function (t) {
                  ue(e, !1, t.serviceIdentifier, r, n, t);
                });
              }
            });
          }
          function ce(e, t) {
            var n = [],
              r = ae(e);
            return (
              r.hasKey(t)
                ? (n = r.get(t))
                : null !== e.parent && (n = ce(e.parent, t)),
              n
            );
          }
          function de(e) {
            return (
              (("object" == typeof e && null !== e) ||
                "function" == typeof e) &&
              "function" == typeof e.then
            );
          }
          function le(e) {
            return !!de(e) || (Array.isArray(e) && e.some(de));
          }
          var fe,
            he =
              (globalThis && globalThis.__awaiter) ||
              function (e, t, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(e) {
                    try {
                      u(r.next(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function s(e) {
                    try {
                      u(r.throw(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function u(e) {
                    e.done
                      ? i(e.value)
                      : (function (e) {
                          return e instanceof n
                            ? e
                            : new n(function (t) {
                                t(e);
                              });
                        })(e.value).then(a, s);
                  }
                  u((r = r.apply(e, t || [])).next());
                });
              },
            pe =
              (globalThis && globalThis.__generator) ||
              function (e, t) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: []
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  "function" == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n)
                        throw new TypeError("Generator is already executing.");
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (
                            ((r = 0), i && (o = [2 & o[0], i.value]), o[0])
                          ) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(i =
                                  (i = a.trys).length > 0 && i[i.length - 1]) &&
                                (6 === o[0] || 2 === o[0])
                              ) {
                                a = 0;
                                continue;
                              }
                              if (
                                3 === o[0] &&
                                (!i || (o[1] > i[0] && o[1] < i[3]))
                              ) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = t.call(e, a);
                        } catch (e) {
                          (o = [6, e]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              },
            ye = function (e, t) {
              return he(void 0, void 0, void 0, function () {
                var n, r;
                return pe(this, function (i) {
                  switch (i.label) {
                    case 0:
                      return i.trys.push([0, 2, , 3]), [4, t];
                    case 1:
                      return (n = i.sent()), (e.cache = n), [3, 3];
                    case 2:
                      throw (
                        ((r = i.sent()),
                        (e.cache = null),
                        (e.activated = !1),
                        r)
                      );
                    case 3:
                      return [2];
                  }
                });
              });
            };
          !(function (e) {
            (e.DynamicValue = "toDynamicValue"),
              (e.Factory = "toFactory"),
              (e.Provider = "toProvider");
          })(fe || (fe = {}));
          var we =
              (globalThis && globalThis.__assign) ||
              function () {
                return (
                  (we =
                    Object.assign ||
                    function (e) {
                      for (var t, n = 1, r = arguments.length; n < r; n++)
                        for (var i in (t = arguments[n]))
                          Object.prototype.hasOwnProperty.call(t, i) &&
                            (e[i] = t[i]);
                      return e;
                    }),
                  we.apply(this, arguments)
                );
              },
            ve =
              (globalThis && globalThis.__awaiter) ||
              function (e, t, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(e) {
                    try {
                      u(r.next(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function s(e) {
                    try {
                      u(r.throw(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function u(e) {
                    e.done
                      ? i(e.value)
                      : (function (e) {
                          return e instanceof n
                            ? e
                            : new n(function (t) {
                                t(e);
                              });
                        })(e.value).then(a, s);
                  }
                  u((r = r.apply(e, t || [])).next());
                });
              },
            ge =
              (globalThis && globalThis.__generator) ||
              function (e, t) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: []
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  "function" == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n)
                        throw new TypeError("Generator is already executing.");
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (
                            ((r = 0), i && (o = [2 & o[0], i.value]), o[0])
                          ) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(i =
                                  (i = a.trys).length > 0 && i[i.length - 1]) &&
                                (6 === o[0] || 2 === o[0])
                              ) {
                                a = 0;
                                continue;
                              }
                              if (
                                3 === o[0] &&
                                (!i || (o[1] > i[0] && o[1] < i[3]))
                              ) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = t.call(e, a);
                        } catch (e) {
                          (o = [6, e]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              },
            me =
              (globalThis && globalThis.__spreadArray) ||
              function (e, t, n) {
                if (n || 2 === arguments.length)
                  for (var r, i = 0, o = t.length; i < o; i++)
                    (r || !(i in t)) &&
                      (r || (r = Array.prototype.slice.call(t, 0, i)),
                      (r[i] = t[i]));
                return e.concat(r || Array.prototype.slice.call(t));
              };
          function be(e) {
            var t,
              n = new ((t = e.constr).bind.apply(
                t,
                me([void 0], e.constructorInjections, !1)
              ))();
            return (
              e.propertyRequests.forEach(function (t, r) {
                var i = t.target.identifier,
                  o = e.propertyInjections[r];
                n[i] = o;
              }),
              n
            );
          }
          function Ee(e) {
            return ve(this, void 0, void 0, function () {
              var t, n, r, i;
              return ge(this, function (o) {
                for (t = [], n = 0, r = e; n < r.length; n++)
                  (i = r[n]),
                    Array.isArray(i) ? t.push(Promise.all(i)) : t.push(i);
                return [2, Promise.all(t)];
              });
            });
          }
          function _e(e, t) {
            var n = (function (e, t) {
              var n, r;
              if (Reflect.hasMetadata(v, e)) {
                var i = Reflect.getMetadata(v, e);
                try {
                  return null === (r = (n = t)[i.value]) || void 0 === r
                    ? void 0
                    : r.call(n);
                } catch (t) {
                  throw new Error(
                    (function (e, t) {
                      return "@postConstruct error in class " + e + ": " + t;
                    })(e.name, t.message)
                  );
                }
              }
            })(e, t);
            return de(n)
              ? n.then(function () {
                  return t;
                })
              : t;
          }
          var Se =
              (globalThis && globalThis.__awaiter) ||
              function (e, t, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(e) {
                    try {
                      u(r.next(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function s(e) {
                    try {
                      u(r.throw(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function u(e) {
                    e.done
                      ? i(e.value)
                      : (function (e) {
                          return e instanceof n
                            ? e
                            : new n(function (t) {
                                t(e);
                              });
                        })(e.value).then(a, s);
                  }
                  u((r = r.apply(e, t || [])).next());
                });
              },
            xe =
              (globalThis && globalThis.__generator) ||
              function (e, t) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: []
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  "function" == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n)
                        throw new TypeError("Generator is already executing.");
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (
                            ((r = 0), i && (o = [2 & o[0], i.value]), o[0])
                          ) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(i =
                                  (i = a.trys).length > 0 && i[i.length - 1]) &&
                                (6 === o[0] || 2 === o[0])
                              ) {
                                a = 0;
                                continue;
                              }
                              if (
                                3 === o[0] &&
                                (!i || (o[1] > i[0] && o[1] < i[3]))
                              ) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = t.call(e, a);
                        } catch (e) {
                          (o = [6, e]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              },
            Oe = function (e) {
              return function (t) {
                t.parentContext.setCurrentRequest(t);
                var n = t.bindings,
                  r = t.childRequests,
                  i = t.target && t.target.isArray(),
                  o = !(
                    t.parentRequest &&
                    t.parentRequest.target &&
                    t.target &&
                    t.parentRequest.target.matchesArray(
                      t.target.serviceIdentifier
                    )
                  );
                if (i && o)
                  return r.map(function (t) {
                    return Oe(e)(t);
                  });
                if (!t.target.isOptional() || 0 !== n.length) {
                  var a = n[0];
                  return Ce(e, t, a);
                }
              };
            },
            Pe = function (e, t, n) {
              var r,
                i = t.childRequests;
              switch (
                ((function (e) {
                  var t = null;
                  switch (e.type) {
                    case S.ConstantValue:
                    case S.Function:
                      t = e.cache;
                      break;
                    case S.Constructor:
                    case S.Instance:
                      t = e.implementationType;
                      break;
                    case S.DynamicValue:
                      t = e.dynamicValue;
                      break;
                    case S.Provider:
                      t = e.provider;
                      break;
                    case S.Factory:
                      t = e.factory;
                  }
                  if (null === t) {
                    var n = U(e.serviceIdentifier);
                    throw new Error("Invalid binding type: " + n);
                  }
                })(n),
                n.type)
              ) {
                case S.ConstantValue:
                case S.Function:
                  r = n.cache;
                  break;
                case S.Constructor:
                  r = n.implementationType;
                  break;
                case S.Instance:
                  r = (function (e, t, n, r) {
                    !(function (e, t) {
                      e.scope !== E &&
                        (function (e, t) {
                          var n =
                            "Class cannot be instantiated in " +
                            (e.scope === b ? "request" : "transient") +
                            " scope.";
                          if ("function" == typeof e.onDeactivation)
                            throw new Error(F(t.name, n));
                          if (Reflect.hasMetadata(g, t))
                            throw new Error(
                              (function (e, t) {
                                return (
                                  "@preDestroy error in class " + e + ": " + t
                                );
                              })(t.name, n)
                            );
                        })(e, t);
                    })(e, t);
                    var i = (function (e, t, n) {
                      var r;
                      if (t.length > 0) {
                        var i = (function (e, t) {
                            return e.reduce(
                              function (e, n) {
                                var r = t(n);
                                return (
                                  n.target.type === x.ConstructorArgument
                                    ? e.constructorInjections.push(r)
                                    : (e.propertyRequests.push(n),
                                      e.propertyInjections.push(r)),
                                  e.isAsync || (e.isAsync = le(r)),
                                  e
                                );
                              },
                              {
                                constructorInjections: [],
                                propertyInjections: [],
                                propertyRequests: [],
                                isAsync: !1
                              }
                            );
                          })(t, n),
                          o = we(we({}, i), { constr: e });
                        r = i.isAsync
                          ? (function (e) {
                              return ve(this, void 0, void 0, function () {
                                var t, n;
                                return ge(this, function (r) {
                                  switch (r.label) {
                                    case 0:
                                      return [4, Ee(e.constructorInjections)];
                                    case 1:
                                      return (
                                        (t = r.sent()),
                                        [4, Ee(e.propertyInjections)]
                                      );
                                    case 2:
                                      return (
                                        (n = r.sent()),
                                        [
                                          2,
                                          be(
                                            we(we({}, e), {
                                              constructorInjections: t,
                                              propertyInjections: n
                                            })
                                          )
                                        ]
                                      );
                                  }
                                });
                              });
                            })(o)
                          : be(o);
                      } else r = new e();
                      return r;
                    })(t, n, r);
                    return de(i)
                      ? i.then(function (e) {
                          return _e(t, e);
                        })
                      : _e(t, i);
                  })(n, n.implementationType, i, Oe(e));
                  break;
                default:
                  r = (function (e, t) {
                    var n = (function (e) {
                      switch (e.type) {
                        case S.Factory:
                          return {
                            factory: e.factory,
                            factoryType: fe.Factory
                          };
                        case S.Provider:
                          return {
                            factory: e.provider,
                            factoryType: fe.Provider
                          };
                        case S.DynamicValue:
                          return {
                            factory: e.dynamicValue,
                            factoryType: fe.DynamicValue
                          };
                        default:
                          throw new Error("Unexpected factory type " + e.type);
                      }
                    })(e);
                    return (function (e, t) {
                      try {
                        return e();
                      } catch (e) {
                        throw (V(e) && (e = t()), e);
                      }
                    })(
                      function () {
                        return n.factory.bind(e)(t);
                      },
                      function () {
                        return new Error(
                          (function (e, t) {
                            return (
                              "It looks like there is a circular dependency in one of the '" +
                              e +
                              "' bindings. Please investigate bindings withservice identifier '" +
                              t +
                              "'."
                            );
                          })(
                            n.factoryType,
                            t.currentRequest.serviceIdentifier.toString()
                          )
                        );
                      }
                    );
                  })(n, t.parentContext);
              }
              return r;
            },
            Ae = function (e, t, n) {
              var r = (function (e, t) {
                return t.scope === E && t.activated
                  ? t.cache
                  : t.scope === b && e.has(t.id)
                  ? e.get(t.id)
                  : null;
              })(e, t);
              return (
                null !== r ||
                  (function (e, t, n) {
                    t.scope === E &&
                      (function (e, t) {
                        (e.cache = t), (e.activated = !0), de(t) && ye(e, t);
                      })(t, n),
                      t.scope === b &&
                        (function (e, t, n) {
                          e.has(t.id) || e.set(t.id, n);
                        })(e, t, n);
                  })(e, t, (r = n())),
                r
              );
            },
            Ce = function (e, t, n) {
              return Ae(e, n, function () {
                var r = Pe(e, t, n);
                return de(r)
                  ? r.then(function (e) {
                      return Te(t, n, e);
                    })
                  : Te(t, n, r);
              });
            };
          function Te(e, t, n) {
            var r,
              i = Re(e.parentContext, t, n),
              o = Ne(e.parentContext.container),
              a = o.next();
            do {
              r = a.value;
              var s = e.parentContext,
                u = e.serviceIdentifier,
                c = Ie(r, u);
              (i = de(i) ? ke(c, s, i) : De(c, s, i)), (a = o.next());
            } while (!0 !== a.done && !ae(r).hasKey(e.serviceIdentifier));
            return i;
          }
          var Re = function (e, t, n) {
              return "function" == typeof t.onActivation
                ? t.onActivation(e, n)
                : n;
            },
            De = function (e, t, n) {
              for (var r = e.next(); !r.done; ) {
                if (de((n = r.value(t, n)))) return ke(e, t, n);
                r = e.next();
              }
              return n;
            },
            ke = function (e, t, n) {
              return Se(void 0, void 0, void 0, function () {
                var r, i;
                return xe(this, function (o) {
                  switch (o.label) {
                    case 0:
                      return [4, n];
                    case 1:
                      (r = o.sent()), (i = e.next()), (o.label = 2);
                    case 2:
                      return i.done ? [3, 4] : [4, i.value(t, r)];
                    case 3:
                      return (r = o.sent()), (i = e.next()), [3, 2];
                    case 4:
                      return [2, r];
                  }
                });
              });
            },
            Ie = function (e, t) {
              var n = e._activations;
              return n.hasKey(t) ? n.get(t).values() : [].values();
            },
            Ne = function (e) {
              for (var t = [e], n = e.parent; null !== n; )
                t.push(n), (n = n.parent);
              return {
                next: function () {
                  var e = t.pop();
                  return void 0 !== e
                    ? { done: !1, value: e }
                    : { done: !0, value: void 0 };
                }
              };
            },
            je = function (e, t) {
              var n = e.parentRequest;
              return null !== n && (!!t(n) || je(n, t));
            },
            Fe = function (e) {
              return function (t) {
                var n = function (n) {
                  return (
                    null !== n && null !== n.target && n.target.matchesTag(e)(t)
                  );
                };
                return (n.metaData = new J(e, t)), n;
              };
            },
            Me = Fe(d),
            We = function (e) {
              return function (t) {
                var n = null;
                if (null !== t) {
                  if (((n = t.bindings[0]), "string" == typeof e))
                    return n.serviceIdentifier === e;
                  var r = t.bindings[0].implementationType;
                  return e === r;
                }
                return !1;
              };
            },
            Be = (function () {
              function e(e) {
                this._binding = e;
              }
              return (
                (e.prototype.when = function (e) {
                  return (this._binding.constraint = e), new Ve(this._binding);
                }),
                (e.prototype.whenTargetNamed = function (e) {
                  return (
                    (this._binding.constraint = Me(e)), new Ve(this._binding)
                  );
                }),
                (e.prototype.whenTargetIsDefault = function () {
                  return (
                    (this._binding.constraint = function (e) {
                      return (
                        null !== e &&
                        null !== e.target &&
                        !e.target.isNamed() &&
                        !e.target.isTagged()
                      );
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenTargetTagged = function (e, t) {
                  return (
                    (this._binding.constraint = Fe(e)(t)), new Ve(this._binding)
                  );
                }),
                (e.prototype.whenInjectedInto = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && We(e)(t.parentRequest);
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenParentNamed = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && Me(e)(t.parentRequest);
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenParentTagged = function (e, t) {
                  return (
                    (this._binding.constraint = function (n) {
                      return null !== n && Fe(e)(t)(n.parentRequest);
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenAnyAncestorIs = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && je(t, We(e));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenNoAncestorIs = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && !je(t, We(e));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenAnyAncestorNamed = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && je(t, Me(e));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenNoAncestorNamed = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && !je(t, Me(e));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenAnyAncestorTagged = function (e, t) {
                  return (
                    (this._binding.constraint = function (n) {
                      return null !== n && je(n, Fe(e)(t));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenNoAncestorTagged = function (e, t) {
                  return (
                    (this._binding.constraint = function (n) {
                      return null !== n && !je(n, Fe(e)(t));
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenAnyAncestorMatches = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && je(t, e);
                    }),
                    new Ve(this._binding)
                  );
                }),
                (e.prototype.whenNoAncestorMatches = function (e) {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t && !je(t, e);
                    }),
                    new Ve(this._binding)
                  );
                }),
                e
              );
            })(),
            Ve = (function () {
              function e(e) {
                this._binding = e;
              }
              return (
                (e.prototype.onActivation = function (e) {
                  return (
                    (this._binding.onActivation = e), new Be(this._binding)
                  );
                }),
                (e.prototype.onDeactivation = function (e) {
                  return (
                    (this._binding.onDeactivation = e), new Be(this._binding)
                  );
                }),
                e
              );
            })(),
            Ue = (function () {
              function e(e) {
                (this._binding = e),
                  (this._bindingWhenSyntax = new Be(this._binding)),
                  (this._bindingOnSyntax = new Ve(this._binding));
              }
              return (
                (e.prototype.when = function (e) {
                  return this._bindingWhenSyntax.when(e);
                }),
                (e.prototype.whenTargetNamed = function (e) {
                  return this._bindingWhenSyntax.whenTargetNamed(e);
                }),
                (e.prototype.whenTargetIsDefault = function () {
                  return this._bindingWhenSyntax.whenTargetIsDefault();
                }),
                (e.prototype.whenTargetTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenTargetTagged(e, t);
                }),
                (e.prototype.whenInjectedInto = function (e) {
                  return this._bindingWhenSyntax.whenInjectedInto(e);
                }),
                (e.prototype.whenParentNamed = function (e) {
                  return this._bindingWhenSyntax.whenParentNamed(e);
                }),
                (e.prototype.whenParentTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenParentTagged(e, t);
                }),
                (e.prototype.whenAnyAncestorIs = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorIs(e);
                }),
                (e.prototype.whenNoAncestorIs = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorIs(e);
                }),
                (e.prototype.whenAnyAncestorNamed = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorNamed(e);
                }),
                (e.prototype.whenAnyAncestorTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenAnyAncestorTagged(e, t);
                }),
                (e.prototype.whenNoAncestorNamed = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorNamed(e);
                }),
                (e.prototype.whenNoAncestorTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenNoAncestorTagged(e, t);
                }),
                (e.prototype.whenAnyAncestorMatches = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorMatches(e);
                }),
                (e.prototype.whenNoAncestorMatches = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorMatches(e);
                }),
                (e.prototype.onActivation = function (e) {
                  return this._bindingOnSyntax.onActivation(e);
                }),
                (e.prototype.onDeactivation = function (e) {
                  return this._bindingOnSyntax.onDeactivation(e);
                }),
                e
              );
            })(),
            ze = (function () {
              function e(e) {
                this._binding = e;
              }
              return (
                (e.prototype.inRequestScope = function () {
                  return (this._binding.scope = b), new Ue(this._binding);
                }),
                (e.prototype.inSingletonScope = function () {
                  return (this._binding.scope = E), new Ue(this._binding);
                }),
                (e.prototype.inTransientScope = function () {
                  return (this._binding.scope = _), new Ue(this._binding);
                }),
                e
              );
            })(),
            Le = (function () {
              function e(e) {
                (this._binding = e),
                  (this._bindingWhenSyntax = new Be(this._binding)),
                  (this._bindingOnSyntax = new Ve(this._binding)),
                  (this._bindingInSyntax = new ze(e));
              }
              return (
                (e.prototype.inRequestScope = function () {
                  return this._bindingInSyntax.inRequestScope();
                }),
                (e.prototype.inSingletonScope = function () {
                  return this._bindingInSyntax.inSingletonScope();
                }),
                (e.prototype.inTransientScope = function () {
                  return this._bindingInSyntax.inTransientScope();
                }),
                (e.prototype.when = function (e) {
                  return this._bindingWhenSyntax.when(e);
                }),
                (e.prototype.whenTargetNamed = function (e) {
                  return this._bindingWhenSyntax.whenTargetNamed(e);
                }),
                (e.prototype.whenTargetIsDefault = function () {
                  return this._bindingWhenSyntax.whenTargetIsDefault();
                }),
                (e.prototype.whenTargetTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenTargetTagged(e, t);
                }),
                (e.prototype.whenInjectedInto = function (e) {
                  return this._bindingWhenSyntax.whenInjectedInto(e);
                }),
                (e.prototype.whenParentNamed = function (e) {
                  return this._bindingWhenSyntax.whenParentNamed(e);
                }),
                (e.prototype.whenParentTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenParentTagged(e, t);
                }),
                (e.prototype.whenAnyAncestorIs = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorIs(e);
                }),
                (e.prototype.whenNoAncestorIs = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorIs(e);
                }),
                (e.prototype.whenAnyAncestorNamed = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorNamed(e);
                }),
                (e.prototype.whenAnyAncestorTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenAnyAncestorTagged(e, t);
                }),
                (e.prototype.whenNoAncestorNamed = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorNamed(e);
                }),
                (e.prototype.whenNoAncestorTagged = function (e, t) {
                  return this._bindingWhenSyntax.whenNoAncestorTagged(e, t);
                }),
                (e.prototype.whenAnyAncestorMatches = function (e) {
                  return this._bindingWhenSyntax.whenAnyAncestorMatches(e);
                }),
                (e.prototype.whenNoAncestorMatches = function (e) {
                  return this._bindingWhenSyntax.whenNoAncestorMatches(e);
                }),
                (e.prototype.onActivation = function (e) {
                  return this._bindingOnSyntax.onActivation(e);
                }),
                (e.prototype.onDeactivation = function (e) {
                  return this._bindingOnSyntax.onDeactivation(e);
                }),
                e
              );
            })(),
            qe = (function () {
              function e(e) {
                this._binding = e;
              }
              return (
                (e.prototype.to = function (e) {
                  return (
                    (this._binding.type = S.Instance),
                    (this._binding.implementationType = e),
                    new Le(this._binding)
                  );
                }),
                (e.prototype.toSelf = function () {
                  if ("function" != typeof this._binding.serviceIdentifier)
                    throw new Error(
                      "The toSelf function can only be applied when a constructor is used as service identifier"
                    );
                  var e = this._binding.serviceIdentifier;
                  return this.to(e);
                }),
                (e.prototype.toConstantValue = function (e) {
                  return (
                    (this._binding.type = S.ConstantValue),
                    (this._binding.cache = e),
                    (this._binding.dynamicValue = null),
                    (this._binding.implementationType = null),
                    (this._binding.scope = E),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toDynamicValue = function (e) {
                  return (
                    (this._binding.type = S.DynamicValue),
                    (this._binding.cache = null),
                    (this._binding.dynamicValue = e),
                    (this._binding.implementationType = null),
                    new Le(this._binding)
                  );
                }),
                (e.prototype.toConstructor = function (e) {
                  return (
                    (this._binding.type = S.Constructor),
                    (this._binding.implementationType = e),
                    (this._binding.scope = E),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toFactory = function (e) {
                  return (
                    (this._binding.type = S.Factory),
                    (this._binding.factory = e),
                    (this._binding.scope = E),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toFunction = function (e) {
                  if ("function" != typeof e)
                    throw new Error(
                      "Value provided to function binding must be a function!"
                    );
                  var t = this.toConstantValue(e);
                  return (
                    (this._binding.type = S.Function),
                    (this._binding.scope = E),
                    t
                  );
                }),
                (e.prototype.toAutoFactory = function (e) {
                  return (
                    (this._binding.type = S.Factory),
                    (this._binding.factory = function (t) {
                      return function () {
                        return t.container.get(e);
                      };
                    }),
                    (this._binding.scope = E),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toAutoNamedFactory = function (e) {
                  return (
                    (this._binding.type = S.Factory),
                    (this._binding.factory = function (t) {
                      return function (n) {
                        return t.container.getNamed(e, n);
                      };
                    }),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toProvider = function (e) {
                  return (
                    (this._binding.type = S.Provider),
                    (this._binding.provider = e),
                    (this._binding.scope = E),
                    new Ue(this._binding)
                  );
                }),
                (e.prototype.toService = function (e) {
                  this.toDynamicValue(function (t) {
                    return t.container.get(e);
                  });
                }),
                e
              );
            })(),
            He = (function () {
              function e() {}
              return (
                (e.of = function (t, n, r, i, o) {
                  var a = new e();
                  return (
                    (a.bindings = t),
                    (a.middleware = n),
                    (a.deactivations = i),
                    (a.activations = r),
                    (a.moduleActivationStore = o),
                    a
                  );
                }),
                e
              );
            })(),
            Ke = (function () {
              function e() {
                this._map = new Map();
              }
              return (
                (e.prototype.getMap = function () {
                  return this._map;
                }),
                (e.prototype.add = function (e, t) {
                  if (null == e) throw new Error(C);
                  if (null == t) throw new Error(C);
                  var n = this._map.get(e);
                  void 0 !== n ? n.push(t) : this._map.set(e, [t]);
                }),
                (e.prototype.get = function (e) {
                  if (null == e) throw new Error(C);
                  var t = this._map.get(e);
                  if (void 0 !== t) return t;
                  throw new Error(T);
                }),
                (e.prototype.remove = function (e) {
                  if (null == e) throw new Error(C);
                  if (!this._map.delete(e)) throw new Error(T);
                }),
                (e.prototype.removeIntersection = function (e) {
                  var t = this;
                  this.traverse(function (n, r) {
                    var i = e.hasKey(n) ? e.get(n) : void 0;
                    if (void 0 !== i) {
                      var o = r.filter(function (e) {
                        return !i.some(function (t) {
                          return e === t;
                        });
                      });
                      t._setValue(n, o);
                    }
                  });
                }),
                (e.prototype.removeByCondition = function (e) {
                  var t = this,
                    n = [];
                  return (
                    this._map.forEach(function (r, i) {
                      for (var o = [], a = 0, s = r; a < s.length; a++) {
                        var u = s[a];
                        e(u) ? n.push(u) : o.push(u);
                      }
                      t._setValue(i, o);
                    }),
                    n
                  );
                }),
                (e.prototype.hasKey = function (e) {
                  if (null == e) throw new Error(C);
                  return this._map.has(e);
                }),
                (e.prototype.clone = function () {
                  var t = new e();
                  return (
                    this._map.forEach(function (e, n) {
                      e.forEach(function (e) {
                        return t.add(
                          n,
                          (function (e) {
                            return (
                              "object" == typeof e &&
                              null !== e &&
                              "clone" in e &&
                              "function" == typeof e.clone
                            );
                          })(e)
                            ? e.clone()
                            : e
                        );
                      });
                    }),
                    t
                  );
                }),
                (e.prototype.traverse = function (e) {
                  this._map.forEach(function (t, n) {
                    e(n, t);
                  });
                }),
                (e.prototype._setValue = function (e, t) {
                  t.length > 0 ? this._map.set(e, t) : this._map.delete(e);
                }),
                e
              );
            })(),
            Je = (function () {
              function e() {
                this._map = new Map();
              }
              return (
                (e.prototype.remove = function (e) {
                  if (this._map.has(e)) {
                    var t = this._map.get(e);
                    return this._map.delete(e), t;
                  }
                  return this._getEmptyHandlersStore();
                }),
                (e.prototype.addDeactivation = function (e, t, n) {
                  this._getModuleActivationHandlers(e).onDeactivations.add(
                    t,
                    n
                  );
                }),
                (e.prototype.addActivation = function (e, t, n) {
                  this._getModuleActivationHandlers(e).onActivations.add(t, n);
                }),
                (e.prototype.clone = function () {
                  var t = new e();
                  return (
                    this._map.forEach(function (e, n) {
                      t._map.set(n, {
                        onActivations: e.onActivations.clone(),
                        onDeactivations: e.onDeactivations.clone()
                      });
                    }),
                    t
                  );
                }),
                (e.prototype._getModuleActivationHandlers = function (e) {
                  var t = this._map.get(e);
                  return (
                    void 0 === t &&
                      ((t = this._getEmptyHandlersStore()),
                      this._map.set(e, t)),
                    t
                  );
                }),
                (e.prototype._getEmptyHandlersStore = function () {
                  return { onActivations: new Ke(), onDeactivations: new Ke() };
                }),
                e
              );
            })(),
            $e =
              (globalThis && globalThis.__assign) ||
              function () {
                return (
                  ($e =
                    Object.assign ||
                    function (e) {
                      for (var t, n = 1, r = arguments.length; n < r; n++)
                        for (var i in (t = arguments[n]))
                          Object.prototype.hasOwnProperty.call(t, i) &&
                            (e[i] = t[i]);
                      return e;
                    }),
                  $e.apply(this, arguments)
                );
              },
            Ge =
              (globalThis && globalThis.__awaiter) ||
              function (e, t, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(e) {
                    try {
                      u(r.next(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function s(e) {
                    try {
                      u(r.throw(e));
                    } catch (e) {
                      o(e);
                    }
                  }
                  function u(e) {
                    e.done
                      ? i(e.value)
                      : (function (e) {
                          return e instanceof n
                            ? e
                            : new n(function (t) {
                                t(e);
                              });
                        })(e.value).then(a, s);
                  }
                  u((r = r.apply(e, t || [])).next());
                });
              },
            Qe =
              (globalThis && globalThis.__generator) ||
              function (e, t) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: []
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  "function" == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n)
                        throw new TypeError("Generator is already executing.");
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (
                            ((r = 0), i && (o = [2 & o[0], i.value]), o[0])
                          ) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(i =
                                  (i = a.trys).length > 0 && i[i.length - 1]) &&
                                (6 === o[0] || 2 === o[0])
                              ) {
                                a = 0;
                                continue;
                              }
                              if (
                                3 === o[0] &&
                                (!i || (o[1] > i[0] && o[1] < i[3]))
                              ) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = t.call(e, a);
                        } catch (e) {
                          (o = [6, e]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              },
            Ye =
              (globalThis && globalThis.__spreadArray) ||
              function (e, t, n) {
                if (n || 2 === arguments.length)
                  for (var r, i = 0, o = t.length; i < o; i++)
                    (r || !(i in t)) &&
                      (r || (r = Array.prototype.slice.call(t, 0, i)),
                      (r[i] = t[i]));
                return e.concat(r || Array.prototype.slice.call(t));
              },
            Xe = (function () {
              function e(e) {
                var t = e || {};
                if ("object" != typeof t)
                  throw new Error(
                    "Invalid Container constructor argument. Container options must be an object."
                  );
                if (void 0 === t.defaultScope) t.defaultScope = _;
                else if (
                  t.defaultScope !== E &&
                  t.defaultScope !== _ &&
                  t.defaultScope !== b
                )
                  throw new Error(
                    "Invalid Container option. Default scope must be a string ('singleton' or 'transient')."
                  );
                if (void 0 === t.autoBindInjectable) t.autoBindInjectable = !1;
                else if ("boolean" != typeof t.autoBindInjectable)
                  throw new Error(
                    "Invalid Container option. Auto bind injectable must be a boolean"
                  );
                if (void 0 === t.skipBaseClassChecks)
                  t.skipBaseClassChecks = !1;
                else if ("boolean" != typeof t.skipBaseClassChecks)
                  throw new Error(
                    "Invalid Container option. Skip base check must be a boolean"
                  );
                (this.options = {
                  autoBindInjectable: t.autoBindInjectable,
                  defaultScope: t.defaultScope,
                  skipBaseClassChecks: t.skipBaseClassChecks
                }),
                  (this.id = P()),
                  (this._bindingDictionary = new Ke()),
                  (this._snapshots = []),
                  (this._middleware = null),
                  (this._activations = new Ke()),
                  (this._deactivations = new Ke()),
                  (this.parent = null),
                  (this._metadataReader = new W()),
                  (this._moduleActivationStore = new Je());
              }
              return (
                (e.merge = function (t, n) {
                  for (var r = [], i = 2; i < arguments.length; i++)
                    r[i - 2] = arguments[i];
                  var o = new e(),
                    a = Ye([t, n], r, !0).map(function (e) {
                      return ae(e);
                    }),
                    s = ae(o);
                  return (
                    a.forEach(function (e) {
                      !(function (e, t) {
                        e.traverse(function (e, n) {
                          n.forEach(function (e) {
                            t.add(e.serviceIdentifier, e.clone());
                          });
                        });
                      })(e, s);
                    }),
                    o
                  );
                }),
                (e.prototype.load = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  for (
                    var n = this._getContainerModuleHelpersFactory(),
                      r = 0,
                      i = e;
                    r < i.length;
                    r++
                  ) {
                    var o = i[r],
                      a = n(o.id);
                    o.registry(
                      a.bindFunction,
                      a.unbindFunction,
                      a.isboundFunction,
                      a.rebindFunction,
                      a.unbindAsyncFunction,
                      a.onActivationFunction,
                      a.onDeactivationFunction
                    );
                  }
                }),
                (e.prototype.loadAsync = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return Ge(this, void 0, void 0, function () {
                    var t, n, r, i, o;
                    return Qe(this, function (a) {
                      switch (a.label) {
                        case 0:
                          (t = this._getContainerModuleHelpersFactory()),
                            (n = 0),
                            (r = e),
                            (a.label = 1);
                        case 1:
                          return n < r.length
                            ? ((i = r[n]),
                              (o = t(i.id)),
                              [
                                4,
                                i.registry(
                                  o.bindFunction,
                                  o.unbindFunction,
                                  o.isboundFunction,
                                  o.rebindFunction,
                                  o.unbindAsyncFunction,
                                  o.onActivationFunction,
                                  o.onDeactivationFunction
                                )
                              ])
                            : [3, 4];
                        case 2:
                          a.sent(), (a.label = 3);
                        case 3:
                          return n++, [3, 1];
                        case 4:
                          return [2];
                      }
                    });
                  });
                }),
                (e.prototype.unload = function () {
                  for (var e = this, t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  t.forEach(function (t) {
                    var n = e._removeModuleBindings(t.id);
                    e._deactivateSingletons(n), e._removeModuleHandlers(t.id);
                  });
                }),
                (e.prototype.unloadAsync = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return Ge(this, void 0, void 0, function () {
                    var t, n, r, i;
                    return Qe(this, function (o) {
                      switch (o.label) {
                        case 0:
                          (t = 0), (n = e), (o.label = 1);
                        case 1:
                          return t < n.length
                            ? ((r = n[t]),
                              (i = this._removeModuleBindings(r.id)),
                              [4, this._deactivateSingletonsAsync(i)])
                            : [3, 4];
                        case 2:
                          o.sent(),
                            this._removeModuleHandlers(r.id),
                            (o.label = 3);
                        case 3:
                          return t++, [3, 1];
                        case 4:
                          return [2];
                      }
                    });
                  });
                }),
                (e.prototype.bind = function (e) {
                  var t = this.options.defaultScope || _,
                    n = new A(e, t);
                  return this._bindingDictionary.add(e, n), new qe(n);
                }),
                (e.prototype.rebind = function (e) {
                  return this.unbind(e), this.bind(e);
                }),
                (e.prototype.rebindAsync = function (e) {
                  return Ge(this, void 0, void 0, function () {
                    return Qe(this, function (t) {
                      switch (t.label) {
                        case 0:
                          return [4, this.unbindAsync(e)];
                        case 1:
                          return t.sent(), [2, this.bind(e)];
                      }
                    });
                  });
                }),
                (e.prototype.unbind = function (e) {
                  if (this._bindingDictionary.hasKey(e)) {
                    var t = this._bindingDictionary.get(e);
                    this._deactivateSingletons(t);
                  }
                  this._removeServiceFromDictionary(e);
                }),
                (e.prototype.unbindAsync = function (e) {
                  return Ge(this, void 0, void 0, function () {
                    var t;
                    return Qe(this, function (n) {
                      switch (n.label) {
                        case 0:
                          return this._bindingDictionary.hasKey(e)
                            ? ((t = this._bindingDictionary.get(e)),
                              [4, this._deactivateSingletonsAsync(t)])
                            : [3, 2];
                        case 1:
                          n.sent(), (n.label = 2);
                        case 2:
                          return this._removeServiceFromDictionary(e), [2];
                      }
                    });
                  });
                }),
                (e.prototype.unbindAll = function () {
                  var e = this;
                  this._bindingDictionary.traverse(function (t, n) {
                    e._deactivateSingletons(n);
                  }),
                    (this._bindingDictionary = new Ke());
                }),
                (e.prototype.unbindAllAsync = function () {
                  return Ge(this, void 0, void 0, function () {
                    var e,
                      t = this;
                    return Qe(this, function (n) {
                      switch (n.label) {
                        case 0:
                          return (
                            (e = []),
                            this._bindingDictionary.traverse(function (n, r) {
                              e.push(t._deactivateSingletonsAsync(r));
                            }),
                            [4, Promise.all(e)]
                          );
                        case 1:
                          return (
                            n.sent(), (this._bindingDictionary = new Ke()), [2]
                          );
                      }
                    });
                  });
                }),
                (e.prototype.onActivation = function (e, t) {
                  this._activations.add(e, t);
                }),
                (e.prototype.onDeactivation = function (e, t) {
                  this._deactivations.add(e, t);
                }),
                (e.prototype.isBound = function (e) {
                  var t = this._bindingDictionary.hasKey(e);
                  return !t && this.parent && (t = this.parent.isBound(e)), t;
                }),
                (e.prototype.isCurrentBound = function (e) {
                  return this._bindingDictionary.hasKey(e);
                }),
                (e.prototype.isBoundNamed = function (e, t) {
                  return this.isBoundTagged(e, d, t);
                }),
                (e.prototype.isBoundTagged = function (e, t, n) {
                  var r = !1;
                  if (this._bindingDictionary.hasKey(e)) {
                    var i = this._bindingDictionary.get(e),
                      o = (function (e, t, n, r) {
                        var i = new Y(x.Variable, "", t, new J(n, r)),
                          o = new K(e);
                        return new oe(t, o, null, [], i);
                      })(this, e, t, n);
                    r = i.some(function (e) {
                      return e.constraint(o);
                    });
                  }
                  return (
                    !r &&
                      this.parent &&
                      (r = this.parent.isBoundTagged(e, t, n)),
                    r
                  );
                }),
                (e.prototype.snapshot = function () {
                  this._snapshots.push(
                    He.of(
                      this._bindingDictionary.clone(),
                      this._middleware,
                      this._activations.clone(),
                      this._deactivations.clone(),
                      this._moduleActivationStore.clone()
                    )
                  );
                }),
                (e.prototype.restore = function () {
                  var e = this._snapshots.pop();
                  if (void 0 === e)
                    throw new Error("No snapshot available to restore.");
                  (this._bindingDictionary = e.bindings),
                    (this._activations = e.activations),
                    (this._deactivations = e.deactivations),
                    (this._middleware = e.middleware),
                    (this._moduleActivationStore = e.moduleActivationStore);
                }),
                (e.prototype.createChild = function (t) {
                  var n = new e(t || this.options);
                  return (n.parent = this), n;
                }),
                (e.prototype.applyMiddleware = function () {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  var n = this._middleware
                    ? this._middleware
                    : this._planAndResolve();
                  this._middleware = e.reduce(function (e, t) {
                    return t(e);
                  }, n);
                }),
                (e.prototype.applyCustomMetadataReader = function (e) {
                  this._metadataReader = e;
                }),
                (e.prototype.get = function (e) {
                  var t = this._getNotAllArgs(e, !1);
                  return this._getButThrowIfAsync(t);
                }),
                (e.prototype.getAsync = function (e) {
                  return Ge(this, void 0, void 0, function () {
                    var t;
                    return Qe(this, function (n) {
                      return (
                        (t = this._getNotAllArgs(e, !1)), [2, this._get(t)]
                      );
                    });
                  });
                }),
                (e.prototype.getTagged = function (e, t, n) {
                  var r = this._getNotAllArgs(e, !1, t, n);
                  return this._getButThrowIfAsync(r);
                }),
                (e.prototype.getTaggedAsync = function (e, t, n) {
                  return Ge(this, void 0, void 0, function () {
                    var r;
                    return Qe(this, function (i) {
                      return (
                        (r = this._getNotAllArgs(e, !1, t, n)),
                        [2, this._get(r)]
                      );
                    });
                  });
                }),
                (e.prototype.getNamed = function (e, t) {
                  return this.getTagged(e, d, t);
                }),
                (e.prototype.getNamedAsync = function (e, t) {
                  return this.getTaggedAsync(e, d, t);
                }),
                (e.prototype.getAll = function (e) {
                  var t = this._getAllArgs(e);
                  return this._getButThrowIfAsync(t);
                }),
                (e.prototype.getAllAsync = function (e) {
                  var t = this._getAllArgs(e);
                  return this._getAll(t);
                }),
                (e.prototype.getAllTagged = function (e, t, n) {
                  var r = this._getNotAllArgs(e, !0, t, n);
                  return this._getButThrowIfAsync(r);
                }),
                (e.prototype.getAllTaggedAsync = function (e, t, n) {
                  var r = this._getNotAllArgs(e, !0, t, n);
                  return this._getAll(r);
                }),
                (e.prototype.getAllNamed = function (e, t) {
                  return this.getAllTagged(e, d, t);
                }),
                (e.prototype.getAllNamedAsync = function (e, t) {
                  return this.getAllTaggedAsync(e, d, t);
                }),
                (e.prototype.resolve = function (e) {
                  var t = this.isBound(e);
                  t || this.bind(e).toSelf();
                  var n = this.get(e);
                  return t || this.unbind(e), n;
                }),
                (e.prototype._preDestroy = function (e, t) {
                  if (Reflect.hasMetadata(g, e))
                    return t[Reflect.getMetadata(g, e).value]();
                }),
                (e.prototype._removeModuleHandlers = function (e) {
                  var t = this._moduleActivationStore.remove(e);
                  this._activations.removeIntersection(t.onActivations),
                    this._deactivations.removeIntersection(t.onDeactivations);
                }),
                (e.prototype._removeModuleBindings = function (e) {
                  return this._bindingDictionary.removeByCondition(
                    function (t) {
                      return t.moduleId === e;
                    }
                  );
                }),
                (e.prototype._deactivate = function (e, t) {
                  var n = this,
                    r = Object.getPrototypeOf(t).constructor;
                  try {
                    if (this._deactivations.hasKey(e.serviceIdentifier)) {
                      var i = this._deactivateContainer(
                        t,
                        this._deactivations.get(e.serviceIdentifier).values()
                      );
                      if (de(i))
                        return this._handleDeactivationError(
                          i.then(function () {
                            return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(
                              e,
                              t,
                              r
                            );
                          }),
                          r
                        );
                    }
                    var o =
                      this._propagateContainerDeactivationThenBindingAndPreDestroy(
                        e,
                        t,
                        r
                      );
                    if (de(o)) return this._handleDeactivationError(o, r);
                  } catch (e) {
                    throw new Error(F(r.name, e.message));
                  }
                }),
                (e.prototype._handleDeactivationError = function (e, t) {
                  return Ge(this, void 0, void 0, function () {
                    var n;
                    return Qe(this, function (r) {
                      switch (r.label) {
                        case 0:
                          return r.trys.push([0, 2, , 3]), [4, e];
                        case 1:
                          return r.sent(), [3, 3];
                        case 2:
                          throw (
                            ((n = r.sent()), new Error(F(t.name, n.message)))
                          );
                        case 3:
                          return [2];
                      }
                    });
                  });
                }),
                (e.prototype._deactivateContainer = function (e, t) {
                  for (var n = this, r = t.next(); r.value; ) {
                    var i = r.value(e);
                    if (de(i))
                      return i.then(function () {
                        return n._deactivateContainerAsync(e, t);
                      });
                    r = t.next();
                  }
                }),
                (e.prototype._deactivateContainerAsync = function (e, t) {
                  return Ge(this, void 0, void 0, function () {
                    var n;
                    return Qe(this, function (r) {
                      switch (r.label) {
                        case 0:
                          (n = t.next()), (r.label = 1);
                        case 1:
                          return n.value ? [4, n.value(e)] : [3, 3];
                        case 2:
                          return r.sent(), (n = t.next()), [3, 1];
                        case 3:
                          return [2];
                      }
                    });
                  });
                }),
                (e.prototype._getContainerModuleHelpersFactory = function () {
                  var e = this,
                    t = function (e, t) {
                      e._binding.moduleId = t;
                    },
                    n = function (n) {
                      return function (r) {
                        var i = e.bind(r);
                        return t(i, n), i;
                      };
                    },
                    r = function (n) {
                      return function (r) {
                        var i = e.rebind(r);
                        return t(i, n), i;
                      };
                    },
                    i = function (t) {
                      return function (n, r) {
                        e._moduleActivationStore.addActivation(t, n, r),
                          e.onActivation(n, r);
                      };
                    },
                    o = function (t) {
                      return function (n, r) {
                        e._moduleActivationStore.addDeactivation(t, n, r),
                          e.onDeactivation(n, r);
                      };
                    };
                  return function (t) {
                    return {
                      bindFunction: n(t),
                      isboundFunction: function (t) {
                        return e.isBound(t);
                      },
                      onActivationFunction: i(t),
                      onDeactivationFunction: o(t),
                      rebindFunction: r(t),
                      unbindFunction: function (t) {
                        return e.unbind(t);
                      },
                      unbindAsyncFunction: function (t) {
                        return e.unbindAsync(t);
                      }
                    };
                  };
                }),
                (e.prototype._getAll = function (e) {
                  return Promise.all(this._get(e));
                }),
                (e.prototype._get = function (e) {
                  var t = $e($e({}, e), {
                    contextInterceptor: function (e) {
                      return e;
                    },
                    targetType: x.Variable
                  });
                  if (this._middleware) {
                    var n = this._middleware(t);
                    if (null == n)
                      throw new Error(
                        "Invalid return type in middleware. Middleware must return!"
                      );
                    return n;
                  }
                  return this._planAndResolve()(t);
                }),
                (e.prototype._getButThrowIfAsync = function (e) {
                  var t = this._get(e);
                  if (le(t))
                    throw new Error(
                      (function (e) {
                        return (
                          "You are attempting to construct '" +
                          e +
                          "' in a synchronous way\n but it has asynchronous dependencies."
                        );
                      })(e.serviceIdentifier)
                    );
                  return t;
                }),
                (e.prototype._getAllArgs = function (e) {
                  return {
                    avoidConstraints: !0,
                    isMultiInject: !0,
                    serviceIdentifier: e
                  };
                }),
                (e.prototype._getNotAllArgs = function (e, t, n, r) {
                  return {
                    avoidConstraints: !1,
                    isMultiInject: t,
                    serviceIdentifier: e,
                    key: n,
                    value: r
                  };
                }),
                (e.prototype._planAndResolve = function () {
                  var e = this;
                  return function (t) {
                    var n = (function (e, t, n, r, i, o, a, s) {
                        void 0 === s && (s = !1);
                        var u = new K(t),
                          c = (function (e, t, n, r, i, o) {
                            var a = new J(e ? y : p, n),
                              s = new Y(t, "", n, a);
                            if (void 0 !== i) {
                              var u = new J(i, o);
                              s.metadata.push(u);
                            }
                            return s;
                          })(n, r, i, 0, o, a);
                        try {
                          return ue(e, s, i, u, null, c), u;
                        } catch (e) {
                          throw (V(e) && q(u.plan.rootRequest), e);
                        }
                      })(
                        e._metadataReader,
                        e,
                        t.isMultiInject,
                        t.targetType,
                        t.serviceIdentifier,
                        t.key,
                        t.value,
                        t.avoidConstraints
                      ),
                      r = (function (e) {
                        return Oe(e.plan.rootRequest.requestScope)(
                          e.plan.rootRequest
                        );
                      })((n = t.contextInterceptor(n)));
                    return r;
                  };
                }),
                (e.prototype._deactivateIfSingleton = function (e) {
                  var t = this;
                  if (e.activated)
                    return de(e.cache)
                      ? e.cache.then(function (n) {
                          return t._deactivate(e, n);
                        })
                      : this._deactivate(e, e.cache);
                }),
                (e.prototype._deactivateSingletons = function (e) {
                  for (var t = 0, n = e; t < n.length; t++) {
                    var r = n[t];
                    if (de(this._deactivateIfSingleton(r)))
                      throw new Error(
                        "Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)"
                      );
                  }
                }),
                (e.prototype._deactivateSingletonsAsync = function (e) {
                  return Ge(this, void 0, void 0, function () {
                    var t = this;
                    return Qe(this, function (n) {
                      switch (n.label) {
                        case 0:
                          return [
                            4,
                            Promise.all(
                              e.map(function (e) {
                                return t._deactivateIfSingleton(e);
                              })
                            )
                          ];
                        case 1:
                          return n.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype._propagateContainerDeactivationThenBindingAndPreDestroy =
                  function (e, t, n) {
                    return this.parent
                      ? this._deactivate.bind(this.parent)(e, t)
                      : this._bindingDeactivationAndPreDestroy(e, t, n);
                  }),
                (e.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync =
                  function (e, t, n) {
                    return Ge(this, void 0, void 0, function () {
                      return Qe(this, function (r) {
                        switch (r.label) {
                          case 0:
                            return this.parent
                              ? [4, this._deactivate.bind(this.parent)(e, t)]
                              : [3, 2];
                          case 1:
                            return r.sent(), [3, 4];
                          case 2:
                            return [
                              4,
                              this._bindingDeactivationAndPreDestroyAsync(
                                e,
                                t,
                                n
                              )
                            ];
                          case 3:
                            r.sent(), (r.label = 4);
                          case 4:
                            return [2];
                        }
                      });
                    });
                  }),
                (e.prototype._removeServiceFromDictionary = function (e) {
                  try {
                    this._bindingDictionary.remove(e);
                  } catch {
                    throw new Error(
                      "Could not unbind serviceIdentifier: " + U(e)
                    );
                  }
                }),
                (e.prototype._bindingDeactivationAndPreDestroy = function (
                  e,
                  t,
                  n
                ) {
                  var r = this;
                  if ("function" == typeof e.onDeactivation) {
                    var i = e.onDeactivation(t);
                    if (de(i))
                      return i.then(function () {
                        return r._preDestroy(n, t);
                      });
                  }
                  return this._preDestroy(n, t);
                }),
                (e.prototype._bindingDeactivationAndPreDestroyAsync = function (
                  e,
                  t,
                  n
                ) {
                  return Ge(this, void 0, void 0, function () {
                    return Qe(this, function (r) {
                      switch (r.label) {
                        case 0:
                          return "function" != typeof e.onDeactivation
                            ? [3, 2]
                            : [4, e.onDeactivation(t)];
                        case 1:
                          r.sent(), (r.label = 2);
                        case 2:
                          return [4, this._preDestroy(n, t)];
                        case 3:
                          return r.sent(), [2];
                      }
                    });
                  });
                }),
                e
              );
            })();
          function Ze() {
            return function (e) {
              if (Reflect.hasOwnMetadata(w, e))
                throw new Error(
                  "Cannot apply @injectable decorator multiple times."
                );
              var t = Reflect.getMetadata("design:paramtypes", e) || [];
              return Reflect.defineMetadata(w, t, e), e;
            };
          }
          Object.defineProperty, Object.getOwnPropertyDescriptor;
          let et = class {
            constructor() {
              i(this, "_publicHeader", "Public-Merchant-Id"),
                i(this, "requestBinInfo", async (e, t) => {
                  try {
                    const n = `${e.getBaseUrl()}${c.bin_info}${t.bin}`,
                      r = (
                        await o.axios.get(n, {
                          headers: this._buildHeader(e.getPublicCredentialId())
                        })
                      ).data;
                    return Promise.resolve(r);
                  } catch {
                    return Promise.reject(o.ERRORS.E001);
                  }
                }),
                i(this, "requestDeferredInfo", async (e, t) => {
                  try {
                    const n = `${e.getBaseUrl()}${c.deferred_info}${t.bin}`,
                      r = (
                        await o.axios.get(n, {
                          headers: this._buildHeader(e.getPublicCredentialId())
                        })
                      ).data;
                    return Promise.resolve(r);
                  } catch (e) {
                    return Promise.reject(
                      new o.KushkiError(o.ERRORS.E001, e.message)
                    );
                  }
                }),
                i(this, "requestMerchantSettings", async (e) => {
                  const t = `${e.getBaseUrl()}${c.merchant_settings}`;
                  try {
                    const { data: n } = await o.axios.get(t, {
                      headers: this._buildHeader(e.getPublicCredentialId())
                    });
                    return Promise.resolve(n);
                  } catch (e) {
                    return Promise.reject(
                      new o.KushkiError(o.ERRORS.E003, e.message)
                    );
                  }
                }),
                i(this, "requestCybersourceJwt", async (e) => {
                  const t = `${e.getBaseUrl()}${c.cybersource_jwt}`;
                  try {
                    const { data: n } = await o.axios.get(t, {
                      headers: this._buildHeader(e.getPublicCredentialId())
                    });
                    return Promise.resolve(n);
                  } catch (e) {
                    return Promise.reject(
                      new o.KushkiError(o.ERRORS.E004, e.message)
                    );
                  }
                }),
                i(this, "requestSecureServiceValidation", async (e, t) => {
                  const n = `${e.getBaseUrl()}${c.secure_validation}`;
                  try {
                    const { data: r } = await o.axios.post(n, t, {
                      headers: this._buildHeader(e.getPublicCredentialId())
                    });
                    return Promise.resolve(r);
                  } catch (e) {
                    return Promise.reject(
                      new o.KushkiError(o.ERRORS.E006, e.message)
                    );
                  }
                });
            }
            _buildHeader(e) {
              return { [this._publicHeader]: e };
            }
          };
          et = ((e, t, n, r) => {
            for (var i, o = t, a = e.length - 1; a >= 0; a--)
              (i = e[a]) && (o = i(o) || o);
            return o;
          })([Ze()], et);
          const tt = {
            Cardinal3DSProvider: Symbol.for("Cardinal3DSProvider"),
            KushkiGateway: Symbol.for("KushkiGateway"),
            Sandbox3DSProvider: Symbol.for("Sandbox3DSProvider"),
            SiftScienceService: Symbol.for("SiftScienceService")
          };
          let nt;
          const rt = new Uint8Array(16);
          function it() {
            if (
              !nt &&
              ((nt =
                typeof crypto < "u" &&
                crypto.getRandomValues &&
                crypto.getRandomValues.bind(crypto)),
              !nt)
            )
              throw new Error(
                "crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported"
              );
            return nt(rt);
          }
          const ot = [];
          for (let e = 0; e < 256; ++e)
            ot.push((e + 256).toString(16).slice(1));
          const at = {
            randomUUID:
              typeof crypto < "u" &&
              crypto.randomUUID &&
              crypto.randomUUID.bind(crypto)
          };
          function st(e, t, n) {
            if (at.randomUUID && !t && !e) return at.randomUUID();
            const r = (e = e || {}).random || (e.rng || it)();
            if (((r[6] = (15 & r[6]) | 64), (r[8] = (63 & r[8]) | 128), t)) {
              n = n || 0;
              for (let e = 0; e < 16; ++e) t[n + e] = r[e];
              return t;
            }
            return (function (e, t = 0) {
              return (
                ot[e[t + 0]] +
                ot[e[t + 1]] +
                ot[e[t + 2]] +
                ot[e[t + 3]] +
                "-" +
                ot[e[t + 4]] +
                ot[e[t + 5]] +
                "-" +
                ot[e[t + 6]] +
                ot[e[t + 7]] +
                "-" +
                ot[e[t + 8]] +
                ot[e[t + 9]] +
                "-" +
                ot[e[t + 10]] +
                ot[e[t + 11]] +
                ot[e[t + 12]] +
                ot[e[t + 13]] +
                ot[e[t + 14]] +
                ot[e[t + 15]]
              );
            })(r);
          }
          Object.defineProperty, Object.getOwnPropertyDescriptor;
          let ut = class {
            createSiftScienceSession(e, t, n, r, i) {
              const o = n.getEnvironmentSift();
              if (this._validateMerchantSettings(o, r))
                return { sessionId: void 0, userId: void 0 };
              const a = i || `${n.getPublicCredentialId()}${e}${t}`;
              return { sessionId: st(), userId: a };
            }
            _validateMerchantSettings(e, t) {
              return "" === t[e] || null === t[e];
            }
          };
          ut = ((e, t, n, r) => {
            for (var i, o = t, a = e.length - 1; a >= 0; a--)
              (i = e[a]) && (o = i(o) || o);
            return o;
          })([Ze()], ut);
          const ct = (e) =>
              !(!e.security || e.security.authRequired) || !e.security,
            dt = (e, t) =>
              !!(
                e.security &&
                e.security.authRequired &&
                void 0 !== e.security.acsURL &&
                void 0 !== e.security.paReq &&
                e.security.authenticationTransactionId &&
                (t || +e.security.specificationVersion.split(".")[0] >= 2)
              ),
            lt = (e) =>
              "message" in e &&
              (("3DS000" === e.message && "ok" === e.code) ||
                ("3DS000" === e.code && "ok" === e.message));
          var ft = ((e) => ((e.SUCCESS = "SUCCESS"), (e.FAIL = "FAILURE"), e))(
            ft || {}
          );
          Object.defineProperty, Object.getOwnPropertyDescriptor;
          let ht = class {
            constructor() {
              i(this, "_gateway"), (this._gateway = Pt.get(tt.KushkiGateway));
            }
            async initCardinal(e, t, r) {
              e.isInTest()
                ? await Promise.resolve().then(() => n(709))
                : await Promise.resolve().then(() => n(470)),
                await this._setupCardinal(t, r);
            }
            async onSetUpComplete(e) {
              (await this._isCardinalInitialized())
                ? e()
                : window.Cardinal.on("payments.setupComplete", () => {
                    e();
                  });
            }
            async validateCardinal3dsToken(e, t, n) {
              return ct(t)
                ? Promise.resolve({ deferred: n, token: t.token })
                : dt(t, !1)
                ? (await this._launch3DSCardinalValidation(e, t),
                  Promise.resolve({ deferred: n, token: t.token }))
                : Promise.reject(new o.KushkiError(o.ERRORS.E005));
            }
            async _launch3DSCardinalValidation(e, t) {
              return (
                this._launchCardinalModal(t),
                (await this._onCardinalPaymentValidation(e, t.secureId))
                  ? Promise.resolve(t)
                  : Promise.reject(new o.KushkiError(o.ERRORS.E006))
              );
            }
            async _onCardinalPaymentValidation(e, t) {
              return new Promise((n, r) => {
                window.Cardinal.on("payments.validated", async (i) => {
                  i.ActionCode !== ft.SUCCESS &&
                    r(new o.KushkiError(o.ERRORS.E005));
                  try {
                    const r =
                      await this._gateway.requestSecureServiceValidation(e, {
                        otpValue: "",
                        secureServiceId: t
                      });
                    n(lt(r));
                  } catch {
                    r(new o.KushkiError(o.ERRORS.E006));
                  } finally {
                    window.Cardinal.off("payments.setupComplete"),
                      window.Cardinal.off("payments.validated");
                  }
                });
              });
            }
            _launchCardinalModal(e) {
              const t = {
                  AcsUrl: e.security.acsURL,
                  Payload: e.security.paReq
                },
                n = {
                  OrderDetails: {
                    TransactionId: e.security.authenticationTransactionId
                  }
                };
              window.Cardinal.continue("cca", t, n);
            }
            async _setupCardinal(e, t) {
              (await this._isCardinalInitialized())
                ? (window.Cardinal.trigger("accountNumber.update", t),
                  window.Cardinal.trigger("jwt.update", e))
                : window.Cardinal.setup("init", {
                    jwt: e,
                    order: { Consumer: { Account: { AccountNumber: t } } }
                  });
            }
            async _isCardinalInitialized() {
              try {
                return !!(await window.Cardinal.complete({
                  Status: "Success"
                }));
              } catch {
                return !1;
              }
            }
          };
          ht = ((e, t, n, r) => {
            for (var i, o = t, a = e.length - 1; a >= 0; a--)
              (i = e[a]) && (o = i(o) || o);
            return o;
          })([Ze()], ht);
          var pt = {},
            yt = {},
            wt = {};
          !(function (e) {
            (e.__esModule = !0),
              (e.EnumEvent = void 0),
              ((e.EnumEvent || (e.EnumEvent = {})).VALIDATED =
                "payments.validated");
          })(wt);
          var vt = {},
            gt = {};
          !(function (e) {
            var t;
            (e.__esModule = !0),
              (e.LogosUrlEnum = void 0),
              ((t = e.LogosUrlEnum || (e.LogosUrlEnum = {})).KUSHKI_LOGO =
                "https://kushki-static-dev.s3.amazonaws.com/3DS/kushki_logo.svg"),
              (t.ANY_BANK_LOGO =
                "https://kushki-static-dev.s3.amazonaws.com/3DS/any_bank_logo.svg"),
              (t.CARD_NETWORK_LOGO =
                "https://kushki-static-dev.s3.amazonaws.com/3DS/card_network_logo.svg");
          })(gt),
            (vt.__esModule = !0),
            (vt.modal3DS = void 0);
          var mt = gt;
          vt.modal3DS = function () {
            return (
              '\n    <div class="ksh">\n        <div class="modal" style="display: none">\n          <div class="overlay"></div>\n          <div class="modal_content" >\n          <button id="btnClose" title="Close" class="close_modal">\n            <i class="fas fa-times"></i>\n          </button>\n            <table style="width: 100%; padding-top: 25px">\n              <tr>\n                <td style="width: 80%; height: 80px"><img src="' +
              mt.LogosUrlEnum.ANY_BANK_LOGO +
              '" /></td>\n                <td style="width: 20%; height: 80px"><img src="' +
              mt.LogosUrlEnum.CARD_NETWORK_LOGO +
              '" /></td>\n              </tr>\n            </table>\n            <p class="text-medium">Purchase Authentication</p>\n            <p class="text-normal">We have send you a text message with a code to your registered mobile number ending in 5329</p>\n            <table class="text-normal" style="width: 100%">\n              <tr>\n                <td style="width: 30%" class="text-normal-gray">Merchant:</td>\n                <td style="width: 50%">Merchant Kushki Pruebas</td>\n              </tr>\n              <tr>\n                <td style="width: 30%" class="text-normal-gray">Amount:</td>\n                <td style="width: 50%">USD 200.00</td>\n              </tr>\n              <tr>\n                <td style="width: 30%" class="text-normal-gray">Card number:</td>\n                <td style="width: 50%">**** **** **** 1091</td>\n              </tr>\n            </table>\n            <p class="text-normal">OTP: 1234 </p>\n            <div class="center text-normal-bold">\n                <p>Enter your code bellow</p>\n            </div>\n            <div class="center text-normal">\n                <input id="txtOtp" class="input center text-normal" type="text" id="otp" name="otp" value="" placeholder="Enter code here"> \n            </div>\n            <br>\n            <div class="center">\n                <input class="button text-submit" id="btnSubmit" type="button" value="SUBMIT">\n            </div>\n            <p id = "messageError" class="hide-error text-normal">Invalid OTP code</p>\n            <div class="center text-powered">\n                <p class="center">POWERED BY <img src="' +
              mt.LogosUrlEnum.KUSHKI_LOGO +
              '" /></p>\n            </div>\n          </div>\n        </div>\n    </div>\n'
            );
          };
          var bt = {};
          !(function (e) {
            (e.__esModule = !0),
              (e.default =
                '\n<style>\n    @import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@100&family=Roboto&display=swap");\n    @import url("https://use.fontawesome.com/releases/v5.5.0/css/all.css");\n    .ksh .center{\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        text-align: center;\n    }\n    .ksh {\n        border-radius: 4px;\n    }\n    .ksh .modal {\n        position: fixed;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 990;\n    }\n    \n    .ksh .modal .overlay {\n        position: absolute;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 995;\n        background: rgba(0,0,0,0.85);\n    }\n    .ksh .modal .modal_content {\n        z-index: 999;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        max-height: 90%;\n        overflow: auto;\n        background: #fff;\n        box-sizing: border-box;\n        padding: 45px 40px 40px 40px;\n        box-shadow: 0 1px 5px rgba(0,0,0,0.7);\n        border-radius: 4px;\n        width: 440px;\n    }\n    .ksh .text-normal {\n        font-family: Roboto;\n        font-size: 16px;\n        font-weight: 400;\n        color: #393939\n    }\n    .ksh .text-normal-gray {\n        font-family: Roboto;\n        font-size: 16px;\n        font-weight: 400;\n        color: #565656\n    }\n    .ksh .text-normal-bold {\n        font-family: Roboto;\n        font-size: 16px;\n        font-weight: 700;\n        color: #555555;\n    }\n    .ksh .text-medium {\n        font-family: Roboto;\n        font-size: 23px;\n        font-weight: 500;\n    }\n    .ksh .text-submit {\n        font-family: Roboto;\n        font-style: normal;\n        font-weight: bold;\n        font-size: 16px;\n        line-height: 20px;\n        color: #FFFFFF;\n        cursor: pointer;\n    }\n    .ksh .text-powered {\n        font-family: IBM Plex Sans;\n        font-size: 7.1051px;\n        font-weight: 600;\n        color: #023365;\n        padding: 0px;\n    }\n    .ksh .input{\n        padding: 11px 10px 11px 16px;\n        height: 42px;\n        left: 0px;\n        right: 0px;\n        top: 0px;\n        width: 360px;\n        /* Neutrals/Components / Disabled Color */\n        border: 1px solid #B4B9BE;\n        box-sizing: border-box;\n        border-radius: 4px;\n    }\n    .ksh .button{\n        padding: 12px 30px;\n        position: static;\n        width: 360px;\n        height: 44px;\n        border-radius: 4px;\n        background-color: #093EA9;\n        border: 0px;\n        box-sizing: border-box;\n        transition: all 0.2s;\n    }\n    .ksh .button:active{\n       padding: 15px 30px;\n       background-color: #4d7cdb;\n    }\n    \n    .ksh .modal .close_modal {\n        position: absolute;\n        right: 45px;\n        top: 45px;\n        cursor: pointer;\n        font-size: 18px;\n        color: #293036;\n        background: none;\n        border: none;\n        padding: 0px;\n    }\n    .ksh .modal .close_modal:hover {\n        opacity: 0.9;\n    }\n    .ksh .hide-error {\n        color: red;\n        text-align: center;\n        display: none;\n    }\n    .ksh .show-error {\n        display: block;\n    }\n    @media only screen and (max-device-width: 600px) {\n      .ksh .modal .modal_content {\n        z-index: 999;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%) scale(0.5,0.5);\n        max-height: 90%;\n        overflow: auto;\n        background: #fff;\n        box-sizing: border-box;\n        padding: 45px 40px 40px 40px;\n        box-shadow: 0 1px 5px rgba(0,0,0,0.7);\n        border-radius: 4px;\n        width: 440px;\n      }\n    }\n    \n</style>\n');
          })(bt),
            (yt.__esModule = !0),
            (yt.KushkiCardinalSandbox = void 0);
          var Et = wt,
            _t = vt,
            St = bt,
            xt = (function () {
              function e() {}
              return (
                (e.toogleClassErrorMessage = function (e, t) {
                  t
                    ? e.classList.add("show-error")
                    : e.classList.remove("show-error");
                }),
                (e.closeModal = function (e) {
                  var t = document.querySelector(".modal"),
                    n = document.getElementById("txtOtp");
                  e && e(!0), (n.value = ""), (t.style.display = "none");
                }),
                (e.init = function () {
                  var t = document.createElement("div");
                  t.setAttribute("id", "sandbox3DSModal"),
                    t.insertAdjacentHTML(
                      "beforeend",
                      St.default.concat(_t.modal3DS())
                    ),
                    document.body.appendChild(t);
                  var n = document.getElementById("btnClose"),
                    r = document.getElementById("messageError");
                  n.addEventListener("click", function () {
                    e.toogleClassErrorMessage(r, !1), e.closeModal();
                  });
                }),
                (e.continue = function (e, t, n) {
                  document.querySelector(".modal").style.display = "block";
                }),
                (e.on = function (t, n) {
                  if (t === Et.EnumEvent.VALIDATED) {
                    e._submitModal(n);
                    var r = document.getElementById("btnClose"),
                      i = document.getElementById("messageError");
                    r.addEventListener("click", function () {
                      e.toogleClassErrorMessage(i, !1), e.closeModal(n);
                    });
                  }
                }),
                (e._submitModal = function (t) {
                  var n = document.getElementById("btnSubmit"),
                    r = document.getElementById("txtOtp"),
                    i = document.getElementById("messageError");
                  n.addEventListener("click", function () {
                    if ("9999" === r.value)
                      return (
                        e.toogleClassErrorMessage(i, !1), e.closeModal(), t(!0)
                      );
                    if ("1234" === r.value) {
                      var n = document.getElementById("sandbox3DSModal");
                      document.body.removeChild(n),
                        e.toogleClassErrorMessage(i, !1),
                        t();
                    } else e.toogleClassErrorMessage(i, !0);
                  });
                }),
                e
              );
            })();
          (yt.KushkiCardinalSandbox = xt),
            (function (e) {
              var t =
                  (u && u.__createBinding) ||
                  (Object.create
                    ? function (e, t, n, r) {
                        void 0 === r && (r = n),
                          Object.defineProperty(e, r, {
                            enumerable: !0,
                            get: function () {
                              return t[n];
                            }
                          });
                      }
                    : function (e, t, n, r) {
                        void 0 === r && (r = n), (e[r] = t[n]);
                      }),
                n =
                  (u && u.__exportStar) ||
                  function (e, n) {
                    for (var r in e)
                      "default" !== r &&
                        !Object.prototype.hasOwnProperty.call(n, r) &&
                        t(n, e, r);
                  };
              (e.__esModule = !0), n(yt, e);
            })(pt);
          Object.defineProperty, Object.getOwnPropertyDescriptor;
          let Ot = class {
            constructor() {
              i(this, "_gateway"), (this._gateway = Pt.get(tt.KushkiGateway));
            }
            initSandbox() {
              pt.KushkiCardinalSandbox.init();
            }
            async validateSandbox3dsToken(e, t, n) {
              return ct(t)
                ? Promise.resolve({ deferred: n, token: t.token })
                : dt(t, !0)
                ? (await this._launch3DSSandboxValidation(e, t),
                  Promise.resolve({ deferred: n, token: t.token }))
                : Promise.reject(new o.KushkiError(o.ERRORS.E005));
            }
            async _launch3DSSandboxValidation(e, t) {
              return (
                this._launchSandboxModal(t),
                (await this._onSandboxPaymentValidation(e, t.secureId))
                  ? Promise.resolve(t)
                  : Promise.reject(new o.KushkiError(o.ERRORS.E006))
              );
            }
            async _onSandboxPaymentValidation(e, t) {
              return new Promise((n, r) => {
                pt.KushkiCardinalSandbox.on("payments.validated", async (i) => {
                  i && r(new o.KushkiError(o.ERRORS.E005));
                  try {
                    const r =
                      await this._gateway.requestSecureServiceValidation(e, {
                        otpValue: "",
                        secureServiceId: t
                      });
                    n(lt(r));
                  } catch {
                    r(new o.KushkiError(o.ERRORS.E006));
                  }
                });
              });
            }
            _launchSandboxModal(e) {
              const t = {
                  AcsUrl: e.security.acsURL,
                  Payload: e.security.paReq
                },
                n = {
                  OrderDetails: {
                    TransactionId: e.security.authenticationTransactionId
                  }
                };
              pt.KushkiCardinalSandbox.continue("cca", t, n);
            }
          };
          Ot = ((e, t, n, r) => {
            for (var i, o = t, a = e.length - 1; a >= 0; a--)
              (i = e[a]) && (o = i(o) || o);
            return o;
          })([Ze()], Ot);
          const Pt = new Xe();
          Pt.bind(tt.SiftScienceService).to(ut),
            Pt.bind(tt.Cardinal3DSProvider).to(ht),
            Pt.bind(tt.Sandbox3DSProvider).to(Ot),
            Pt.bind(tt.KushkiGateway).to(et);
          var At = ((e) => (
              (e.EMPTY = "empty"),
              (e.INVALID = "invalid"),
              (e.DEFERRED_MONTHS_REQUERED = "number of months required"),
              (e.DEFERRED_TYPE_REQUERED = "credit type required"),
              e
            ))(At || {}),
            Ct = ((e) => (
              (e.CARD_NUMBER = "cardNumber"),
              (e.CARDHOLDER_NAME = "cardholderName"),
              (e.CVV = "cvv"),
              (e.DEFERRED = "deferred"),
              (e.EXPIRATION_DATE = "expirationDate"),
              (e.OTP = "otp"),
              e
            ))(Ct || {}),
            Tt = { exports: {} };
          !(function (e, t) {
            typeof self < "u" && self,
              (e.exports = (function (e) {
                var t = {};
                function n(r) {
                  if (t[r]) return t[r].exports;
                  var i = (t[r] = { i: r, l: !1, exports: {} });
                  return (
                    e[r].call(i.exports, i, i.exports, n), (i.l = !0), i.exports
                  );
                }
                return (
                  (n.m = e),
                  (n.c = t),
                  (n.d = function (e, t, r) {
                    n.o(e, t) ||
                      Object.defineProperty(e, t, { enumerable: !0, get: r });
                  }),
                  (n.r = function (e) {
                    typeof Symbol < "u" &&
                      Symbol.toStringTag &&
                      Object.defineProperty(e, Symbol.toStringTag, {
                        value: "Module"
                      }),
                      Object.defineProperty(e, "__esModule", { value: !0 });
                  }),
                  (n.t = function (e, t) {
                    if (
                      (1 & t && (e = n(e)),
                      8 & t ||
                        (4 & t && "object" == typeof e && e && e.__esModule))
                    )
                      return e;
                    var r = Object.create(null);
                    if (
                      (n.r(r),
                      Object.defineProperty(r, "default", {
                        enumerable: !0,
                        value: e
                      }),
                      2 & t && "string" != typeof e)
                    )
                      for (var i in e)
                        n.d(
                          r,
                          i,
                          function (t) {
                            return e[t];
                          }.bind(null, i)
                        );
                    return r;
                  }),
                  (n.n = function (e) {
                    var t =
                      e && e.__esModule
                        ? function () {
                            return e.default;
                          }
                        : function () {
                            return e;
                          };
                    return n.d(t, "a", t), t;
                  }),
                  (n.o = function (e, t) {
                    return {}.hasOwnProperty.call(e, t);
                  }),
                  (n.p = ""),
                  n((n.s = 0))
                );
              })([
                function (e, t, n) {
                  function r(e, t) {
                    return (r =
                      Object.setPrototypeOf ||
                      function (e, t) {
                        return (e.__proto__ = t), e;
                      })(e, t);
                  }
                  function i(e, t) {
                    (e.prototype = Object.create(t.prototype)),
                      (e.prototype.constructor = e),
                      r(e, t);
                  }
                  function o() {
                    return (o =
                      Object.assign ||
                      function (e) {
                        for (var t = 1; t < arguments.length; t++) {
                          var n = arguments[t];
                          for (var r in n)
                            ({}).hasOwnProperty.call(n, r) && (e[r] = n[r]);
                        }
                        return e;
                      }).apply(this, arguments);
                  }
                  function a(e) {
                    try {
                      if (!e) return !1;
                      if (typeof Promise < "u" && e instanceof Promise)
                        return !0;
                      if (
                        (typeof window < "u" &&
                          "function" == typeof window.Window &&
                          e instanceof window.Window) ||
                        (typeof window < "u" &&
                          "function" == typeof window.constructor &&
                          e instanceof window.constructor)
                      )
                        return !1;
                      var t = {}.toString;
                      if (t) {
                        var n = t.call(e);
                        if (
                          "[object Window]" === n ||
                          "[object global]" === n ||
                          "[object DOMWindow]" === n
                        )
                          return !1;
                      }
                      if ("function" == typeof e.then) return !0;
                    } catch {
                      return !1;
                    }
                    return !1;
                  }
                  n.r(t),
                    n.d(t, "PopupOpenError", function () {
                      return Ue;
                    }),
                    n.d(t, "create", function () {
                      return Vn;
                    }),
                    n.d(t, "destroy", function () {
                      return Ln;
                    }),
                    n.d(t, "destroyComponents", function () {
                      return Un;
                    }),
                    n.d(t, "destroyAll", function () {
                      return zn;
                    }),
                    n.d(t, "PROP_TYPE", function () {
                      return pn;
                    }),
                    n.d(t, "PROP_SERIALIZATION", function () {
                      return yn;
                    }),
                    n.d(t, "CONTEXT", function () {
                      return wn;
                    }),
                    n.d(t, "EVENT", function () {
                      return vn;
                    });
                  var s,
                    u = [],
                    c = [],
                    d = 0;
                  function l() {
                    if (!d && s) {
                      var e = s;
                      (s = null), e.resolve();
                    }
                  }
                  function f() {
                    d += 1;
                  }
                  function h() {
                    (d -= 1), l();
                  }
                  var p = (function () {
                    function e(e) {
                      var t = this;
                      if (
                        ((this.resolved = void 0),
                        (this.rejected = void 0),
                        (this.errorHandled = void 0),
                        (this.value = void 0),
                        (this.error = void 0),
                        (this.handlers = void 0),
                        (this.dispatching = void 0),
                        (this.stack = void 0),
                        (this.resolved = !1),
                        (this.rejected = !1),
                        (this.errorHandled = !1),
                        (this.handlers = []),
                        e)
                      ) {
                        var n,
                          r,
                          i = !1,
                          o = !1,
                          a = !1;
                        f();
                        try {
                          e(
                            function (e) {
                              a ? t.resolve(e) : ((i = !0), (n = e));
                            },
                            function (e) {
                              a ? t.reject(e) : ((o = !0), (r = e));
                            }
                          );
                        } catch (e) {
                          return h(), void this.reject(e);
                        }
                        h(),
                          (a = !0),
                          i ? this.resolve(n) : o && this.reject(r);
                      }
                    }
                    var t = e.prototype;
                    return (
                      (t.resolve = function (e) {
                        if (this.resolved || this.rejected) return this;
                        if (a(e))
                          throw new Error(
                            "Can not resolve promise with another promise"
                          );
                        return (
                          (this.resolved = !0),
                          (this.value = e),
                          this.dispatch(),
                          this
                        );
                      }),
                      (t.reject = function (e) {
                        var t = this;
                        if (this.resolved || this.rejected) return this;
                        if (a(e))
                          throw new Error(
                            "Can not reject promise with another promise"
                          );
                        if (!e) {
                          var n =
                            e && "function" == typeof e.toString
                              ? e.toString()
                              : {}.toString.call(e);
                          e = new Error(
                            "Expected reject to be called with Error, got " + n
                          );
                        }
                        return (
                          (this.rejected = !0),
                          (this.error = e),
                          this.errorHandled ||
                            setTimeout(function () {
                              t.errorHandled ||
                                (function (e, t) {
                                  if (-1 === u.indexOf(e)) {
                                    u.push(e),
                                      setTimeout(function () {
                                        throw e;
                                      }, 1);
                                    for (var n = 0; n < c.length; n++)
                                      c[n](e, t);
                                  }
                                })(e, t);
                            }, 1),
                          this.dispatch(),
                          this
                        );
                      }),
                      (t.asyncReject = function (e) {
                        return (this.errorHandled = !0), this.reject(e), this;
                      }),
                      (t.dispatch = function () {
                        var t = this.resolved,
                          n = this.rejected,
                          r = this.handlers;
                        if (!this.dispatching && (t || n)) {
                          (this.dispatching = !0), f();
                          for (
                            var i = function (e, t) {
                                return e.then(
                                  function (e) {
                                    t.resolve(e);
                                  },
                                  function (e) {
                                    t.reject(e);
                                  }
                                );
                              },
                              o = 0;
                            o < r.length;
                            o++
                          ) {
                            var s = r[o],
                              u = s.onSuccess,
                              c = s.onError,
                              d = s.promise,
                              l = void 0;
                            if (t)
                              try {
                                l = u ? u(this.value) : this.value;
                              } catch (e) {
                                d.reject(e);
                                continue;
                              }
                            else if (n) {
                              if (!c) {
                                d.reject(this.error);
                                continue;
                              }
                              try {
                                l = c(this.error);
                              } catch (e) {
                                d.reject(e);
                                continue;
                              }
                            }
                            if (l instanceof e && (l.resolved || l.rejected)) {
                              var p = l;
                              p.resolved
                                ? d.resolve(p.value)
                                : d.reject(p.error),
                                (p.errorHandled = !0);
                            } else
                              a(l)
                                ? l instanceof e && (l.resolved || l.rejected)
                                  ? l.resolved
                                    ? d.resolve(l.value)
                                    : d.reject(l.error)
                                  : i(l, d)
                                : d.resolve(l);
                          }
                          (r.length = 0), (this.dispatching = !1), h();
                        }
                      }),
                      (t.then = function (t, n) {
                        if (t && "function" != typeof t && !t.call)
                          throw new Error(
                            "Promise.then expected a function for success handler"
                          );
                        if (n && "function" != typeof n && !n.call)
                          throw new Error(
                            "Promise.then expected a function for error handler"
                          );
                        var r = new e();
                        return (
                          this.handlers.push({
                            promise: r,
                            onSuccess: t,
                            onError: n
                          }),
                          (this.errorHandled = !0),
                          this.dispatch(),
                          r
                        );
                      }),
                      (t.catch = function (e) {
                        return this.then(void 0, e);
                      }),
                      (t.finally = function (t) {
                        if (t && "function" != typeof t && !t.call)
                          throw new Error(
                            "Promise.finally expected a function"
                          );
                        return this.then(
                          function (n) {
                            return e.try(t).then(function () {
                              return n;
                            });
                          },
                          function (n) {
                            return e.try(t).then(function () {
                              throw n;
                            });
                          }
                        );
                      }),
                      (t.timeout = function (e, t) {
                        var n = this;
                        if (this.resolved || this.rejected) return this;
                        var r = setTimeout(function () {
                          n.resolved ||
                            n.rejected ||
                            n.reject(
                              t ||
                                new Error("Promise timed out after " + e + "ms")
                            );
                        }, e);
                        return this.then(function (e) {
                          return clearTimeout(r), e;
                        });
                      }),
                      (t.toPromise = function () {
                        if (typeof Promise > "u")
                          throw new TypeError("Could not find Promise");
                        return Promise.resolve(this);
                      }),
                      (t.lazy = function () {
                        return (this.errorHandled = !0), this;
                      }),
                      (e.resolve = function (t) {
                        return t instanceof e
                          ? t
                          : a(t)
                          ? new e(function (e, n) {
                              return t.then(e, n);
                            })
                          : new e().resolve(t);
                      }),
                      (e.reject = function (t) {
                        return new e().reject(t);
                      }),
                      (e.asyncReject = function (t) {
                        return new e().asyncReject(t);
                      }),
                      (e.all = function (t) {
                        var n = new e(),
                          r = t.length,
                          i = [].slice();
                        if (!r) return n.resolve(i), n;
                        for (
                          var o = function (e, t, o) {
                              return t.then(
                                function (t) {
                                  (i[e] = t), 0 == (r -= 1) && n.resolve(i);
                                },
                                function (e) {
                                  o.reject(e);
                                }
                              );
                            },
                            s = 0;
                          s < t.length;
                          s++
                        ) {
                          var u = t[s];
                          if (u instanceof e) {
                            if (u.resolved) {
                              (i[s] = u.value), (r -= 1);
                              continue;
                            }
                          } else if (!a(u)) {
                            (i[s] = u), (r -= 1);
                            continue;
                          }
                          o(s, e.resolve(u), n);
                        }
                        return 0 === r && n.resolve(i), n;
                      }),
                      (e.hash = function (t) {
                        var n = {},
                          r = [],
                          i = function (e) {
                            if (t.hasOwnProperty(e)) {
                              var i = t[e];
                              a(i)
                                ? r.push(
                                    i.then(function (t) {
                                      n[e] = t;
                                    })
                                  )
                                : (n[e] = i);
                            }
                          };
                        for (var o in t) i(o);
                        return e.all(r).then(function () {
                          return n;
                        });
                      }),
                      (e.map = function (t, n) {
                        return e.all(t.map(n));
                      }),
                      (e.onPossiblyUnhandledException = function (e) {
                        return (
                          (t = e),
                          c.push(t),
                          {
                            cancel: function () {
                              c.splice(c.indexOf(t), 1);
                            }
                          }
                        );
                        var t;
                      }),
                      (e.try = function (t, n, r) {
                        if (t && "function" != typeof t && !t.call)
                          throw new Error("Promise.try expected a function");
                        var i;
                        f();
                        try {
                          i = t.apply(n, r || []);
                        } catch (t) {
                          return h(), e.reject(t);
                        }
                        return h(), e.resolve(i);
                      }),
                      (e.delay = function (t) {
                        return new e(function (e) {
                          setTimeout(e, t);
                        });
                      }),
                      (e.isPromise = function (t) {
                        return !!(t && t instanceof e) || a(t);
                      }),
                      (e.flush = function () {
                        return (t = s = s || new e()), l(), t;
                        var t;
                      }),
                      e
                    );
                  })();
                  function y(e) {
                    return "[object RegExp]" === {}.toString.call(e);
                  }
                  var w = { IFRAME: "iframe", POPUP: "popup" },
                    v = "Call was rejected by callee.\r\n";
                  function g(e) {
                    return void 0 === e && (e = window), e.location.protocol;
                  }
                  function m(e) {
                    if ((void 0 === e && (e = window), e.mockDomain)) {
                      var t = e.mockDomain.split("//")[0];
                      if (t) return t;
                    }
                    return g(e);
                  }
                  function b(e) {
                    return void 0 === e && (e = window), "about:" === m(e);
                  }
                  function E(e) {
                    if ((void 0 === e && (e = window), e))
                      try {
                        if (e.parent && e.parent !== e) return e.parent;
                      } catch {}
                  }
                  function _(e) {
                    if ((void 0 === e && (e = window), e && !E(e)))
                      try {
                        return e.opener;
                      } catch {}
                  }
                  function S(e) {
                    try {
                      return !0;
                    } catch {}
                    return !1;
                  }
                  function x(e) {
                    void 0 === e && (e = window);
                    var t = e.location;
                    if (!t) throw new Error("Can not read window location");
                    var n = g(e);
                    if (!n) throw new Error("Can not read window protocol");
                    if ("file:" === n) return "file://";
                    if ("about:" === n) {
                      var r = E(e);
                      return r && S() ? x(r) : "about://";
                    }
                    var i = t.host;
                    if (!i) throw new Error("Can not read window host");
                    return n + "//" + i;
                  }
                  function O(e) {
                    void 0 === e && (e = window);
                    var t = x(e);
                    return t &&
                      e.mockDomain &&
                      0 === e.mockDomain.indexOf("mock:")
                      ? e.mockDomain
                      : t;
                  }
                  function P(e) {
                    if (
                      !(function (e) {
                        try {
                          if (e === window) return !0;
                        } catch {}
                        try {
                          var t = Object.getOwnPropertyDescriptor(
                            e,
                            "location"
                          );
                          if (t && !1 === t.enumerable) return !1;
                        } catch {}
                        try {
                          if (b(e) && S()) return !0;
                        } catch {}
                        try {
                          if (
                            (void 0 === (n = e) && (n = window),
                            "mock:" === m(n) && S())
                          )
                            return !0;
                        } catch {}
                        var n;
                        try {
                          if (x(e) === x(window)) return !0;
                        } catch {}
                        return !1;
                      })(e)
                    )
                      return !1;
                    try {
                      if (e === window || (b(e) && S()) || O(window) === O(e))
                        return !0;
                    } catch {}
                    return !1;
                  }
                  function A(e) {
                    if (!P(e))
                      throw new Error("Expected window to be same domain");
                    return e;
                  }
                  function C(e, t) {
                    if (!e || !t) return !1;
                    var n = E(t);
                    return n
                      ? n === e
                      : -1 !==
                          (function (e) {
                            var t = [];
                            try {
                              for (; e.parent !== e; )
                                t.push(e.parent), (e = e.parent);
                            } catch {}
                            return t;
                          })(t).indexOf(e);
                  }
                  function T(e) {
                    var t,
                      n,
                      r = [];
                    try {
                      t = e.frames;
                    } catch {
                      t = e;
                    }
                    try {
                      n = t.length;
                    } catch {}
                    if (0 === n) return r;
                    if (n) {
                      for (var i = 0; i < n; i++) {
                        var o = void 0;
                        try {
                          o = t[i];
                        } catch {
                          continue;
                        }
                        r.push(o);
                      }
                      return r;
                    }
                    for (var a = 0; a < 100; a++) {
                      var s = void 0;
                      try {
                        s = t[a];
                      } catch {
                        return r;
                      }
                      if (!s) return r;
                      r.push(s);
                    }
                    return r;
                  }
                  function R(e) {
                    for (var t = [], n = 0, r = T(e); n < r.length; n++) {
                      var i = r[n];
                      t.push(i);
                      for (var o = 0, a = R(i); o < a.length; o++) t.push(a[o]);
                    }
                    return t;
                  }
                  function D(e) {
                    void 0 === e && (e = window);
                    try {
                      if (e.top) return e.top;
                    } catch {}
                    if (E(e) === e) return e;
                    try {
                      if (C(window, e) && window.top) return window.top;
                    } catch {}
                    try {
                      if (C(e, window) && window.top) return window.top;
                    } catch {}
                    for (var t = 0, n = R(e); t < n.length; t++) {
                      var r = n[t];
                      try {
                        if (r.top) return r.top;
                      } catch {}
                      if (E(r) === r) return r;
                    }
                  }
                  function k(e) {
                    var t = D(e);
                    if (!t) throw new Error("Can not determine top window");
                    var n = [].concat(R(t), [t]);
                    return (
                      -1 === n.indexOf(e) && (n = [].concat(n, [e], R(e))), n
                    );
                  }
                  var I = [],
                    N = [];
                  function j(e, t) {
                    void 0 === t && (t = !0);
                    try {
                      if (e === window) return !1;
                    } catch {
                      return !0;
                    }
                    try {
                      if (!e) return !0;
                    } catch {
                      return !0;
                    }
                    try {
                      if (e.closed) return !0;
                    } catch (e) {
                      return !e || e.message !== v;
                    }
                    if (t && P(e))
                      try {
                        if (e.mockclosed) return !0;
                      } catch {}
                    try {
                      if (!e.parent || !e.top) return !0;
                    } catch {}
                    var n = (function (e, t) {
                      for (var n = 0; n < e.length; n++)
                        try {
                          if (e[n] === t) return n;
                        } catch {}
                      return -1;
                    })(I, e);
                    if (-1 !== n) {
                      var r = N[n];
                      if (
                        r &&
                        (function (e) {
                          if (!e.contentWindow || !e.parentNode) return !0;
                          var t = e.ownerDocument;
                          if (
                            t &&
                            t.documentElement &&
                            !t.documentElement.contains(e)
                          ) {
                            for (
                              var n = e;
                              n.parentNode && n.parentNode !== n;

                            )
                              n = n.parentNode;
                            if (!n.host || !t.documentElement.contains(n.host))
                              return !0;
                          }
                          return !1;
                        })(r)
                      )
                        return !0;
                    }
                    return !1;
                  }
                  function F(e) {
                    return (
                      (e = e || window).navigator.mockUserAgent ||
                      e.navigator.userAgent
                    );
                  }
                  function M(e, t) {
                    for (var n = T(e), r = 0; r < n.length; r++) {
                      var i = n[r];
                      try {
                        if (P(i) && i.name === t && -1 !== n.indexOf(i))
                          return i;
                      } catch {}
                    }
                    try {
                      if (-1 !== n.indexOf(e.frames[t])) return e.frames[t];
                    } catch {}
                    try {
                      if (-1 !== n.indexOf(e[t])) return e[t];
                    } catch {}
                  }
                  function W(e, t) {
                    return e === _(t);
                  }
                  function B(e) {
                    return (
                      void 0 === e && (e = window),
                      _((e = e || window)) || E(e) || void 0
                    );
                  }
                  function V(e, t) {
                    for (var n = 0; n < e.length; n++)
                      for (var r = e[n], i = 0; i < t.length; i++)
                        if (r === t[i]) return !0;
                    return !1;
                  }
                  function U(e) {
                    void 0 === e && (e = window);
                    for (var t = 0, n = e; n; ) (n = E(n)) && (t += 1);
                    return t;
                  }
                  function z(e, t) {
                    var n = D(e) || e,
                      r = D(t) || t;
                    try {
                      if (n && r) return n === r;
                    } catch {}
                    var i = k(e),
                      o = k(t);
                    if (V(i, o)) return !0;
                    var a = _(n),
                      s = _(r);
                    return (a && V(k(a), o)) || (s && V(k(s), i)), !1;
                  }
                  function L(e, t) {
                    if ("string" == typeof e) {
                      if ("string" == typeof t) return "*" === e || t === e;
                      if (y(t) || Array.isArray(t)) return !1;
                    }
                    return y(e)
                      ? y(t)
                        ? e.toString() === t.toString()
                        : !Array.isArray(t) && !!t.match(e)
                      : !!Array.isArray(e) &&
                          (Array.isArray(t)
                            ? JSON.stringify(e) === JSON.stringify(t)
                            : !y(t) &&
                              e.some(function (e) {
                                return L(e, t);
                              }));
                  }
                  function q(e) {
                    return e.match(/^(https?|mock|file):\/\//)
                      ? e.split("/").slice(0, 3).join("/")
                      : O();
                  }
                  function H(e, t, n, r) {
                    var i;
                    return (
                      void 0 === n && (n = 1e3),
                      void 0 === r && (r = 1 / 0),
                      (function o() {
                        if (j(e)) return i && clearTimeout(i), t();
                        r <= 0
                          ? clearTimeout(i)
                          : ((r -= n), (i = setTimeout(o, n)));
                      })(),
                      {
                        cancel: function () {
                          i && clearTimeout(i);
                        }
                      }
                    );
                  }
                  function K(e) {
                    try {
                      if (e === window) return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if ("[object Window]" === {}.toString.call(e)) return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if (window.Window && e instanceof window.Window)
                        return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if (e && e.self === e) return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if (e && e.parent === e) return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if (e && e.top === e) return !0;
                    } catch (e) {
                      if (e && e.message === v) return !0;
                    }
                    try {
                      if (
                        e &&
                        "__unlikely_value__" ===
                          e.__cross_domain_utils_window_check__
                      )
                        return !1;
                    } catch {
                      return !0;
                    }
                    try {
                      if ("postMessage" in e && "self" in e && "location" in e)
                        return !0;
                    } catch {}
                    return !1;
                  }
                  function J(e) {
                    if (0 !== q(e).indexOf("mock:")) return e;
                    throw new Error("Mock urls not supported out of test mode");
                  }
                  function $(e) {
                    if (P(e)) return A(e).frameElement;
                    for (
                      var t = 0, n = document.querySelectorAll("iframe");
                      t < n.length;
                      t++
                    ) {
                      var r = n[t];
                      if (r && r.contentWindow && r.contentWindow === e)
                        return r;
                    }
                  }
                  function G(e) {
                    if ((void 0 === (n = e) && (n = window), E(n))) {
                      var t = $(e);
                      if (t && t.parentElement)
                        return void t.parentElement.removeChild(t);
                    }
                    var n;
                    try {
                      e.close();
                    } catch {}
                  }
                  function Q(e, t) {
                    for (var n = 0; n < e.length; n++)
                      try {
                        if (e[n] === t) return n;
                      } catch {}
                    return -1;
                  }
                  var Y,
                    X = (function () {
                      function e() {
                        if (
                          ((this.name = void 0),
                          (this.weakmap = void 0),
                          (this.keys = void 0),
                          (this.values = void 0),
                          (this.name =
                            "__weakmap_" +
                            ((1e9 * Math.random()) >>> 0) +
                            "__"),
                          (function () {
                            if (
                              typeof WeakMap > "u" ||
                              void 0 === Object.freeze
                            )
                              return !1;
                            try {
                              var e = new WeakMap(),
                                t = {};
                              return (
                                Object.freeze(t),
                                e.set(t, "__testvalue__"),
                                "__testvalue__" === e.get(t)
                              );
                            } catch {
                              return !1;
                            }
                          })())
                        )
                          try {
                            this.weakmap = new WeakMap();
                          } catch {}
                        (this.keys = []), (this.values = []);
                      }
                      var t = e.prototype;
                      return (
                        (t._cleanupClosedWindows = function () {
                          for (
                            var e = this.weakmap, t = this.keys, n = 0;
                            n < t.length;
                            n++
                          ) {
                            var r = t[n];
                            if (K(r) && j(r)) {
                              if (e)
                                try {
                                  e.delete(r);
                                } catch {}
                              t.splice(n, 1),
                                this.values.splice(n, 1),
                                (n -= 1);
                            }
                          }
                        }),
                        (t.isSafeToReadWrite = function (e) {
                          return !K(e);
                        }),
                        (t.set = function (e, t) {
                          if (!e) throw new Error("WeakMap expected key");
                          var n = this.weakmap;
                          if (n)
                            try {
                              n.set(e, t);
                            } catch {
                              delete this.weakmap;
                            }
                          if (this.isSafeToReadWrite(e))
                            try {
                              var r = this.name,
                                i = e[r];
                              return void (i && i[0] === e
                                ? (i[1] = t)
                                : Object.defineProperty(e, r, {
                                    value: [e, t],
                                    writable: !0
                                  }));
                            } catch {}
                          this._cleanupClosedWindows();
                          var o = this.keys,
                            a = this.values,
                            s = Q(o, e);
                          -1 === s ? (o.push(e), a.push(t)) : (a[s] = t);
                        }),
                        (t.get = function (e) {
                          if (!e) throw new Error("WeakMap expected key");
                          var t = this.weakmap;
                          if (t)
                            try {
                              if (t.has(e)) return t.get(e);
                            } catch {
                              delete this.weakmap;
                            }
                          if (this.isSafeToReadWrite(e))
                            try {
                              var n = e[this.name];
                              return n && n[0] === e ? n[1] : void 0;
                            } catch {}
                          this._cleanupClosedWindows();
                          var r = Q(this.keys, e);
                          if (-1 !== r) return this.values[r];
                        }),
                        (t.delete = function (e) {
                          if (!e) throw new Error("WeakMap expected key");
                          var t = this.weakmap;
                          if (t)
                            try {
                              t.delete(e);
                            } catch {
                              delete this.weakmap;
                            }
                          if (this.isSafeToReadWrite(e))
                            try {
                              var n = e[this.name];
                              n && n[0] === e && (n[0] = n[1] = void 0);
                            } catch {}
                          this._cleanupClosedWindows();
                          var r = this.keys,
                            i = Q(r, e);
                          -1 !== i &&
                            (r.splice(i, 1), this.values.splice(i, 1));
                        }),
                        (t.has = function (e) {
                          if (!e) throw new Error("WeakMap expected key");
                          var t = this.weakmap;
                          if (t)
                            try {
                              if (t.has(e)) return !0;
                            } catch {
                              delete this.weakmap;
                            }
                          if (this.isSafeToReadWrite(e))
                            try {
                              var n = e[this.name];
                              return !(!n || n[0] !== e);
                            } catch {}
                          return (
                            this._cleanupClosedWindows(), -1 !== Q(this.keys, e)
                          );
                        }),
                        (t.getOrSet = function (e, t) {
                          if (this.has(e)) return this.get(e);
                          var n = t();
                          return this.set(e, n), n;
                        }),
                        e
                      );
                    })();
                  function Z(e) {
                    return (Z = Object.setPrototypeOf
                      ? Object.getPrototypeOf
                      : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                        })(e);
                  }
                  function ee(e, t, n) {
                    return (ee = (function () {
                      if (
                        typeof Reflect > "u" ||
                        !Reflect.construct ||
                        Reflect.construct.sham
                      )
                        return !1;
                      if ("function" == typeof Proxy) return !0;
                      try {
                        return (
                          Date.prototype.toString.call(
                            Reflect.construct(Date, [], function () {})
                          ),
                          !0
                        );
                      } catch {
                        return !1;
                      }
                    })()
                      ? Reflect.construct
                      : function (e, t, n) {
                          var i = [null];
                          i.push.apply(i, t);
                          var o = new (Function.bind.apply(e, i))();
                          return n && r(o, n.prototype), o;
                        }).apply(null, arguments);
                  }
                  function te(e) {
                    var t = "function" == typeof Map ? new Map() : void 0;
                    return (te = function (e) {
                      if (
                        null === e ||
                        ((n = e),
                        -1 ===
                          Function.toString.call(n).indexOf("[native code]"))
                      )
                        return e;
                      var n;
                      if ("function" != typeof e)
                        throw new TypeError(
                          "Super expression must either be null or a function"
                        );
                      if (void 0 !== t) {
                        if (t.has(e)) return t.get(e);
                        t.set(e, i);
                      }
                      function i() {
                        return ee(e, arguments, Z(this).constructor);
                      }
                      return (
                        (i.prototype = Object.create(e.prototype, {
                          constructor: {
                            value: i,
                            enumerable: !1,
                            writable: !0,
                            configurable: !0
                          }
                        })),
                        r(i, e)
                      );
                    })(e);
                  }
                  function ne(e) {
                    var t = !1;
                    try {
                      (e instanceof window.Element ||
                        (null !== e &&
                          "object" == typeof e &&
                          1 === e.nodeType &&
                          "object" == typeof e.style &&
                          "object" == typeof e.ownerDocument)) &&
                        (t = !0);
                    } catch {}
                    return t;
                  }
                  function re(e) {
                    return e.name || e.__name__ || e.displayName || "anonymous";
                  }
                  function ie(e, t) {
                    try {
                      delete e.name, (e.name = t);
                    } catch {}
                    return (e.__name__ = e.displayName = t), e;
                  }
                  function oe(e) {
                    if ("function" == typeof btoa)
                      return btoa(
                        encodeURIComponent(e).replace(
                          /%([0-9A-F]{2})/g,
                          function (e, t) {
                            return String.fromCharCode(parseInt(t, 16));
                          }
                        )
                      ).replace(/[=]/g, "");
                    if (typeof Buffer < "u")
                      return Buffer.from(e, "utf8")
                        .toString("base64")
                        .replace(/[=]/g, "");
                    throw new Error("Can not find window.btoa or Buffer");
                  }
                  function ae() {
                    var e = "0123456789abcdef";
                    return (
                      "uid_" +
                      "xxxxxxxxxx".replace(/./g, function () {
                        return e.charAt(Math.floor(16 * Math.random()));
                      }) +
                      "_" +
                      oe(
                        new Date().toISOString().slice(11, 19).replace("T", ".")
                      )
                        .replace(/[^a-zA-Z0-9]/g, "")
                        .toLowerCase()
                    );
                  }
                  function se(e) {
                    try {
                      return JSON.stringify([].slice.call(e), function (e, t) {
                        return "function" == typeof t
                          ? "memoize[" +
                              (function (e) {
                                if (
                                  ((Y = Y || new X()),
                                  null == e ||
                                    ("object" != typeof e &&
                                      "function" != typeof e))
                                )
                                  throw new Error("Invalid object");
                                var t = Y.get(e);
                                return (
                                  t ||
                                    ((t = typeof e + ":" + ae()), Y.set(e, t)),
                                  t
                                );
                              })(t) +
                              "]"
                          : ne(t)
                          ? {}
                          : t;
                      });
                    } catch {
                      throw new Error(
                        "Arguments not serializable -- can not be used to memoize"
                      );
                    }
                  }
                  function ue() {
                    return {};
                  }
                  var ce = 0,
                    de = 0;
                  function le(e, t) {
                    void 0 === t && (t = {});
                    var n,
                      r,
                      i = t.thisNamespace,
                      o = void 0 !== i && i,
                      a = t.time,
                      s = ce;
                    ce += 1;
                    var u = function () {
                      for (
                        var t = arguments.length, i = new Array(t), u = 0;
                        u < t;
                        u++
                      )
                        i[u] = arguments[u];
                      var c, d;
                      s < de && ((n = null), (r = null), (s = ce), (ce += 1)),
                        (c = o
                          ? (r = r || new X()).getOrSet(this, ue)
                          : (n = n || {}));
                      try {
                        d = se(i);
                      } catch {
                        return e.apply(this, arguments);
                      }
                      var l = c[d];
                      if (
                        (l &&
                          a &&
                          Date.now() - l.time < a &&
                          (delete c[d], (l = null)),
                        l)
                      )
                        return l.value;
                      var f = Date.now(),
                        h = e.apply(this, arguments);
                      return (c[d] = { time: f, value: h }), h;
                    };
                    return (
                      (u.reset = function () {
                        (n = null), (r = null);
                      }),
                      ie(u, (t.name || re(e)) + "::memoized")
                    );
                  }
                  function fe(e) {
                    var t = {};
                    function n() {
                      for (
                        var n = arguments,
                          r = this,
                          i = arguments.length,
                          o = new Array(i),
                          a = 0;
                        a < i;
                        a++
                      )
                        o[a] = arguments[a];
                      var s = se(o);
                      return (
                        t.hasOwnProperty(s) ||
                          (t[s] = p
                            .try(function () {
                              return e.apply(r, n);
                            })
                            .finally(function () {
                              delete t[s];
                            })),
                        t[s]
                      );
                    }
                    return (
                      (n.reset = function () {
                        t = {};
                      }),
                      ie(n, re(e) + "::promiseMemoized")
                    );
                  }
                  function he() {}
                  function pe(e) {
                    var t = !1;
                    return ie(
                      function () {
                        if (!t) return (t = !0), e.apply(this, arguments);
                      },
                      re(e) + "::once"
                    );
                  }
                  function ye(e, t) {
                    if ((void 0 === t && (t = 1), t >= 3))
                      return "stringifyError stack overflow";
                    try {
                      if (!e)
                        return "<unknown error: " + {}.toString.call(e) + ">";
                      if ("string" == typeof e) return e;
                      if (e instanceof Error) {
                        var n = e && e.stack,
                          r = e && e.message;
                        if (n && r)
                          return -1 !== n.indexOf(r) ? n : r + "\n" + n;
                        if (n) return n;
                        if (r) return r;
                      }
                      return e && e.toString && "function" == typeof e.toString
                        ? e.toString()
                        : {}.toString.call(e);
                    } catch (e) {
                      return "Error while stringifying error: " + ye(e, t + 1);
                    }
                  }
                  function we(e) {
                    return "string" == typeof e
                      ? e
                      : e && e.toString && "function" == typeof e.toString
                      ? e.toString()
                      : {}.toString.call(e);
                  }
                  function ve(e, t) {
                    if (!t) return e;
                    if (Object.assign) return Object.assign(e, t);
                    for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
                    return e;
                  }
                  function ge(e) {
                    return e;
                  }
                  function me(e, t) {
                    var n;
                    return (
                      (function r() {
                        n = setTimeout(function () {
                          e(), r();
                        }, t);
                      })(),
                      {
                        cancel: function () {
                          clearTimeout(n);
                        }
                      }
                    );
                  }
                  function be(e) {
                    return e.replace(/-([a-z])/g, function (e) {
                      return e[1].toUpperCase();
                    });
                  }
                  function Ee(e, t, n) {
                    if (Array.isArray(e)) {
                      if ("number" != typeof t)
                        throw new TypeError("Array key must be number");
                    } else if (
                      "object" == typeof e &&
                      null !== e &&
                      "string" != typeof t
                    )
                      throw new TypeError("Object key must be string");
                    Object.defineProperty(e, t, {
                      configurable: !0,
                      enumerable: !0,
                      get: function () {
                        delete e[t];
                        var r = n();
                        return (e[t] = r), r;
                      },
                      set: function (n) {
                        delete e[t], (e[t] = n);
                      }
                    });
                  }
                  function _e(e) {
                    return [].slice.call(e);
                  }
                  function Se(e) {
                    return (
                      "object" == typeof (t = e) &&
                      null !== t &&
                      "[object Object]" === {}.toString.call(e)
                    );
                    var t;
                  }
                  function xe(e) {
                    if (!Se(e)) return !1;
                    var t = e.constructor;
                    if ("function" != typeof t) return !1;
                    var n = t.prototype;
                    return !!Se(n) && !!n.hasOwnProperty("isPrototypeOf");
                  }
                  function Oe(e, t, n) {
                    if ((void 0 === n && (n = ""), Array.isArray(e))) {
                      for (
                        var r = e.length,
                          i = [],
                          o = function (r) {
                            Ee(i, r, function () {
                              var i = n ? n + "." + r : "" + r,
                                o = t(e[r], r, i);
                              return (
                                (xe(o) || Array.isArray(o)) &&
                                  (o = Oe(o, t, i)),
                                o
                              );
                            });
                          },
                          a = 0;
                        a < r;
                        a++
                      )
                        o(a);
                      return i;
                    }
                    if (xe(e)) {
                      var s = {},
                        u = function (r) {
                          if (!e.hasOwnProperty(r)) return "continue";
                          Ee(s, r, function () {
                            var i = n ? n + "." + r : "" + r,
                              o = t(e[r], r, i);
                            return (
                              (xe(o) || Array.isArray(o)) && (o = Oe(o, t, i)),
                              o
                            );
                          });
                        };
                      for (var c in e) u(c);
                      return s;
                    }
                    throw new Error("Pass an object or array");
                  }
                  function Pe(e) {
                    return null != e;
                  }
                  function Ae(e) {
                    return "[object RegExp]" === {}.toString.call(e);
                  }
                  function Ce(e, t, n) {
                    if (e.hasOwnProperty(t)) return e[t];
                    var r = n();
                    return (e[t] = r), r;
                  }
                  function Te(e) {
                    var t,
                      n = [],
                      r = !1,
                      i = {
                        set: function (t, n) {
                          return (
                            r ||
                              ((e[t] = n),
                              i.register(function () {
                                delete e[t];
                              })),
                            n
                          );
                        },
                        register: function (e) {
                          var i = pe(function () {
                            return e(t);
                          });
                          return (
                            r ? e(t) : n.push(i),
                            {
                              cancel: function () {
                                var e = n.indexOf(i);
                                -1 !== e && n.splice(e, 1);
                              }
                            }
                          );
                        },
                        all: function (e) {
                          t = e;
                          var i = [];
                          for (r = !0; n.length; ) {
                            var o = n.shift();
                            i.push(o());
                          }
                          return p.all(i).then(he);
                        }
                      };
                    return i;
                  }
                  function Re(e, t) {
                    if (null == t)
                      throw new Error("Expected " + e + " to be present");
                    return t;
                  }
                  (le.clear = function () {
                    de = ce;
                  }),
                    le(function (e) {
                      if (Object.values) return Object.values(e);
                      var t = [];
                      for (var n in e) e.hasOwnProperty(n) && t.push(e[n]);
                      return t;
                    });
                  var De = (function (e) {
                    function t(t) {
                      var n;
                      return (
                        ((n = e.call(this, t) || this).name =
                          n.constructor.name),
                        "function" == typeof Error.captureStackTrace
                          ? Error.captureStackTrace(
                              (function (e) {
                                if (void 0 === e)
                                  throw new ReferenceError(
                                    "this hasn't been initialised - super() hasn't been called"
                                  );
                                return e;
                              })(n),
                              n.constructor
                            )
                          : (n.stack = new Error(t).stack),
                        n
                      );
                    }
                    return i(t, e), t;
                  })(te(Error));
                  function ke() {
                    var e = document.body;
                    if (!e) throw new Error("Body element not found");
                    return e;
                  }
                  function Ie() {
                    return (
                      !!document.body && "complete" === document.readyState
                    );
                  }
                  function Ne() {
                    return (
                      !!document.body && "interactive" === document.readyState
                    );
                  }
                  function je(e) {
                    return encodeURIComponent(e);
                  }
                  function Fe(e) {
                    return (function (t, n, r) {
                      void 0 === r && (r = []);
                      var i = (t.__inline_memoize_cache__ =
                          t.__inline_memoize_cache__ || {}),
                        o = se(r);
                      return i.hasOwnProperty(o)
                        ? i[o]
                        : (i[o] = function () {
                            var t = {};
                            if (!e || -1 === e.indexOf("=")) return t;
                            for (
                              var n = 0, r = e.split("&");
                              n < r.length;
                              n++
                            ) {
                              var i = r[n];
                              (i = i.split("="))[0] &&
                                i[1] &&
                                (t[decodeURIComponent(i[0])] =
                                  decodeURIComponent(i[1]));
                            }
                            return t;
                          }.apply(void 0, r));
                    })(Fe, 0, [e]);
                  }
                  function Me(e, t) {
                    return (
                      void 0 === t && (t = {}),
                      t && Object.keys(t).length
                        ? (void 0 === (n = o({}, Fe(e), t)) && (n = {}),
                          Object.keys(n)
                            .filter(function (e) {
                              return (
                                "string" == typeof n[e] ||
                                "boolean" == typeof n[e]
                              );
                            })
                            .map(function (e) {
                              var t = n[e];
                              if ("string" != typeof t && "boolean" != typeof t)
                                throw new TypeError("Invalid type for query");
                              return je(e) + "=" + je(t.toString());
                            })
                            .join("&"))
                        : e
                    );
                    var n;
                  }
                  function We(e, t) {
                    return (
                      void 0 === t && (t = document),
                      ne(e)
                        ? e
                        : "string" == typeof e
                        ? t.querySelector(e)
                        : void 0
                    );
                  }
                  function Be(e) {
                    return new p(function (t, n) {
                      var r = we(e),
                        i = We(e);
                      if (i) return t(i);
                      if (Ie())
                        return n(
                          new Error(
                            "Document is ready and element " +
                              r +
                              " does not exist"
                          )
                        );
                      var o = setInterval(function () {
                        if ((i = We(e))) t(i), clearInterval(o);
                        else if (Ie())
                          return (
                            clearInterval(o),
                            n(
                              new Error(
                                "Document is ready and element " +
                                  r +
                                  " does not exist"
                              )
                            )
                          );
                      }, 10);
                    });
                  }
                  le(function () {
                    return new p(function (e) {
                      if (Ie() || Ne()) return e();
                      var t = setInterval(function () {
                        if (Ie() || Ne()) return clearInterval(t), e();
                      }, 10);
                    });
                  });
                  var Ve,
                    Ue = (function (e) {
                      function t() {
                        return e.apply(this, arguments) || this;
                      }
                      return i(t, e), t;
                    })(De);
                  function ze(e) {
                    if ((Ve = Ve || new X()).has(e)) {
                      var t = Ve.get(e);
                      if (t) return t;
                    }
                    var n = new p(function (t, n) {
                      e.addEventListener("load", function () {
                        (function (e) {
                          if (
                            ((function () {
                              for (var e = 0; e < I.length; e++) {
                                var t = !1;
                                try {
                                  t = I[e].closed;
                                } catch {}
                                t && (N.splice(e, 1), I.splice(e, 1));
                              }
                            })(),
                            e && e.contentWindow)
                          )
                            try {
                              I.push(e.contentWindow), N.push(e);
                            } catch {}
                        })(e),
                          t(e);
                      }),
                        e.addEventListener("error", function (r) {
                          e.contentWindow ? t(e) : n(r);
                        });
                    });
                    return Ve.set(e, n), n;
                  }
                  function Le(e) {
                    return ze(e).then(function (e) {
                      if (!e.contentWindow)
                        throw new Error("Could not find window in iframe");
                      return e.contentWindow;
                    });
                  }
                  function qe(e, t) {
                    void 0 === e && (e = {});
                    var n = e.style || {},
                      r = (function (e, t, n) {
                        void 0 === e && (e = "div"),
                          void 0 === t && (t = {}),
                          (e = e.toLowerCase());
                        var r,
                          i,
                          o,
                          a = document.createElement(e);
                        if (
                          (t.style && ve(a.style, t.style),
                          t.class && (a.className = t.class.join(" ")),
                          t.id && a.setAttribute("id", t.id),
                          t.attributes)
                        )
                          for (
                            var s = 0, u = Object.keys(t.attributes);
                            s < u.length;
                            s++
                          ) {
                            var c = u[s];
                            a.setAttribute(c, t.attributes[c]);
                          }
                        if (
                          (t.styleSheet &&
                            ((r = a),
                            (i = t.styleSheet),
                            void 0 === o && (o = window.document),
                            r.styleSheet
                              ? (r.styleSheet.cssText = i)
                              : r.appendChild(o.createTextNode(i))),
                          t.html)
                        ) {
                          if ("iframe" === e)
                            throw new Error(
                              "Iframe html can not be written unless container provided and iframe in DOM"
                            );
                          a.innerHTML = t.html;
                        }
                        return a;
                      })("iframe", {
                        attributes: o(
                          { allowTransparency: "true" },
                          e.attributes || {}
                        ),
                        style: o(
                          { backgroundColor: "transparent", border: "none" },
                          n
                        ),
                        html: e.html,
                        class: e.class
                      }),
                      i = window.navigator.userAgent.match(/MSIE|Edge/i);
                    return (
                      r.hasAttribute("id") || r.setAttribute("id", ae()),
                      ze(r),
                      t &&
                        (function (e, t) {
                          void 0 === t && (t = document);
                          var n = We(e, t);
                          if (n) return n;
                          throw new Error("Can not find element: " + we(e));
                        })(t).appendChild(r),
                      (e.url || i) &&
                        r.setAttribute("src", e.url || "about:blank"),
                      r
                    );
                  }
                  function He(e, t, n) {
                    return (
                      e.addEventListener(t, n),
                      {
                        cancel: function () {
                          e.removeEventListener(t, n);
                        }
                      }
                    );
                  }
                  function Ke(e) {
                    e.style.setProperty("display", "");
                  }
                  function Je(e) {
                    e.style.setProperty("display", "none", "important");
                  }
                  function $e(e) {
                    e && e.parentNode && e.parentNode.removeChild(e);
                  }
                  function Ge(e) {
                    return !(
                      e &&
                      e.parentNode &&
                      e.ownerDocument &&
                      e.ownerDocument.documentElement &&
                      e.ownerDocument.documentElement.contains(e)
                    );
                  }
                  function Qe(e, t, n) {
                    var r = void 0 === n ? {} : n,
                      i = r.width,
                      o = void 0 === i || i,
                      a = r.height,
                      s = void 0 === a || a,
                      u = r.interval,
                      c = void 0 === u ? 100 : u,
                      d = r.win,
                      l = void 0 === d ? window : d,
                      f = e.offsetWidth,
                      h = e.offsetHeight,
                      p = !1;
                    t({ width: f, height: h });
                    var y,
                      w,
                      v = function () {
                        if (
                          !p &&
                          ((i = e).offsetWidth ||
                            i.offsetHeight ||
                            i.getClientRects().length)
                        ) {
                          var n = e.offsetWidth,
                            r = e.offsetHeight;
                          ((o && n !== f) || (s && r !== h)) &&
                            t({ width: n, height: r }),
                            (f = n),
                            (h = r);
                        }
                        var i;
                      };
                    return (
                      l.addEventListener("resize", v),
                      void 0 !== l.ResizeObserver
                        ? ((y = new l.ResizeObserver(v)).observe(e),
                          (w = me(v, 10 * c)))
                        : void 0 !== l.MutationObserver
                        ? ((y = new l.MutationObserver(v)).observe(e, {
                            attributes: !0,
                            childList: !0,
                            subtree: !0,
                            characterData: !1
                          }),
                          (w = me(v, 10 * c)))
                        : (w = me(v, c)),
                      {
                        cancel: function () {
                          (p = !0),
                            y.disconnect(),
                            window.removeEventListener("resize", v),
                            w.cancel();
                        }
                      }
                    );
                  }
                  function Ye(e) {
                    for (; e.parentNode; ) e = e.parentNode;
                    return "[object ShadowRoot]" === e.toString();
                  }
                  var Xe =
                      typeof document < "u" ? document.currentScript : null,
                    Ze = le(function () {
                      if (
                        Xe ||
                        (Xe = (function () {
                          try {
                            var e = (function () {
                                try {
                                  throw new Error("_");
                                } catch (e) {
                                  return e.stack || "";
                                }
                              })(),
                              t = /.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(e),
                              n = t && t[1];
                            if (!n) return;
                            for (
                              var r = 0,
                                i = [].slice
                                  .call(document.getElementsByTagName("script"))
                                  .reverse();
                              r < i.length;
                              r++
                            ) {
                              var o = i[r];
                              if (o.src && o.src === n) return o;
                            }
                          } catch {}
                        })())
                      )
                        return Xe;
                      throw new Error("Can not determine current script");
                    }),
                    et = ae();
                  function tt(e) {
                    return "string" == typeof e && /^[0-9]+%$/.test(e);
                  }
                  function nt(e) {
                    if ("number" == typeof e) return e;
                    var t = e.match(/^([0-9]+)(px|%)$/);
                    if (!t)
                      throw new Error("Could not match css value from " + e);
                    return parseInt(t[1], 10);
                  }
                  function rt(e) {
                    return nt(e) + "px";
                  }
                  function it(e) {
                    return "number" == typeof e ? rt(e) : tt(e) ? e : rt(e);
                  }
                  function ot(e, t) {
                    if ("number" == typeof e) return e;
                    if (tt(e)) return parseInt((t * nt(e)) / 100, 10);
                    if ("string" == typeof (n = e) && /^[0-9]+px$/.test(n))
                      return nt(e);
                    var n;
                    throw new Error("Can not normalize dimension: " + e);
                  }
                  function at(e) {
                    void 0 === e && (e = window);
                    var t = "__post_robot_11_0_0__";
                    return e !== window ? e[t] : (e[t] = e[t] || {});
                  }
                  le(function () {
                    var e;
                    try {
                      e = Ze();
                    } catch {
                      return et;
                    }
                    var t = e.getAttribute("data-uid");
                    if (
                      (t && "string" == typeof t) ||
                      ((t = e.getAttribute("data-uid-auto")) &&
                        "string" == typeof t)
                    )
                      return t;
                    if (e.src) {
                      var n = (function (e) {
                        for (var t = "", n = 0; n < e.length; n++) {
                          var r = e[n].charCodeAt(0) * n;
                          e[n + 1] && (r += e[n + 1].charCodeAt(0) * (n - 1)),
                            (t += String.fromCharCode(97 + (Math.abs(r) % 26)));
                        }
                        return t;
                      })(JSON.stringify({ src: e.src, dataset: e.dataset }));
                      t = "uid_" + n.slice(n.length - 30);
                    } else t = ae();
                    return e.setAttribute("data-uid-auto", t), t;
                  });
                  var st = function () {
                    return {};
                  };
                  function ut(e, t) {
                    return (
                      void 0 === e && (e = "store"),
                      void 0 === t && (t = st),
                      Ce(at(), e, function () {
                        var e = t();
                        return {
                          has: function (t) {
                            return e.hasOwnProperty(t);
                          },
                          get: function (t, n) {
                            return e.hasOwnProperty(t) ? e[t] : n;
                          },
                          set: function (t, n) {
                            return (e[t] = n), n;
                          },
                          del: function (t) {
                            delete e[t];
                          },
                          getOrSet: function (t, n) {
                            return Ce(e, t, n);
                          },
                          reset: function () {
                            e = t();
                          },
                          keys: function () {
                            return Object.keys(e);
                          }
                        };
                      })
                    );
                  }
                  var ct = function () {};
                  function dt() {
                    var e = at();
                    return (
                      (e.WINDOW_WILDCARD = e.WINDOW_WILDCARD || new ct()),
                      e.WINDOW_WILDCARD
                    );
                  }
                  function lt(e, t) {
                    return (
                      void 0 === e && (e = "store"),
                      void 0 === t && (t = st),
                      ut("windowStore").getOrSet(e, function () {
                        var n = new X(),
                          r = function (e) {
                            return n.getOrSet(e, t);
                          };
                        return {
                          has: function (t) {
                            return r(t).hasOwnProperty(e);
                          },
                          get: function (t, n) {
                            var i = r(t);
                            return i.hasOwnProperty(e) ? i[e] : n;
                          },
                          set: function (t, n) {
                            return (r(t)[e] = n), n;
                          },
                          del: function (t) {
                            delete r(t)[e];
                          },
                          getOrSet: function (t, n) {
                            return Ce(r(t), e, n);
                          }
                        };
                      })
                    );
                  }
                  function ft() {
                    return ut("instance").getOrSet("instanceID", ae);
                  }
                  function ht(e, t) {
                    var n = t.domain,
                      r = lt("helloPromises"),
                      i = r.get(e);
                    i && i.resolve({ domain: n });
                    var o = p.resolve({ domain: n });
                    return r.set(e, o), o;
                  }
                  function pt(e, t) {
                    return (0, t.send)(
                      e,
                      "postrobot_hello",
                      { instanceID: ft() },
                      { domain: "*", timeout: -1 }
                    ).then(function (t) {
                      var n = t.origin,
                        r = t.data.instanceID;
                      return (
                        ht(e, { domain: n }),
                        { win: e, domain: n, instanceID: r }
                      );
                    });
                  }
                  function yt(e, t) {
                    var n = t.send;
                    return lt("windowInstanceIDPromises").getOrSet(
                      e,
                      function () {
                        return pt(e, { send: n }).then(function (e) {
                          return e.instanceID;
                        });
                      }
                    );
                  }
                  function wt(e, t, n) {
                    void 0 === t && (t = 5e3), void 0 === n && (n = "Window");
                    var r,
                      i =
                        ((r = e),
                        lt("helloPromises").getOrSet(r, function () {
                          return new p();
                        }));
                    return (
                      -1 !== t &&
                        (i = i.timeout(
                          t,
                          new Error(n + " did not load after " + t + "ms")
                        )),
                      i
                    );
                  }
                  function vt(e) {
                    lt("knownWindows").set(e, !0);
                  }
                  function gt(e) {
                    return (
                      "object" == typeof e &&
                      null !== e &&
                      "string" == typeof e.__type__
                    );
                  }
                  function mt(e) {
                    return void 0 === e
                      ? "undefined"
                      : null === e
                      ? "null"
                      : Array.isArray(e)
                      ? "array"
                      : "function" == typeof e
                      ? "function"
                      : "object" == typeof e
                      ? e instanceof Error
                        ? "error"
                        : "function" == typeof e.then
                        ? "promise"
                        : "[object RegExp]" === {}.toString.call(e)
                        ? "regex"
                        : "[object Date]" === {}.toString.call(e)
                        ? "date"
                        : "object"
                      : "string" == typeof e
                      ? "string"
                      : "number" == typeof e
                      ? "number"
                      : "boolean" == typeof e
                      ? "boolean"
                      : void 0;
                  }
                  function bt(e, t) {
                    return { __type__: e, __val__: t };
                  }
                  var Et,
                    _t,
                    St =
                      (((Et = {}).function = function () {}),
                      (Et.error = function (e) {
                        return bt("error", {
                          message: e.message,
                          stack: e.stack,
                          code: e.code,
                          data: e.data
                        });
                      }),
                      (Et.promise = function () {}),
                      (Et.regex = function (e) {
                        return bt("regex", e.source);
                      }),
                      (Et.date = function (e) {
                        return bt("date", e.toJSON());
                      }),
                      (Et.array = function (e) {
                        return e;
                      }),
                      (Et.object = function (e) {
                        return e;
                      }),
                      (Et.string = function (e) {
                        return e;
                      }),
                      (Et.number = function (e) {
                        return e;
                      }),
                      (Et.boolean = function (e) {
                        return e;
                      }),
                      (Et.null = function (e) {
                        return e;
                      }),
                      (Et[void 0] = function (e) {
                        return bt("undefined", e);
                      }),
                      Et),
                    xt = {},
                    Ot =
                      (((_t = {}).function = function () {
                        throw new Error(
                          "Function serialization is not implemented; nothing to deserialize"
                        );
                      }),
                      (_t.error = function (e) {
                        var t = e.stack,
                          n = e.code,
                          r = e.data,
                          i = new Error(e.message);
                        return (
                          (i.code = n),
                          r && (i.data = r),
                          (i.stack = t + "\n\n" + i.stack),
                          i
                        );
                      }),
                      (_t.promise = function () {
                        throw new Error(
                          "Promise serialization is not implemented; nothing to deserialize"
                        );
                      }),
                      (_t.regex = function (e) {
                        return new RegExp(e);
                      }),
                      (_t.date = function (e) {
                        return new Date(e);
                      }),
                      (_t.array = function (e) {
                        return e;
                      }),
                      (_t.object = function (e) {
                        return e;
                      }),
                      (_t.string = function (e) {
                        return e;
                      }),
                      (_t.number = function (e) {
                        return e;
                      }),
                      (_t.boolean = function (e) {
                        return e;
                      }),
                      (_t.null = function (e) {
                        return e;
                      }),
                      (_t[void 0] = function () {}),
                      _t),
                    Pt = {};
                  function At() {
                    return !!F(window).match(/MSIE|trident|edge\/12|edge\/13/i);
                  }
                  function Ct(e) {
                    return !z(window, e);
                  }
                  function Tt(e, t) {
                    if (e) {
                      if (O() !== q(e)) return !0;
                    } else if (t && !P(t)) return !0;
                    return !1;
                  }
                  function Rt(e) {
                    var t = e.win,
                      n = e.domain;
                    return !(!At() || (n && !Tt(n, t)) || (t && !Ct(t)));
                  }
                  function Dt(e) {
                    return (
                      "__postrobot_bridge___" +
                      (e = e || q(e)).replace(/[^a-zA-Z0-9]+/g, "_")
                    );
                  }
                  function kt() {
                    return !(!window.name || window.name !== Dt(O()));
                  }
                  var It = new p(function (e) {
                    if (window.document && window.document.body)
                      return e(window.document.body);
                    var t = setInterval(function () {
                      if (window.document && window.document.body)
                        return clearInterval(t), e(window.document.body);
                    }, 10);
                  });
                  function Nt(e) {
                    lt("remoteWindowPromises").getOrSet(e, function () {
                      return new p();
                    });
                  }
                  function jt(e) {
                    var t = lt("remoteWindowPromises").get(e);
                    if (!t) throw new Error("Remote window promise not found");
                    return t;
                  }
                  function Ft(e, t, n) {
                    jt(e).resolve(function (r, i, o) {
                      if (r !== e)
                        throw new Error("Remote window does not match window");
                      if (!L(i, t))
                        throw new Error(
                          "Remote domain " + i + " does not match domain " + t
                        );
                      n.fireAndForget(o);
                    });
                  }
                  function Mt(e, t) {
                    jt(e).reject(t).catch(he);
                  }
                  function Wt(e) {
                    for (
                      var t = e.win,
                        n = e.name,
                        r = e.domain,
                        i = ut("popupWindowsByName"),
                        o = lt("popupWindowsByWin"),
                        a = 0,
                        s = i.keys();
                      a < s.length;
                      a++
                    ) {
                      var u = s[a],
                        c = i.get(u);
                      (c && !j(c.win)) || i.del(u);
                    }
                    if (j(t)) return { win: t, name: n, domain: r };
                    var d = o.getOrSet(t, function () {
                      return n
                        ? i.getOrSet(n, function () {
                            return { win: t, name: n };
                          })
                        : { win: t };
                    });
                    if (d.win && d.win !== t)
                      throw new Error(
                        "Different window already linked for window: " +
                          (n || "undefined")
                      );
                    return (
                      n && ((d.name = n), i.set(n, d)),
                      r && ((d.domain = r), Nt(t)),
                      o.set(t, d),
                      d
                    );
                  }
                  function Bt(e) {
                    var t,
                      n,
                      r,
                      i,
                      o,
                      a,
                      s = e.on,
                      u = e.send,
                      c = e.receiveMessage;
                    (t = window.open),
                      (window.open = function (e, n, r, i) {
                        var o = t.call(this, J(e), n, r, i);
                        return (
                          o &&
                          (Wt({ win: o, name: n, domain: e ? q(e) : null }), o)
                        );
                      }),
                      (r = (n = { on: s, send: u, receiveMessage: c }).on),
                      (i = n.send),
                      (o = n.receiveMessage),
                      (a = ut("popupWindowsByName")),
                      r("postrobot_open_tunnel", function (e) {
                        var t = e.source,
                          n = e.origin,
                          s = e.data,
                          u = ut("bridges").get(n);
                        if (!u)
                          throw new Error(
                            "Can not find bridge promise for domain " + n
                          );
                        return u.then(function (e) {
                          if (t !== e)
                            throw new Error(
                              "Message source does not matched registered bridge for domain " +
                                n
                            );
                          if (!s.name)
                            throw new Error(
                              "Register window expected to be passed window name"
                            );
                          if (!s.sendMessage)
                            throw new Error(
                              "Register window expected to be passed sendMessage method"
                            );
                          if (!a.has(s.name))
                            throw new Error(
                              "Window with name " +
                                s.name +
                                " does not exist, or was not opened by this window"
                            );
                          var u = function () {
                            return a.get(s.name);
                          };
                          if (!u().domain)
                            throw new Error(
                              "We do not have a registered domain for window " +
                                s.name
                            );
                          if (u().domain !== n)
                            throw new Error(
                              "Message origin " +
                                n +
                                " does not matched registered window origin " +
                                (u().domain || "unknown")
                            );
                          return (
                            Ft(u().win, n, s.sendMessage),
                            {
                              sendMessage: function (e) {
                                if (window && !window.closed && u()) {
                                  var t = u().domain;
                                  if (t)
                                    try {
                                      o(
                                        { data: e, origin: t, source: u().win },
                                        { on: r, send: i }
                                      );
                                    } catch (e) {
                                      p.reject(e);
                                    }
                                }
                              }
                            }
                          );
                        });
                      }),
                      (function (e) {
                        var t = e.send;
                        at(window).openTunnelToParent = function (e) {
                          var n = e.name,
                            r = e.source,
                            i = e.canary,
                            o = e.sendMessage,
                            a = ut("tunnelWindows"),
                            s = E(window);
                          if (!s)
                            throw new Error(
                              "No parent window found to open tunnel to"
                            );
                          var u = (function (e) {
                            var t = e.name,
                              n = e.source,
                              r = e.canary,
                              i = e.sendMessage;
                            !(function () {
                              for (
                                var e = ut("tunnelWindows"),
                                  t = 0,
                                  n = e.keys();
                                t < n.length;
                                t++
                              ) {
                                var r = n[t];
                                j(e[r].source) && e.del(r);
                              }
                            })();
                            var o = ae();
                            return (
                              ut("tunnelWindows").set(o, {
                                name: t,
                                source: n,
                                canary: r,
                                sendMessage: i
                              }),
                              o
                            );
                          })({ name: n, source: r, canary: i, sendMessage: o });
                          return t(
                            s,
                            "postrobot_open_tunnel",
                            {
                              name: n,
                              sendMessage: function () {
                                var e = a.get(u);
                                if (e && e.source && !j(e.source)) {
                                  try {
                                    e.canary();
                                  } catch {
                                    return;
                                  }
                                  e.sendMessage.apply(this, arguments);
                                }
                              }
                            },
                            { domain: "*" }
                          );
                        };
                      })({ send: u }),
                      (function (e) {
                        var t = e.on,
                          n = e.send,
                          r = e.receiveMessage;
                        p.try(function () {
                          var e,
                            i = _(window);
                          if (i && Rt({ win: i }))
                            return (
                              Nt(i),
                              ((e = i),
                              lt("remoteBridgeAwaiters").getOrSet(
                                e,
                                function () {
                                  return p.try(function () {
                                    var t = M(e, Dt(O()));
                                    if (t)
                                      return P(t) && at(A(t))
                                        ? t
                                        : new p(function (e) {
                                            var n, r;
                                            (n = setInterval(function () {
                                              if (t && P(t) && at(A(t)))
                                                return (
                                                  clearInterval(n),
                                                  clearTimeout(r),
                                                  e(t)
                                                );
                                            }, 100)),
                                              (r = setTimeout(function () {
                                                return clearInterval(n), e();
                                              }, 2e3));
                                          });
                                  });
                                }
                              )).then(function (e) {
                                return e
                                  ? window.name
                                    ? at(A(e))
                                        .openTunnelToParent({
                                          name: window.name,
                                          source: window,
                                          canary: function () {},
                                          sendMessage: function (e) {
                                            if (window && !window.closed)
                                              try {
                                                r(
                                                  {
                                                    data: e,
                                                    origin: this.origin,
                                                    source: this.source
                                                  },
                                                  { on: t, send: n }
                                                );
                                              } catch (e) {
                                                p.reject(e);
                                              }
                                          }
                                        })
                                        .then(function (e) {
                                          var t = e.source,
                                            n = e.origin,
                                            r = e.data;
                                          if (t !== i)
                                            throw new Error(
                                              "Source does not match opener"
                                            );
                                          Ft(t, n, r.sendMessage);
                                        })
                                        .catch(function (e) {
                                          throw (Mt(i, e), e);
                                        })
                                    : Mt(
                                        i,
                                        new Error(
                                          "Can not register with opener: window does not have a name"
                                        )
                                      )
                                  : Mt(
                                      i,
                                      new Error(
                                        "Can not register with opener: no bridge found in opener"
                                      )
                                    );
                              })
                            );
                        });
                      })({ on: s, send: u, receiveMessage: c });
                  }
                  function Vt() {
                    for (
                      var e = ut("idToProxyWindow"), t = 0, n = e.keys();
                      t < n.length;
                      t++
                    ) {
                      var r = n[t];
                      e.get(r).shouldClean() && e.del(r);
                    }
                  }
                  function Ut(e, t) {
                    var n = t.send,
                      r = t.id,
                      i = void 0 === r ? ae() : r,
                      o = e.then(function (e) {
                        if (P(e)) return A(e).name;
                      }),
                      a = e.then(function (e) {
                        if (j(e))
                          throw new Error(
                            "Window is closed, can not determine type"
                          );
                        return _(e) ? w.POPUP : w.IFRAME;
                      });
                    o.catch(he), a.catch(he);
                    var s = function () {
                      return e.then(function (e) {
                        if (!j(e)) return P(e) ? A(e).name : o;
                      });
                    };
                    return {
                      id: i,
                      getType: function () {
                        return a;
                      },
                      getInstanceID: fe(function () {
                        return e.then(function (e) {
                          return yt(e, { send: n });
                        });
                      }),
                      close: function () {
                        return e.then(G);
                      },
                      getName: s,
                      focus: function () {
                        return e.then(function (e) {
                          e.focus();
                        });
                      },
                      isClosed: function () {
                        return e.then(function (e) {
                          return j(e);
                        });
                      },
                      setLocation: function (t, n) {
                        return (
                          void 0 === n && (n = {}),
                          e.then(function (e) {
                            var r =
                                window.location.protocol +
                                "//" +
                                window.location.host,
                              i = n.method,
                              o = void 0 === i ? "get" : i,
                              a = n.body;
                            if (0 === t.indexOf("/")) t = "" + r + t;
                            else if (
                              !t.match(/^https?:\/\//) &&
                              0 !== t.indexOf(r)
                            )
                              throw new Error(
                                "Expected url to be http or https url, or absolute path, got " +
                                  JSON.stringify(t)
                              );
                            if ("post" === o)
                              return s().then(function (e) {
                                if (!e)
                                  throw new Error(
                                    "Can not post to window without target name"
                                  );
                                !(function (e) {
                                  var t = e.url,
                                    n = e.target,
                                    r = e.body,
                                    i = e.method,
                                    o = void 0 === i ? "post" : i,
                                    a = document.createElement("form");
                                  if (
                                    (a.setAttribute("target", n),
                                    a.setAttribute("method", o),
                                    a.setAttribute("action", t),
                                    (a.style.display = "none"),
                                    r)
                                  )
                                    for (
                                      var s = 0, u = Object.keys(r);
                                      s < u.length;
                                      s++
                                    ) {
                                      var c,
                                        d = u[s],
                                        l = document.createElement("input");
                                      l.setAttribute("name", d),
                                        l.setAttribute(
                                          "value",
                                          null == (c = r[d])
                                            ? void 0
                                            : c.toString()
                                        ),
                                        a.appendChild(l);
                                    }
                                  ke().appendChild(a),
                                    a.submit(),
                                    ke().removeChild(a);
                                })({ url: t, target: e, method: o, body: a });
                              });
                            if ("get" !== o)
                              throw new Error("Unsupported method: " + o);
                            if (P(e))
                              try {
                                if (
                                  e.location &&
                                  "function" == typeof e.location.replace
                                )
                                  return void e.location.replace(t);
                              } catch {}
                            e.location = t;
                          })
                        );
                      },
                      setName: function (t) {
                        return e.then(function (e) {
                          Wt({ win: e, name: t });
                          var n = P(e),
                            r = $(e);
                          if (!n)
                            throw new Error(
                              "Can not set name for cross-domain window: " + t
                            );
                          (A(e).name = t),
                            r && r.setAttribute("name", t),
                            (o = p.resolve(t));
                        });
                      }
                    };
                  }
                  var zt = (function () {
                    function e(e) {
                      var t = e.send,
                        n = e.win,
                        r = e.serializedWindow;
                      (this.id = void 0),
                        (this.isProxyWindow = !0),
                        (this.serializedWindow = void 0),
                        (this.actualWindow = void 0),
                        (this.actualWindowPromise = void 0),
                        (this.send = void 0),
                        (this.name = void 0),
                        (this.actualWindowPromise = new p()),
                        (this.serializedWindow =
                          r || Ut(this.actualWindowPromise, { send: t })),
                        ut("idToProxyWindow").set(this.getID(), this),
                        n && this.setWindow(n, { send: t });
                    }
                    var t = e.prototype;
                    return (
                      (t.getID = function () {
                        return this.serializedWindow.id;
                      }),
                      (t.getType = function () {
                        return this.serializedWindow.getType();
                      }),
                      (t.isPopup = function () {
                        return this.getType().then(function (e) {
                          return e === w.POPUP;
                        });
                      }),
                      (t.setLocation = function (e, t) {
                        var n = this;
                        return this.serializedWindow
                          .setLocation(e, t)
                          .then(function () {
                            return n;
                          });
                      }),
                      (t.getName = function () {
                        return this.serializedWindow.getName();
                      }),
                      (t.setName = function (e) {
                        var t = this;
                        return this.serializedWindow
                          .setName(e)
                          .then(function () {
                            return t;
                          });
                      }),
                      (t.close = function () {
                        var e = this;
                        return this.serializedWindow.close().then(function () {
                          return e;
                        });
                      }),
                      (t.focus = function () {
                        var e = this,
                          t = this.isPopup(),
                          n = this.getName(),
                          r = p
                            .hash({ isPopup: t, name: n })
                            .then(function (e) {
                              var t = e.name;
                              e.isPopup && t && window.open("", t, "noopener");
                            }),
                          i = this.serializedWindow.focus();
                        return p.all([r, i]).then(function () {
                          return e;
                        });
                      }),
                      (t.isClosed = function () {
                        return this.serializedWindow.isClosed();
                      }),
                      (t.getWindow = function () {
                        return this.actualWindow;
                      }),
                      (t.setWindow = function (e, t) {
                        var n = t.send;
                        (this.actualWindow = e),
                          this.actualWindowPromise.resolve(this.actualWindow),
                          (this.serializedWindow = Ut(
                            this.actualWindowPromise,
                            { send: n, id: this.getID() }
                          )),
                          lt("winToProxyWindow").set(e, this);
                      }),
                      (t.awaitWindow = function () {
                        return this.actualWindowPromise;
                      }),
                      (t.matchWindow = function (e, t) {
                        var n = this,
                          r = t.send;
                        return p.try(function () {
                          return n.actualWindow
                            ? e === n.actualWindow
                            : p
                                .hash({
                                  proxyInstanceID: n.getInstanceID(),
                                  knownWindowInstanceID: yt(e, { send: r })
                                })
                                .then(function (t) {
                                  var i =
                                    t.proxyInstanceID ===
                                    t.knownWindowInstanceID;
                                  return i && n.setWindow(e, { send: r }), i;
                                });
                        });
                      }),
                      (t.unwrap = function () {
                        return this.actualWindow || this;
                      }),
                      (t.getInstanceID = function () {
                        return this.serializedWindow.getInstanceID();
                      }),
                      (t.shouldClean = function () {
                        return !(!this.actualWindow || !j(this.actualWindow));
                      }),
                      (t.serialize = function () {
                        return this.serializedWindow;
                      }),
                      (e.unwrap = function (t) {
                        return e.isProxyWindow(t) ? t.unwrap() : t;
                      }),
                      (e.serialize = function (t, n) {
                        var r = n.send;
                        return (
                          Vt(), e.toProxyWindow(t, { send: r }).serialize()
                        );
                      }),
                      (e.deserialize = function (t, n) {
                        var r = n.send;
                        return (
                          Vt(),
                          ut("idToProxyWindow").get(t.id) ||
                            new e({ serializedWindow: t, send: r })
                        );
                      }),
                      (e.isProxyWindow = function (e) {
                        return !(!e || K(e) || !e.isProxyWindow);
                      }),
                      (e.toProxyWindow = function (t, n) {
                        var r = n.send;
                        if ((Vt(), e.isProxyWindow(t))) return t;
                        var i = t;
                        return (
                          lt("winToProxyWindow").get(i) ||
                          new e({ win: i, send: r })
                        );
                      }),
                      e
                    );
                  })();
                  function Lt(e, t, n, r, i) {
                    var o = lt("methodStore"),
                      a = ut("proxyWindowMethods");
                    zt.isProxyWindow(r)
                      ? a.set(e, { val: t, name: n, domain: i, source: r })
                      : (a.del(e),
                        (o.getOrSet(r, function () {
                          return {};
                        })[e] = { domain: i, name: n, val: t, source: r }));
                  }
                  function qt(e, t) {
                    var n = lt("methodStore"),
                      r = ut("proxyWindowMethods");
                    return (
                      n.getOrSet(e, function () {
                        return {};
                      })[t] || r.get(t)
                    );
                  }
                  function Ht(e, t, n, r, i) {
                    (a = (o = { on: i.on, send: i.send }).on),
                      (s = o.send),
                      ut("builtinListeners").getOrSet(
                        "functionCalls",
                        function () {
                          return a(
                            "postrobot_method",
                            { domain: "*" },
                            function (e) {
                              var t = e.source,
                                n = e.origin,
                                r = e.data,
                                i = r.id,
                                o = r.name,
                                a = qt(t, i);
                              if (!a)
                                throw new Error(
                                  "Could not find method '" +
                                    o +
                                    "' with id: " +
                                    r.id +
                                    " in " +
                                    O(window)
                                );
                              var u = a.source,
                                c = a.domain,
                                d = a.val;
                              return p
                                .try(function () {
                                  if (!L(c, n))
                                    throw new Error(
                                      "Method '" +
                                        r.name +
                                        "' domain " +
                                        JSON.stringify(
                                          Ae(a.domain)
                                            ? a.domain.source
                                            : a.domain
                                        ) +
                                        " does not match origin " +
                                        n +
                                        " in " +
                                        O(window)
                                    );
                                  if (zt.isProxyWindow(u))
                                    return u
                                      .matchWindow(t, { send: s })
                                      .then(function (e) {
                                        if (!e)
                                          throw new Error(
                                            "Method call '" +
                                              r.name +
                                              "' failed - proxy window does not match source in " +
                                              O(window)
                                          );
                                      });
                                })
                                .then(
                                  function () {
                                    return d.apply(
                                      { source: t, origin: n },
                                      r.args
                                    );
                                  },
                                  function (e) {
                                    return p
                                      .try(function () {
                                        if (d.onError) return d.onError(e);
                                      })
                                      .then(function () {
                                        throw (
                                          (e.stack &&
                                            (e.stack =
                                              "Remote call to " +
                                              o +
                                              "(" +
                                              (void 0 === (t = r.args) &&
                                                (t = []),
                                              _e(t)
                                                .map(function (e) {
                                                  return "string" == typeof e
                                                    ? "'" + e + "'"
                                                    : void 0 === e
                                                    ? "undefined"
                                                    : null === e
                                                    ? "null"
                                                    : "boolean" == typeof e
                                                    ? e.toString()
                                                    : Array.isArray(e)
                                                    ? "[ ... ]"
                                                    : "object" == typeof e
                                                    ? "{ ... }"
                                                    : "function" == typeof e
                                                    ? "() => { ... }"
                                                    : "<" + typeof e + ">";
                                                })
                                                .join(", ") + ") failed\n\n") +
                                              e.stack),
                                          e)
                                        );
                                        var t;
                                      });
                                  }
                                )
                                .then(function (e) {
                                  return { result: e, id: i, name: o };
                                });
                            }
                          );
                        }
                      );
                    var o,
                      a,
                      s,
                      u = n.__id__ || ae();
                    e = zt.unwrap(e);
                    var c = n.__name__ || n.name || r;
                    return (
                      "string" == typeof c &&
                        "function" == typeof c.indexOf &&
                        0 === c.indexOf("anonymous::") &&
                        (c = c.replace("anonymous::", r + "::")),
                      zt.isProxyWindow(e)
                        ? (Lt(u, n, c, e, t),
                          e.awaitWindow().then(function (e) {
                            Lt(u, n, c, e, t);
                          }))
                        : Lt(u, n, c, e, t),
                      bt("cross_domain_function", { id: u, name: c })
                    );
                  }
                  function Kt(e, t, n, r) {
                    var i,
                      o = r.on,
                      a = r.send;
                    return (function (e, t) {
                      void 0 === t && (t = xt);
                      var n = JSON.stringify(e, function (e) {
                        var n = this[e];
                        if (gt(this)) return n;
                        var r = mt(n);
                        if (!r) return n;
                        var i = t[r] || St[r];
                        return i ? i(n, e) : n;
                      });
                      return void 0 === n ? "undefined" : n;
                    })(
                      n,
                      (((i = {}).promise = function (n, r) {
                        return (
                          (i = n),
                          bt("cross_domain_zalgo_promise", {
                            then: Ht(
                              e,
                              t,
                              function (e, t) {
                                return i.then(e, t);
                              },
                              r,
                              { on: (s = { on: o, send: a }).on, send: s.send }
                            )
                          })
                        );
                        var i, s;
                      }),
                      (i.function = function (n, r) {
                        return Ht(e, t, n, r, { on: o, send: a });
                      }),
                      (i.object = function (e) {
                        return K(e) || zt.isProxyWindow(e)
                          ? bt(
                              "cross_domain_window",
                              zt.serialize(e, { send: a })
                            )
                          : e;
                      }),
                      i)
                    );
                  }
                  function Jt(e, t, n, r) {
                    var i,
                      o = r.send;
                    return (function (e, t) {
                      if ((void 0 === t && (t = Pt), "undefined" !== e))
                        return JSON.parse(e, function (e, n) {
                          if (gt(this)) return n;
                          var r, i;
                          if (
                            (gt(n)
                              ? ((r = n.__type__), (i = n.__val__))
                              : ((r = mt(n)), (i = n)),
                            !r)
                          )
                            return i;
                          var o = t[r] || Ot[r];
                          return o ? o(i, e) : i;
                        });
                    })(
                      n,
                      (((i = {}).cross_domain_zalgo_promise = function (e) {
                        return new p(e.then);
                      }),
                      (i.cross_domain_function = function (n) {
                        return (
                          (r = e),
                          (i = t),
                          (s = { send: o }),
                          (u = (a = n).id),
                          (c = a.name),
                          (d = s.send),
                          (l = function (e) {
                            function t() {
                              var n = arguments;
                              return zt
                                .toProxyWindow(r, { send: d })
                                .awaitWindow()
                                .then(function (r) {
                                  var o = qt(r, u);
                                  if (o && o.val !== t)
                                    return o.val.apply(
                                      { source: window, origin: O() },
                                      n
                                    );
                                  var a = [].slice.call(n);
                                  return e.fireAndForget
                                    ? d(
                                        r,
                                        "postrobot_method",
                                        { id: u, name: c, args: a },
                                        { domain: i, fireAndForget: !0 }
                                      )
                                    : d(
                                        r,
                                        "postrobot_method",
                                        { id: u, name: c, args: a },
                                        { domain: i, fireAndForget: !1 }
                                      ).then(function (e) {
                                        return e.data.result;
                                      });
                                })
                                .catch(function (e) {
                                  throw e;
                                });
                            }
                            return (
                              void 0 === e && (e = {}),
                              (t.__name__ = c),
                              (t.__origin__ = i),
                              (t.__source__ = r),
                              (t.__id__ = u),
                              (t.origin = i),
                              t
                            );
                          }),
                          ((f = l()).fireAndForget = l({ fireAndForget: !0 })),
                          f
                        );
                        var r, i, a, s, u, c, d, l, f;
                      }),
                      (i.cross_domain_window = function (e) {
                        return zt.deserialize(e, { send: o });
                      }),
                      i)
                    );
                  }
                  var $t = {};
                  function Gt(e, t, n, r) {
                    var i = r.on,
                      o = r.send;
                    return p
                      .try(function () {
                        var r = lt().getOrSet(e, function () {
                          return {};
                        });
                        return (
                          (r.buffer = r.buffer || []),
                          r.buffer.push(n),
                          (r.flush =
                            r.flush ||
                            p.flush().then(function () {
                              if (j(e)) throw new Error("Window is closed");
                              var n,
                                a = Kt(
                                  e,
                                  t,
                                  (((n = {}).__post_robot_11_0_0__ =
                                    r.buffer || []),
                                  n),
                                  { on: i, send: o }
                                );
                              delete r.buffer;
                              for (
                                var s = Object.keys($t), u = [], c = 0;
                                c < s.length;
                                c++
                              ) {
                                var d = s[c];
                                try {
                                  $t[d](e, a, t);
                                } catch (e) {
                                  u.push(e);
                                }
                              }
                              if (u.length === s.length)
                                throw new Error(
                                  "All post-robot messaging strategies failed:\n\n" +
                                    u
                                      .map(function (e, t) {
                                        return t + ". " + ye(e);
                                      })
                                      .join("\n\n")
                                );
                            })),
                          r.flush.then(function () {
                            delete r.flush;
                          })
                        );
                      })
                      .then(he);
                  }
                  function Qt(e) {
                    return ut("responseListeners").get(e);
                  }
                  function Yt(e) {
                    ut("responseListeners").del(e);
                  }
                  function Xt(e) {
                    return ut("erroredResponseListeners").has(e);
                  }
                  function Zt(e) {
                    var t = e.name,
                      n = e.win,
                      r = e.domain,
                      i = lt("requestListeners");
                    if (("*" === n && (n = null), "*" === r && (r = null), !t))
                      throw new Error("Name required to get request listener");
                    for (var o = 0, a = [n, dt()]; o < a.length; o++) {
                      var s = a[o];
                      if (s) {
                        var u = i.get(s);
                        if (u) {
                          var c = u[t];
                          if (c) {
                            if (r && "string" == typeof r) {
                              if (c[r]) return c[r];
                              if (c.__domain_regex__)
                                for (
                                  var d = 0, l = c.__domain_regex__;
                                  d < l.length;
                                  d++
                                ) {
                                  var f = l[d],
                                    h = f.listener;
                                  if (L(f.regex, r)) return h;
                                }
                            }
                            if (c["*"]) return c["*"];
                          }
                        }
                      }
                    }
                  }
                  function en(e, t) {
                    var n = t.on,
                      r = t.send,
                      i = ut("receivedMessages");
                    try {
                      if (!window || window.closed || !e.source) return;
                    } catch {
                      return;
                    }
                    var o = e.source,
                      a = e.origin,
                      s = (function (e, t, n, r) {
                        var i,
                          o = r.on,
                          a = r.send;
                        try {
                          i = Jt(t, n, e, { on: o, send: a });
                        } catch {
                          return;
                        }
                        if (i && "object" == typeof i && null !== i) {
                          var s = i.__post_robot_11_0_0__;
                          if (Array.isArray(s)) return s;
                        }
                      })(e.data, o, a, { on: n, send: r });
                    if (s) {
                      vt(o);
                      for (
                        var u = function () {
                            var e = s[c];
                            if (i.has(e.id)) return { v: void 0 };
                            if ((i.set(e.id, !0), j(o) && !e.fireAndForget))
                              return { v: void 0 };
                            0 === e.origin.indexOf("file:") && (a = "file://");
                            try {
                              "postrobot_message_request" === e.type
                                ? (function (e, t, n, r) {
                                    var i = r.on,
                                      o = r.send,
                                      a = Zt({
                                        name: n.name,
                                        win: e,
                                        domain: t
                                      }),
                                      s =
                                        "postrobot_method" === n.name &&
                                        n.data &&
                                        "string" == typeof n.data.name
                                          ? n.data.name + "()"
                                          : n.name;
                                    function u(r, a, u) {
                                      return p.flush().then(function () {
                                        if (!n.fireAndForget && !j(e))
                                          try {
                                            return Gt(
                                              e,
                                              t,
                                              {
                                                id: ae(),
                                                origin: O(window),
                                                type: "postrobot_message_response",
                                                hash: n.hash,
                                                name: n.name,
                                                ack: r,
                                                data: a,
                                                error: u
                                              },
                                              { on: i, send: o }
                                            );
                                          } catch (e) {
                                            throw new Error(
                                              "Send response message failed for " +
                                                s +
                                                " in " +
                                                O() +
                                                "\n\n" +
                                                ye(e)
                                            );
                                          }
                                      });
                                    }
                                    p.all([
                                      p.flush().then(function () {
                                        if (!n.fireAndForget && !j(e))
                                          try {
                                            return Gt(
                                              e,
                                              t,
                                              {
                                                id: ae(),
                                                origin: O(window),
                                                type: "postrobot_message_ack",
                                                hash: n.hash,
                                                name: n.name
                                              },
                                              { on: i, send: o }
                                            );
                                          } catch (e) {
                                            throw new Error(
                                              "Send ack message failed for " +
                                                s +
                                                " in " +
                                                O() +
                                                "\n\n" +
                                                ye(e)
                                            );
                                          }
                                      }),
                                      p
                                        .try(function () {
                                          if (!a)
                                            throw new Error(
                                              "No handler found for post message: " +
                                                n.name +
                                                " from " +
                                                t +
                                                " in " +
                                                window.location.protocol +
                                                "//" +
                                                window.location.host +
                                                window.location.pathname
                                            );
                                          return a.handler({
                                            source: e,
                                            origin: t,
                                            data: n.data
                                          });
                                        })
                                        .then(
                                          function (e) {
                                            return u("success", e);
                                          },
                                          function (e) {
                                            return u("error", null, e);
                                          }
                                        )
                                    ])
                                      .then(he)
                                      .catch(function (e) {
                                        if (a && a.handleError)
                                          return a.handleError(e);
                                        throw e;
                                      });
                                  })(o, a, e, { on: n, send: r })
                                : "postrobot_message_response" === e.type
                                ? (function (e, t, n) {
                                    if (!Xt(n.hash)) {
                                      var r,
                                        i = Qt(n.hash);
                                      if (!i)
                                        throw new Error(
                                          "No handler found for post message response for message: " +
                                            n.name +
                                            " from " +
                                            t +
                                            " in " +
                                            window.location.protocol +
                                            "//" +
                                            window.location.host +
                                            window.location.pathname
                                        );
                                      if (!L(i.domain, t))
                                        throw new Error(
                                          "Response origin " +
                                            t +
                                            " does not match domain " +
                                            ((r = i.domain),
                                            Array.isArray(r)
                                              ? "(" + r.join(" | ") + ")"
                                              : y(r)
                                              ? "RegExp(" + r.toString() + ")"
                                              : r.toString())
                                        );
                                      if (e !== i.win)
                                        throw new Error(
                                          "Response source does not match registered window"
                                        );
                                      Yt(n.hash),
                                        "error" === n.ack
                                          ? i.promise.reject(n.error)
                                          : "success" === n.ack &&
                                            i.promise.resolve({
                                              source: e,
                                              origin: t,
                                              data: n.data
                                            });
                                    }
                                  })(o, a, e)
                                : "postrobot_message_ack" === e.type &&
                                  (function (e, t, n) {
                                    if (!Xt(n.hash)) {
                                      var r = Qt(n.hash);
                                      if (!r)
                                        throw new Error(
                                          "No handler found for post message ack for message: " +
                                            n.name +
                                            " from " +
                                            t +
                                            " in " +
                                            window.location.protocol +
                                            "//" +
                                            window.location.host +
                                            window.location.pathname
                                        );
                                      try {
                                        if (!L(r.domain, t))
                                          throw new Error(
                                            "Ack origin " +
                                              t +
                                              " does not match domain " +
                                              r.domain.toString()
                                          );
                                        if (e !== r.win)
                                          throw new Error(
                                            "Ack source does not match registered window"
                                          );
                                      } catch (e) {
                                        r.promise.reject(e);
                                      }
                                      r.ack = !0;
                                    }
                                  })(o, a, e);
                            } catch (e) {
                              setTimeout(function () {
                                throw e;
                              }, 0);
                            }
                          },
                          c = 0;
                        c < s.length;
                        c++
                      ) {
                        var d = u();
                        if ("object" == typeof d) return d.v;
                      }
                    }
                  }
                  function tn(e, t, n) {
                    if (!e) throw new Error("Expected name");
                    if (
                      ("function" == typeof (t = t || {}) &&
                        ((n = t), (t = {})),
                      !n)
                    )
                      throw new Error("Expected handler");
                    var r = (function e(t, n) {
                      var r = t.name,
                        i = t.win,
                        o = t.domain,
                        a = lt("requestListeners");
                      if (!r || "string" != typeof r)
                        throw new Error(
                          "Name required to add request listener"
                        );
                      if (i && "*" !== i && zt.isProxyWindow(i)) {
                        var s = i.awaitWindow().then(function (t) {
                          return e({ name: r, win: t, domain: o }, n);
                        });
                        return {
                          cancel: function () {
                            s.then(function (e) {
                              return e.cancel();
                            }, he);
                          }
                        };
                      }
                      var u = i;
                      if (Array.isArray(u)) {
                        for (var c = [], d = 0, l = u; d < l.length; d++)
                          c.push(e({ name: r, domain: o, win: l[d] }, n));
                        return {
                          cancel: function () {
                            for (var e = 0; e < c.length; e++) c[e].cancel();
                          }
                        };
                      }
                      if (Array.isArray(o)) {
                        for (var f = [], h = 0, p = o; h < p.length; h++)
                          f.push(e({ name: r, win: u, domain: p[h] }, n));
                        return {
                          cancel: function () {
                            for (var e = 0; e < f.length; e++) f[e].cancel();
                          }
                        };
                      }
                      var y = Zt({ name: r, win: u, domain: o });
                      (u && "*" !== u) || (u = dt());
                      var w = (o = o || "*").toString();
                      if (y)
                        throw u && o
                          ? new Error(
                              "Request listener already exists for " +
                                r +
                                " on domain " +
                                o.toString() +
                                " for " +
                                (u === dt() ? "wildcard" : "specified") +
                                " window"
                            )
                          : u
                          ? new Error(
                              "Request listener already exists for " +
                                r +
                                " for " +
                                (u === dt() ? "wildcard" : "specified") +
                                " window"
                            )
                          : o
                          ? new Error(
                              "Request listener already exists for " +
                                r +
                                " on domain " +
                                o.toString()
                            )
                          : new Error(
                              "Request listener already exists for " + r
                            );
                      var v,
                        g,
                        m = a.getOrSet(u, function () {
                          return {};
                        }),
                        b = Ce(m, r, function () {
                          return {};
                        });
                      return (
                        Ae(o)
                          ? (v = Ce(b, "__domain_regex__", function () {
                              return [];
                            })).push((g = { regex: o, listener: n }))
                          : (b[w] = n),
                        {
                          cancel: function () {
                            delete b[w],
                              g &&
                                (v.splice(v.indexOf(g, 1)),
                                v.length || delete b.__domain_regex__),
                              Object.keys(b).length || delete m[r],
                              u && !Object.keys(m).length && a.del(u);
                          }
                        }
                      );
                    })(
                      { name: e, win: t.window, domain: t.domain || "*" },
                      {
                        handler: n || t.handler,
                        handleError:
                          t.errorHandler ||
                          function (e) {
                            throw e;
                          }
                      }
                    );
                    return {
                      cancel: function () {
                        r.cancel();
                      }
                    };
                  }
                  ($t.postrobot_post_message = function (e, t, n) {
                    0 === n.indexOf("file:") && (n = "*"), e.postMessage(t, n);
                  }),
                    ($t.postrobot_bridge = function (e, t, n) {
                      if (!At() && !kt())
                        throw new Error("Bridge not needed for browser");
                      if (P(e))
                        throw new Error(
                          "Post message through bridge disabled between same domain windows"
                        );
                      if (!1 !== z(window, e))
                        throw new Error(
                          "Can only use bridge to communicate between two different windows, not between frames"
                        );
                      !(function (e, t, n) {
                        var r = W(window, e),
                          i = W(e, window);
                        if (!r && !i)
                          throw new Error(
                            "Can only send messages to and from parent and popup windows"
                          );
                        jt(e).then(function (r) {
                          return r(e, t, n);
                        });
                      })(e, n, t);
                    }),
                    ($t.postrobot_global = function (e, t) {
                      if (
                        !F(window).match(
                          /MSIE|rv:11|trident|edge\/12|edge\/13/i
                        )
                      )
                        throw new Error(
                          "Global messaging not needed for browser"
                        );
                      if (!P(e))
                        throw new Error(
                          "Post message through global disabled between different domain windows"
                        );
                      if (!1 !== z(window, e))
                        throw new Error(
                          "Can only use global to communicate between two different windows, not between frames"
                        );
                      var n = at(e);
                      if (!n)
                        throw new Error(
                          "Can not find postRobot global on foreign window"
                        );
                      n.receiveMessage({
                        source: window,
                        origin: O(),
                        data: t
                      });
                    });
                  var nn,
                    rn = function e(t, n, r, i) {
                      var o = (i = i || {}).domain || "*",
                        a = i.timeout || -1,
                        s = i.timeout || 5e3,
                        u = i.fireAndForget || !1;
                      return zt
                        .toProxyWindow(t, { send: e })
                        .awaitWindow()
                        .then(function (t) {
                          return p
                            .try(function () {
                              if (
                                ((function (e, t, n) {
                                  if (!e) throw new Error("Expected name");
                                  if (
                                    n &&
                                    "string" != typeof n &&
                                    !Array.isArray(n) &&
                                    !Ae(n)
                                  )
                                    throw new TypeError(
                                      "Can not send " +
                                        e +
                                        ". Expected domain " +
                                        JSON.stringify(n) +
                                        " to be a string, array, or regex"
                                    );
                                  if (j(t))
                                    throw new Error(
                                      "Can not send " +
                                        e +
                                        ". Target window is closed"
                                    );
                                })(n, t, o),
                                (function (e, t) {
                                  var n = B(t);
                                  if (n) return n === e;
                                  if (t === e || D(t) === t) return !1;
                                  for (var r = 0, i = T(e); r < i.length; r++)
                                    if (i[r] === t) return !0;
                                  return !1;
                                })(window, t))
                              )
                                return wt(t, s);
                            })
                            .then(function (n) {
                              return (
                                (r = t),
                                (i = o),
                                (a = (void 0 === n ? {} : n).domain),
                                (s = e),
                                p.try(function () {
                                  return "string" == typeof i
                                    ? i
                                    : p
                                        .try(function () {
                                          return (
                                            a ||
                                            pt(r, { send: s }).then(
                                              function (e) {
                                                return e.domain;
                                              }
                                            )
                                          );
                                        })
                                        .then(function (e) {
                                          if (!L(i, i))
                                            throw new Error(
                                              "Domain " +
                                                we(i) +
                                                " does not match " +
                                                we(i)
                                            );
                                          return e;
                                        });
                                })
                              );
                              var r, i, a, s;
                            })
                            .then(function (i) {
                              var o,
                                s,
                                c = i,
                                d =
                                  "postrobot_method" === n &&
                                  r &&
                                  "string" == typeof r.name
                                    ? r.name + "()"
                                    : n,
                                l = new p(),
                                f = n + "_" + ae();
                              if (!u) {
                                var h = {
                                  name: n,
                                  win: t,
                                  domain: c,
                                  promise: l
                                };
                                (o = f),
                                  (s = h),
                                  ut("responseListeners").set(o, s);
                                var y = lt("requestPromises").getOrSet(
                                  t,
                                  function () {
                                    return [];
                                  }
                                );
                                y.push(l),
                                  l.catch(function () {
                                    (function (e) {
                                      ut("erroredResponseListeners").set(e, !0);
                                    })(f),
                                      Yt(f);
                                  });
                                var w = (function (e) {
                                    return lt("knownWindows").get(e, !1);
                                  })(t)
                                    ? 1e4
                                    : 2e3,
                                  v = a,
                                  g = w,
                                  m = v,
                                  b = me(function () {
                                    return j(t)
                                      ? l.reject(
                                          new Error(
                                            "Window closed for " +
                                              n +
                                              " before " +
                                              (h.ack ? "response" : "ack")
                                          )
                                        )
                                      : h.cancelled
                                      ? l.reject(
                                          new Error(
                                            "Response listener was cancelled for " +
                                              n
                                          )
                                        )
                                      : ((g = Math.max(g - 500, 0)),
                                        -1 !== m && (m = Math.max(m - 500, 0)),
                                        h.ack || 0 !== g
                                          ? 0 === m
                                            ? l.reject(
                                                new Error(
                                                  "No response for postMessage " +
                                                    d +
                                                    " in " +
                                                    O() +
                                                    " in " +
                                                    v +
                                                    "ms"
                                                )
                                              )
                                            : void 0
                                          : l.reject(
                                              new Error(
                                                "No ack for postMessage " +
                                                  d +
                                                  " in " +
                                                  O() +
                                                  " in " +
                                                  w +
                                                  "ms"
                                              )
                                            ));
                                  }, 500);
                                l.finally(function () {
                                  b.cancel(), y.splice(y.indexOf(l, 1));
                                }).catch(he);
                              }
                              return Gt(
                                t,
                                c,
                                {
                                  id: ae(),
                                  origin: O(window),
                                  type: "postrobot_message_request",
                                  hash: f,
                                  name: n,
                                  data: r,
                                  fireAndForget: u
                                },
                                { on: tn, send: e }
                              ).then(
                                function () {
                                  return u ? l.resolve() : l;
                                },
                                function (e) {
                                  throw new Error(
                                    "Send request message failed for " +
                                      d +
                                      " in " +
                                      O() +
                                      "\n\n" +
                                      ye(e)
                                  );
                                }
                              );
                            });
                        });
                    };
                  function on(e) {
                    return zt.toProxyWindow(e, { send: rn });
                  }
                  function an(e) {
                    for (
                      var t = 0, n = lt("requestPromises").get(e, []);
                      t < n.length;
                      t++
                    )
                      n[t]
                        .reject(
                          new Error(
                            "Window " +
                              (j(e) ? "closed" : "cleaned up") +
                              " before response"
                          )
                        )
                        .catch(he);
                  }
                  function sn(e) {
                    if (!P(e))
                      throw new Error(
                        "Can not get global for window on different domain"
                      );
                    return (
                      e.__zoid_10_3_1__ || (e.__zoid_10_3_1__ = {}),
                      e.__zoid_10_3_1__
                    );
                  }
                  function un(e, t) {
                    try {
                      return t(sn(e));
                    } catch {}
                  }
                  function cn(e) {
                    return {
                      get: function () {
                        var t = this;
                        return p.try(function () {
                          if (t.source && t.source !== window)
                            throw new Error(
                              "Can not call get on proxy object from a remote window"
                            );
                          return e;
                        });
                      }
                    };
                  }
                  function dn(e) {
                    return oe(JSON.stringify(e));
                  }
                  function ln(e) {
                    var t = sn(e);
                    return (t.references = t.references || {}), t.references;
                  }
                  function fn(e) {
                    var t,
                      n,
                      r = e.data,
                      i = e.metaData,
                      o = e.sender,
                      a = e.receiver,
                      s = e.passByReference,
                      u = void 0 !== s && s,
                      c = e.basic,
                      d = void 0 !== c && c,
                      l = on(a.win),
                      f = d
                        ? JSON.stringify(r)
                        : Kt(l, a.domain, r, { on: tn, send: rn }),
                      h = u
                        ? ((t = f),
                          (n = ae()),
                          (ln(window)[n] = t),
                          { type: "uid", uid: n })
                        : { type: "raw", val: f };
                    return {
                      serializedData: dn({
                        sender: { domain: o.domain },
                        metaData: i,
                        reference: h
                      }),
                      cleanReference: function () {
                        var e, t;
                        (e = window),
                          "uid" === (t = h).type && delete ln(e)[t.uid];
                      }
                    };
                  }
                  function hn(e) {
                    var t,
                      n,
                      r,
                      i = e.sender,
                      o = e.basic,
                      a = void 0 !== o && o,
                      s =
                        ((n = e.data),
                        JSON.parse(
                          (function (e) {
                            if ("function" == typeof atob)
                              return decodeURIComponent(
                                [].map
                                  .call(atob(e), function (e) {
                                    return (
                                      "%" +
                                      (
                                        "00" + e.charCodeAt(0).toString(16)
                                      ).slice(-2)
                                    );
                                  })
                                  .join("")
                              );
                            if (typeof Buffer < "u")
                              return Buffer.from(e, "base64").toString("utf8");
                            throw new Error(
                              "Can not find window.atob or Buffer"
                            );
                          })(n)
                        )),
                      u = s.reference,
                      c = s.metaData;
                    (t =
                      "function" == typeof i.win
                        ? i.win({ metaData: c })
                        : i.win),
                      (r =
                        "function" == typeof i.domain
                          ? i.domain({ metaData: c })
                          : "string" == typeof i.domain
                          ? i.domain
                          : s.sender.domain);
                    var d = (function (e, t) {
                      if ("raw" === t.type) return t.val;
                      if ("uid" === t.type) return ln(e)[t.uid];
                      throw new Error("Unsupported ref type: " + t.type);
                    })(t, u);
                    return {
                      data: a
                        ? JSON.parse(d)
                        : (function (e, t, n) {
                            return Jt(e, t, n, { on: tn, send: rn });
                          })(t, r, d),
                      metaData: c,
                      sender: { win: t, domain: r },
                      reference: u
                    };
                  }
                  nn = {
                    setupBridge: Bt,
                    openBridge: function (e, t) {
                      var n = ut("bridges"),
                        r = ut("bridgeFrames");
                      return (
                        (t = t || q(e)),
                        n.getOrSet(t, function () {
                          return p.try(function () {
                            if (O() === t)
                              throw new Error(
                                "Can not open bridge on the same domain as current domain: " +
                                  t
                              );
                            var n = Dt(t);
                            if (M(window, n))
                              throw new Error(
                                "Frame with name " +
                                  n +
                                  " already exists on page"
                              );
                            var i,
                              o,
                              a,
                              s =
                                ((i = n),
                                (o = e),
                                (a =
                                  document.createElement(
                                    "iframe"
                                  )).setAttribute("name", i),
                                a.setAttribute("id", i),
                                a.setAttribute(
                                  "style",
                                  "display: none; margin: 0; padding: 0; border: 0px none; overflow: hidden;"
                                ),
                                a.setAttribute("frameborder", "0"),
                                a.setAttribute("border", "0"),
                                a.setAttribute("scrolling", "no"),
                                a.setAttribute("allowTransparency", "true"),
                                a.setAttribute("tabindex", "-1"),
                                a.setAttribute("hidden", "true"),
                                a.setAttribute("title", ""),
                                a.setAttribute("role", "presentation"),
                                (a.src = o),
                                a);
                            return (
                              r.set(t, s),
                              It.then(function (t) {
                                t.appendChild(s);
                                var n = s.contentWindow;
                                return new p(function (e, t) {
                                  s.addEventListener("load", e),
                                    s.addEventListener("error", t);
                                })
                                  .then(function () {
                                    return wt(n, 5e3, "Bridge " + e);
                                  })
                                  .then(function () {
                                    return n;
                                  });
                              })
                            );
                          });
                        })
                      );
                    },
                    linkWindow: Wt,
                    linkUrl: function (e, t) {
                      Wt({ win: e, domain: q(t) });
                    },
                    isBridge: kt,
                    needsBridge: Rt,
                    needsBridgeForBrowser: At,
                    hasBridge: function (e, t) {
                      return ut("bridges").has(t || q(e));
                    },
                    needsBridgeForWin: Ct,
                    needsBridgeForDomain: Tt,
                    destroyBridges: function () {
                      for (
                        var e = ut("bridges"),
                          t = ut("bridgeFrames"),
                          n = 0,
                          r = t.keys();
                        n < r.length;
                        n++
                      ) {
                        var i = t.get(r[n]);
                        i && i.parentNode && i.parentNode.removeChild(i);
                      }
                      t.reset(), e.reset();
                    }
                  };
                  var pn = {
                      STRING: "string",
                      OBJECT: "object",
                      FUNCTION: "function",
                      BOOLEAN: "boolean",
                      NUMBER: "number",
                      ARRAY: "array"
                    },
                    yn = { JSON: "json", DOTIFY: "dotify", BASE64: "base64" },
                    wn = w,
                    vn = {
                      RENDER: "zoid-render",
                      RENDERED: "zoid-rendered",
                      PRERENDER: "zoid-prerender",
                      PRERENDERED: "zoid-prerendered",
                      DISPLAY: "zoid-display",
                      ERROR: "zoid-error",
                      CLOSE: "zoid-close",
                      DESTROY: "zoid-destroy",
                      PROPS: "zoid-props",
                      RESIZE: "zoid-resize",
                      FOCUS: "zoid-focus"
                    };
                  function gn(e) {
                    return (
                      "__zoid__" + e.name + "__" + e.serializedPayload + "__"
                    );
                  }
                  function mn(e) {
                    if (!e) throw new Error("No window name");
                    var t = e.split("__"),
                      n = t[1],
                      r = t[2],
                      i = t[3];
                    if ("zoid" !== n)
                      throw new Error("Window not rendered by zoid - got " + n);
                    if (!r) throw new Error("Expected component name");
                    if (!i) throw new Error("Expected serialized payload ref");
                    return { name: r, serializedInitialPayload: i };
                  }
                  var bn = le(function (e) {
                    var t = hn({
                      data: mn(e).serializedInitialPayload,
                      sender: {
                        win: function (e) {
                          return (function (e) {
                            if ("opener" === e.type)
                              return Re("opener", _(window));
                            if (
                              "parent" === e.type &&
                              "number" == typeof e.distance
                            )
                              return Re(
                                "parent",
                                ((t = window),
                                void 0 === (n = e.distance) && (n = 1),
                                (function (e, t) {
                                  void 0 === t && (t = 1);
                                  for (var n = e, r = 0; r < t; r++) {
                                    if (!n) return;
                                    n = E(n);
                                  }
                                  return n;
                                })(t, U(t) - n))
                              );
                            var t, n;
                            if (
                              "global" === e.type &&
                              e.uid &&
                              "string" == typeof e.uid
                            ) {
                              var r = e.uid,
                                i = B(window);
                              if (!i)
                                throw new Error("Can not find ancestor window");
                              for (var o = 0, a = k(i); o < a.length; o++) {
                                var s = a[o];
                                if (P(s)) {
                                  var u = un(s, function (e) {
                                    return e.windows && e.windows[r];
                                  });
                                  if (u) return u;
                                }
                              }
                            } else if ("name" === e.type) {
                              var c = e.name;
                              return Re(
                                "namedWindow",
                                (function (e, t) {
                                  return (
                                    M(e, t) ||
                                    (function e(t, n) {
                                      var r = M(t, n);
                                      if (r) return r;
                                      for (
                                        var i = 0, o = T(t);
                                        i < o.length;
                                        i++
                                      ) {
                                        var a = e(o[i], n);
                                        if (a) return a;
                                      }
                                    })(D(e) || e, t)
                                  );
                                })(Re("ancestor", B(window)), c)
                              );
                            }
                            throw new Error(
                              "Unable to find " +
                                e.type +
                                " parent component window"
                            );
                          })(e.metaData.windowRef);
                        }
                      }
                    });
                    return {
                      parent: t.sender,
                      payload: t.data,
                      reference: t.reference
                    };
                  });
                  function En() {
                    return bn(window.name);
                  }
                  function _n(e, t) {
                    if ((void 0 === t && (t = window), e === E(t)))
                      return { type: "parent", distance: U(e) };
                    if (e === _(t)) return { type: "opener" };
                    if (P(e) && (r = e) !== D(r)) {
                      var n = A(e).name;
                      if (n) return { type: "name", name: n };
                    }
                    var r;
                  }
                  function Sn(e, t, n, r, i) {
                    if (!e.hasOwnProperty(n)) return r;
                    var o = e[n];
                    return "function" == typeof o.childDecorate
                      ? o.childDecorate({
                          value: r,
                          uid: i.uid,
                          tag: i.tag,
                          close: i.close,
                          focus: i.focus,
                          onError: i.onError,
                          onProps: i.onProps,
                          resize: i.resize,
                          getParent: i.getParent,
                          getParentDomain: i.getParentDomain,
                          show: i.show,
                          hide: i.hide,
                          export: i.export,
                          getSiblings: i.getSiblings
                        })
                      : r;
                  }
                  function xn() {
                    return p.try(function () {
                      window.focus();
                    });
                  }
                  function On() {
                    return p.try(function () {
                      window.close();
                    });
                  }
                  var Pn = function () {
                      return he;
                    },
                    An = function (e) {
                      return pe(e.value);
                    };
                  function Cn(e, t, n) {
                    for (
                      var r = 0, i = Object.keys(o({}, e, t));
                      r < i.length;
                      r++
                    ) {
                      var a = i[r];
                      n(a, t[a], e[a]);
                    }
                  }
                  function Tn(e, t, n) {
                    var r,
                      i,
                      o,
                      a = {};
                    return p
                      .all(
                        ((r = t),
                        (i = e),
                        (o = []),
                        Cn(r, i, function (e, t, r) {
                          var i,
                            s,
                            u,
                            c =
                              ((i = e),
                              (s = t),
                              (u = r),
                              p.resolve().then(function () {
                                var e, t;
                                if (null != u && s) {
                                  var r = ((e = {}),
                                    (e.get = s.queryParam),
                                    (e.post = s.bodyParam),
                                    e)[n],
                                    o = ((t = {}),
                                    (t.get = s.queryValue),
                                    (t.post = s.bodyValue),
                                    t)[n];
                                  if (r)
                                    return p
                                      .hash({
                                        finalParam: p.try(function () {
                                          return "function" == typeof r
                                            ? r({ value: u })
                                            : "string" == typeof r
                                            ? r
                                            : i;
                                        }),
                                        finalValue: p.try(function () {
                                          return "function" == typeof o && Pe(u)
                                            ? o({ value: u })
                                            : u;
                                        })
                                      })
                                      .then(function (e) {
                                        var t,
                                          n = e.finalParam,
                                          r = e.finalValue;
                                        if ("boolean" == typeof r)
                                          t = r.toString();
                                        else if ("string" == typeof r)
                                          t = r.toString();
                                        else if (
                                          "object" == typeof r &&
                                          null !== r
                                        ) {
                                          if (s.serialization === yn.JSON)
                                            t = JSON.stringify(r);
                                          else if (
                                            s.serialization === yn.BASE64
                                          )
                                            t = oe(JSON.stringify(r));
                                          else if (
                                            s.serialization === yn.DOTIFY ||
                                            !s.serialization
                                          ) {
                                            t = (function e(t, n, r) {
                                              for (var i in (void 0 === n &&
                                                (n = ""),
                                              void 0 === r && (r = {}),
                                              (n = n && n + "."),
                                              t))
                                                t.hasOwnProperty(i) &&
                                                  null != t[i] &&
                                                  "function" != typeof t[i] &&
                                                  (t[i] &&
                                                  Array.isArray(t[i]) &&
                                                  t[i].length &&
                                                  t[i].every(function (e) {
                                                    return "object" != typeof e;
                                                  })
                                                    ? (r["" + n + i + "[]"] =
                                                        t[i].join(","))
                                                    : t[i] &&
                                                      "object" == typeof t[i]
                                                    ? (r = e(
                                                        t[i],
                                                        "" + n + i,
                                                        r
                                                      ))
                                                    : (r["" + n + i] =
                                                        t[i].toString()));
                                              return r;
                                            })(r, i);
                                            for (
                                              var o = 0, u = Object.keys(t);
                                              o < u.length;
                                              o++
                                            ) {
                                              var c = u[o];
                                              a[c] = t[c];
                                            }
                                            return;
                                          }
                                        } else
                                          "number" == typeof r &&
                                            (t = r.toString());
                                        a[n] = t;
                                      });
                                }
                              }));
                          o.push(c);
                        }),
                        o)
                      )
                      .then(function () {
                        return a;
                      });
                  }
                  function Rn(e) {
                    var t,
                      n,
                      r,
                      i,
                      a,
                      s,
                      u,
                      c,
                      d = e.uid,
                      l = e.options,
                      f = e.overrides,
                      h = void 0 === f ? {} : f,
                      y = e.parentWin,
                      w = void 0 === y ? window : y,
                      v = l.propsDef,
                      g = l.containerTemplate,
                      m = l.prerenderTemplate,
                      b = l.tag,
                      E = l.name,
                      _ = l.attributes,
                      S = l.dimensions,
                      x = l.autoResize,
                      C = l.url,
                      T = l.domain,
                      R = l.exports,
                      D = new p(),
                      k = [],
                      I = Te(),
                      N = {},
                      F = {},
                      M = { visible: !0 },
                      W = h.event
                        ? h.event
                        : ((t = {}),
                          (n = {}),
                          (r = {
                            on: function (e, t) {
                              var r = (n[e] = n[e] || []);
                              r.push(t);
                              var i = !1;
                              return {
                                cancel: function () {
                                  i || ((i = !0), r.splice(r.indexOf(t), 1));
                                }
                              };
                            },
                            once: function (e, t) {
                              var n = r.on(e, function () {
                                n.cancel(), t();
                              });
                              return n;
                            },
                            trigger: function (e) {
                              for (
                                var t = arguments.length,
                                  r = new Array(t > 1 ? t - 1 : 0),
                                  i = 1;
                                i < t;
                                i++
                              )
                                r[i - 1] = arguments[i];
                              var o = n[e],
                                a = [];
                              if (o)
                                for (
                                  var s = function () {
                                      var e = o[u];
                                      a.push(
                                        p.try(function () {
                                          return e.apply(void 0, r);
                                        })
                                      );
                                    },
                                    u = 0;
                                  u < o.length;
                                  u++
                                )
                                  s();
                              return p.all(a).then(he);
                            },
                            triggerOnce: function (e) {
                              if (t[e]) return p.resolve();
                              t[e] = !0;
                              for (
                                var n = arguments.length,
                                  i = new Array(n > 1 ? n - 1 : 0),
                                  o = 1;
                                o < n;
                                o++
                              )
                                i[o - 1] = arguments[o];
                              return r.trigger.apply(r, [e].concat(i));
                            },
                            reset: function () {
                              n = {};
                            }
                          })),
                      V = h.props ? h.props : {},
                      K = h.onError,
                      $ = h.getProxyContainer,
                      Q = h.show,
                      Y = h.hide,
                      X = h.close,
                      Z = h.renderContainer,
                      ee = h.getProxyWindow,
                      te = h.setProxyWin,
                      ne = h.openFrame,
                      re = h.openPrerenderFrame,
                      ie = h.prerender,
                      oe = h.open,
                      se = h.openPrerender,
                      ue = h.watchForUnload,
                      ce = h.getInternalState,
                      de = h.setInternalState,
                      fe = function () {
                        return "function" == typeof S ? S({ props: V }) : S;
                      },
                      ge = function () {
                        return p.try(function () {
                          return h.resolveInitPromise
                            ? h.resolveInitPromise()
                            : D.resolve();
                        });
                      },
                      be = function (e) {
                        return p.try(function () {
                          return h.rejectInitPromise
                            ? h.rejectInitPromise(e)
                            : D.reject(e);
                        });
                      },
                      Ee = function (e) {
                        for (
                          var t = {}, n = 0, r = Object.keys(V);
                          n < r.length;
                          n++
                        ) {
                          var i = r[n],
                            o = v[i];
                          if (!o || !1 !== o.sendToChild) {
                            var a =
                              o &&
                              o.trustedDomains &&
                              o.trustedDomains.length > 0
                                ? o.trustedDomains.reduce(function (t, n) {
                                    return t || L(n, e);
                                  }, !1)
                                : L(e, O(window));
                            (o && o.sameDomain && !a) ||
                              (o && o.trustedDomains && !a) ||
                              (t[i] = V[i]);
                          }
                        }
                        return p.hash(t);
                      },
                      Se = function () {
                        return p.try(function () {
                          return ce ? ce() : M;
                        });
                      },
                      xe = function (e) {
                        return p.try(function () {
                          return de ? de(e) : (M = o({}, M, e));
                        });
                      },
                      Oe = function () {
                        return ee
                          ? ee()
                          : p.try(function () {
                              var e = V.window;
                              if (e) {
                                var t = on(e);
                                return (
                                  I.register(function () {
                                    return e.close();
                                  }),
                                  t
                                );
                              }
                              return new zt({ send: rn });
                            });
                      },
                      Ae = function (e) {
                        return te
                          ? te(e)
                          : p.try(function () {
                              i = e;
                            });
                      },
                      Ce = function () {
                        return Q
                          ? Q()
                          : p
                              .hash({
                                setState: xe({ visible: !0 }),
                                showElement: a ? a.get().then(Ke) : null
                              })
                              .then(he);
                      },
                      Re = function () {
                        return Y
                          ? Y()
                          : p
                              .hash({
                                setState: xe({ visible: !1 }),
                                showElement: a ? a.get().then(Je) : null
                              })
                              .then(he);
                      },
                      De = function () {
                        return "function" == typeof C ? C({ props: V }) : C;
                      },
                      ke = function () {
                        return "function" == typeof _ ? _({ props: V }) : _;
                      },
                      Ie = function () {
                        return q(De());
                      },
                      Ne = function (e, t) {
                        var n = t.windowName;
                        return ne
                          ? ne(e, { windowName: n })
                          : p.try(function () {
                              if (e === wn.IFRAME)
                                return cn(
                                  qe({
                                    attributes: o(
                                      { name: n, title: E },
                                      ke().iframe
                                    )
                                  })
                                );
                            });
                      },
                      je = function (e) {
                        return re
                          ? re(e)
                          : p.try(function () {
                              if (e === wn.IFRAME)
                                return cn(
                                  qe({
                                    attributes: o(
                                      {
                                        name:
                                          "__zoid_prerender_frame__" +
                                          E +
                                          "_" +
                                          ae() +
                                          "__",
                                        title: "prerender__" + E
                                      },
                                      ke().iframe
                                    )
                                  })
                                );
                            });
                      },
                      Fe = function (e, t, n) {
                        return se
                          ? se(e, t, n)
                          : p.try(function () {
                              if (e === wn.IFRAME) {
                                if (!n)
                                  throw new Error(
                                    "Expected proxy frame to be passed"
                                  );
                                return n.get().then(function (e) {
                                  return (
                                    I.register(function () {
                                      return $e(e);
                                    }),
                                    Le(e)
                                      .then(function (e) {
                                        return A(e);
                                      })
                                      .then(function (e) {
                                        return on(e);
                                      })
                                  );
                                });
                              }
                              if (e === wn.POPUP) return t;
                              throw new Error(
                                "No render context available for " + e
                              );
                            });
                      },
                      Ve = function () {
                        return p.try(function () {
                          if (i)
                            return p
                              .all([W.trigger(vn.FOCUS), i.focus()])
                              .then(he);
                        });
                      },
                      ze = function () {
                        var e = sn(window);
                        return (
                          (e.windows = e.windows || {}),
                          (e.windows[d] = window),
                          I.register(function () {
                            delete e.windows[d];
                          }),
                          d
                        );
                      },
                      Xe = function (e, t, n, r) {
                        if (t === O(window))
                          return { type: "global", uid: ze() };
                        if (e !== window)
                          throw new Error(
                            "Can not construct cross-domain window reference for different target window"
                          );
                        if (V.window) {
                          var i = r.getWindow();
                          if (!i)
                            throw new Error(
                              "Can not construct cross-domain window reference for lazy window prop"
                            );
                          if (B(i) !== window)
                            throw new Error(
                              "Can not construct cross-domain window reference for window prop with different ancestor"
                            );
                        }
                        if (n === wn.POPUP) return { type: "opener" };
                        if (n === wn.IFRAME)
                          return { type: "parent", distance: U(window) };
                        throw new Error(
                          "Can not construct window reference for child"
                        );
                      },
                      Ze = function (e, t) {
                        return p.try(function () {
                          (u = e),
                            (s = t),
                            ge(),
                            I.register(function () {
                              return t.close.fireAndForget().catch(he);
                            });
                        });
                      },
                      et = function (e) {
                        var t = e.width,
                          n = e.height;
                        return p.try(function () {
                          W.trigger(vn.RESIZE, { width: t, height: n });
                        });
                      },
                      tt = function (e) {
                        return p
                          .try(function () {
                            return W.trigger(vn.DESTROY);
                          })
                          .catch(he)
                          .then(function () {
                            return I.all(e);
                          })
                          .then(function () {
                            var t = e || new Error("Component destroyed");
                            (c && Ge(c)) ||
                            "Window navigated away" === t.message
                              ? D.resolve()
                              : D.asyncReject(t);
                          });
                      },
                      nt = le(function (e) {
                        return p.try(function () {
                          return X
                            ? j(X.__source__)
                              ? void 0
                              : X()
                            : p
                                .try(function () {
                                  return W.trigger(vn.CLOSE);
                                })
                                .then(function () {
                                  return tt(e || new Error("Component closed"));
                                });
                        });
                      }),
                      rt = function (e, t) {
                        var n = t.proxyWin,
                          r = t.proxyFrame,
                          i = t.windowName;
                        return oe
                          ? oe(e, { proxyWin: n, proxyFrame: r, windowName: i })
                          : p
                              .try(function () {
                                if (e === wn.IFRAME) {
                                  if (!r)
                                    throw new Error(
                                      "Expected proxy frame to be passed"
                                    );
                                  return r.get().then(function (e) {
                                    return Le(e).then(function (t) {
                                      return (
                                        I.register(function () {
                                          return $e(e);
                                        }),
                                        I.register(function () {
                                          return an(t);
                                        }),
                                        t
                                      );
                                    });
                                  });
                                }
                                if (e === wn.POPUP) {
                                  var t = fe(),
                                    n = t.width,
                                    a = void 0 === n ? "300px" : n,
                                    s = t.height,
                                    u = void 0 === s ? "150px" : s;
                                  (a = ot(a, window.outerWidth)),
                                    (u = ot(u, window.outerWidth));
                                  var c = (function (e, t) {
                                    var n = (t = t || {}).closeOnUnload,
                                      r = void 0 === n ? 1 : n,
                                      i = t.name,
                                      a = void 0 === i ? "" : i,
                                      s = t.width,
                                      u = t.height,
                                      c = 0,
                                      d = 0;
                                    s &&
                                      (window.outerWidth
                                        ? (d =
                                            Math.round(
                                              (window.outerWidth - s) / 2
                                            ) + window.screenX)
                                        : window.screen.width &&
                                          (d = Math.round(
                                            (window.screen.width - s) / 2
                                          ))),
                                      u &&
                                        (window.outerHeight
                                          ? (c =
                                              Math.round(
                                                (window.outerHeight - u) / 2
                                              ) + window.screenY)
                                          : window.screen.height &&
                                            (c = Math.round(
                                              (window.screen.height - u) / 2
                                            ))),
                                      delete t.closeOnUnload,
                                      delete t.name,
                                      s &&
                                        u &&
                                        (t = o(
                                          {
                                            top: c,
                                            left: d,
                                            width: s,
                                            height: u,
                                            status: 1,
                                            toolbar: 0,
                                            menubar: 0,
                                            resizable: 1,
                                            scrollbars: 1
                                          },
                                          t
                                        ));
                                    var l,
                                      f = Object.keys(t)
                                        .map(function (e) {
                                          if (null != t[e])
                                            return e + "=" + we(t[e]);
                                        })
                                        .filter(Boolean)
                                        .join(",");
                                    try {
                                      l = window.open("", a, f);
                                    } catch (e) {
                                      throw new Ue(
                                        "Can not open popup window - " +
                                          (e.stack || e.message)
                                      );
                                    }
                                    if (j(l))
                                      throw new Ue(
                                        "Can not open popup window - blocked"
                                      );
                                    return (
                                      r &&
                                        window.addEventListener(
                                          "unload",
                                          function () {
                                            return l.close();
                                          }
                                        ),
                                      l
                                    );
                                  })(
                                    0,
                                    o(
                                      { name: i, width: a, height: u },
                                      ke().popup
                                    )
                                  );
                                  return (
                                    I.register(function () {
                                      return G(c);
                                    }),
                                    I.register(function () {
                                      return an(c);
                                    }),
                                    c
                                  );
                                }
                                throw new Error(
                                  "No render context available for " + e
                                );
                              })
                              .then(function (e) {
                                return (
                                  n.setWindow(e, { send: rn }),
                                  n.setName(i).then(function () {
                                    return n;
                                  })
                                );
                              });
                      },
                      it = function () {
                        return p.try(function () {
                          var e = He(
                              window,
                              "unload",
                              pe(function () {
                                tt(new Error("Window navigated away"));
                              })
                            ),
                            t = H(w, tt, 3e3);
                          if ((I.register(t.cancel), I.register(e.cancel), ue))
                            return ue();
                        });
                      },
                      at = function (e) {
                        var t = !1;
                        return e
                          .isClosed()
                          .then(function (n) {
                            return n
                              ? ((t = !0),
                                nt(
                                  new Error("Detected component window close")
                                ))
                              : p
                                  .delay(200)
                                  .then(function () {
                                    return e.isClosed();
                                  })
                                  .then(function (e) {
                                    if (e)
                                      return (
                                        (t = !0),
                                        nt(
                                          new Error(
                                            "Detected component window close"
                                          )
                                        )
                                      );
                                  });
                          })
                          .then(function () {
                            return t;
                          });
                      },
                      st = function (e) {
                        return K
                          ? K(e)
                          : p.try(function () {
                              if (-1 === k.indexOf(e))
                                return (
                                  k.push(e),
                                  D.asyncReject(e),
                                  W.trigger(vn.ERROR, e)
                                );
                            });
                      },
                      ut = new p(),
                      ct = function (e) {
                        return p.try(function () {
                          ut.resolve(e);
                        });
                      };
                    Ze.onError = st;
                    var dt = function (e, t) {
                        return e({
                          uid: d,
                          container: t.container,
                          context: t.context,
                          doc: t.doc,
                          frame: t.frame,
                          prerenderFrame: t.prerenderFrame,
                          focus: Ve,
                          close: nt,
                          state: N,
                          props: V,
                          tag: b,
                          dimensions: fe(),
                          event: W
                        });
                      },
                      lt = function (e, t) {
                        var n = t.context;
                        return ie
                          ? ie(e, { context: n })
                          : p.try(function () {
                              if (m) {
                                W.trigger(vn.PRERENDER);
                                var t = e.getWindow();
                                if (
                                  t &&
                                  P(t) &&
                                  (function (e) {
                                    try {
                                      if (
                                        !e.location.href ||
                                        "about:blank" === e.location.href
                                      )
                                        return !0;
                                    } catch {}
                                    return !1;
                                  })(t)
                                ) {
                                  var r = (t = A(t)).document,
                                    i = dt(m, { context: n, doc: r });
                                  if (i) {
                                    if (i.ownerDocument !== r)
                                      throw new Error(
                                        "Expected prerender template to have been created with document from child window"
                                      );
                                    !(function (e, t) {
                                      var n = t.tagName.toLowerCase();
                                      if ("html" !== n)
                                        throw new Error(
                                          "Expected element to be html, got " +
                                            n
                                        );
                                      for (
                                        var r = e.document.documentElement,
                                          i = 0,
                                          o = _e(r.children);
                                        i < o.length;
                                        i++
                                      )
                                        r.removeChild(o[i]);
                                      for (
                                        var a = 0, s = _e(t.children);
                                        a < s.length;
                                        a++
                                      )
                                        r.appendChild(s[a]);
                                    })(t, i);
                                    var o = x.width,
                                      a = void 0 !== o && o,
                                      s = x.height,
                                      u = void 0 !== s && s,
                                      c = x.element,
                                      d = void 0 === c ? "body" : c;
                                    if ((d = We(d, r)) && (a || u)) {
                                      var l = Qe(
                                        d,
                                        function (e) {
                                          et({
                                            width: a ? e.width : void 0,
                                            height: u ? e.height : void 0
                                          });
                                        },
                                        { width: a, height: u, win: t }
                                      );
                                      W.on(vn.RENDERED, l.cancel);
                                    }
                                    W.trigger(vn.PRERENDERED);
                                  }
                                }
                              }
                            });
                      },
                      ft = function (e, t) {
                        var n = t.proxyFrame,
                          r = t.proxyPrerenderFrame,
                          i = t.context,
                          o = t.rerender;
                        return Z
                          ? Z(e, {
                              proxyFrame: n,
                              proxyPrerenderFrame: r,
                              context: i,
                              rerender: o
                            })
                          : p
                              .hash({
                                container: e.get(),
                                frame: n ? n.get() : null,
                                prerenderFrame: r ? r.get() : null,
                                internalState: Se()
                              })
                              .then(function (e) {
                                var t = e.container,
                                  n = e.internalState.visible,
                                  r = dt(g, {
                                    context: i,
                                    container: t,
                                    frame: e.frame,
                                    prerenderFrame: e.prerenderFrame,
                                    doc: document
                                  });
                                if (r) {
                                  n || Je(r),
                                    (function (e, t) {
                                      e.appendChild(t);
                                    })(t, r);
                                  var s = (function (e, t) {
                                    t = pe(t);
                                    var n,
                                      r,
                                      i,
                                      o = !1,
                                      a = [],
                                      s = function () {
                                        o = !0;
                                        for (var e = 0; e < a.length; e++)
                                          a[e].disconnect();
                                        n && n.cancel(),
                                          i &&
                                            i.removeEventListener("unload", u),
                                          r && $e(r);
                                      },
                                      u = function () {
                                        o || (t(), s());
                                      };
                                    if (Ge(e)) return u(), { cancel: s };
                                    if (window.MutationObserver)
                                      for (var c = e.parentElement; c; ) {
                                        var d = new window.MutationObserver(
                                          function () {
                                            Ge(e) && u();
                                          }
                                        );
                                        d.observe(c, { childList: !0 }),
                                          a.push(d),
                                          (c = c.parentElement);
                                      }
                                    return (
                                      (r =
                                        document.createElement(
                                          "iframe"
                                        )).setAttribute(
                                        "name",
                                        "__detect_close_" + ae() + "__"
                                      ),
                                      (r.style.display = "none"),
                                      Le(r).then(function (e) {
                                        (i = A(e)).addEventListener(
                                          "unload",
                                          u
                                        );
                                      }),
                                      e.appendChild(r),
                                      (n = me(function () {
                                        Ge(e) && u();
                                      }, 1e3)),
                                      { cancel: s }
                                    );
                                  })(r, function () {
                                    var e = new Error(
                                      "Detected container element removed from DOM"
                                    );
                                    return p.delay(1).then(function () {
                                      if (!Ge(r))
                                        return I.all(e), o().then(ge, be);
                                      nt(e);
                                    });
                                  });
                                  return (
                                    I.register(function () {
                                      return s.cancel();
                                    }),
                                    I.register(function () {
                                      return $e(r);
                                    }),
                                    (a = cn(r))
                                  );
                                }
                              });
                      },
                      ht = function () {
                        return {
                          state: N,
                          event: W,
                          close: nt,
                          focus: Ve,
                          resize: et,
                          onError: st,
                          updateProps: yt,
                          show: Ce,
                          hide: Re
                        };
                      },
                      pt = function (e) {
                        void 0 === e && (e = {});
                        var t,
                          n,
                          r,
                          i,
                          o,
                          a,
                          s,
                          u,
                          d,
                          l,
                          f = c,
                          h = ht();
                        ve(F, e),
                          (t = v),
                          (n = V),
                          (r = F),
                          (o = f),
                          (a = (i = h).state),
                          (s = i.close),
                          (u = i.focus),
                          (d = i.event),
                          (l = i.onError),
                          Cn(r, t, function (e, t, i) {
                            var c = !1,
                              f = i;
                            Object.defineProperty(n, e, {
                              configurable: !0,
                              enumerable: !0,
                              get: function () {
                                return c
                                  ? f
                                  : ((c = !0),
                                    (function () {
                                      if (!t) return f;
                                      var c = t.alias;
                                      if (
                                        (c && !Pe(i) && Pe(r[c]) && (f = r[c]),
                                        t.value &&
                                          (f = t.value({
                                            props: n,
                                            state: a,
                                            close: s,
                                            focus: u,
                                            event: d,
                                            onError: l,
                                            container: o
                                          })),
                                        !t.default ||
                                          Pe(f) ||
                                          Pe(r[e]) ||
                                          (f = t.default({
                                            props: n,
                                            state: a,
                                            close: s,
                                            focus: u,
                                            event: d,
                                            onError: l,
                                            container: o
                                          })),
                                        Pe(f))
                                      ) {
                                        if (
                                          t.type === pn.ARRAY
                                            ? !Array.isArray(f)
                                            : typeof f !== t.type
                                        )
                                          throw new TypeError(
                                            "Prop is not of type " +
                                              t.type +
                                              ": " +
                                              e
                                          );
                                      } else if (!1 !== t.required && !Pe(r[e]))
                                        throw new Error(
                                          'Expected prop "' +
                                            e +
                                            '" to be defined'
                                        );
                                      return (
                                        Pe(f) &&
                                          t.decorate &&
                                          (f = t.decorate({
                                            value: f,
                                            props: n,
                                            state: a,
                                            close: s,
                                            focus: u,
                                            event: d,
                                            onError: l,
                                            container: o
                                          })),
                                        f
                                      );
                                    })());
                              }
                            });
                          }),
                          Cn(n, t, he);
                      },
                      yt = function (e) {
                        return (
                          pt(e),
                          D.then(function () {
                            var e = s,
                              t = i;
                            if (e && t && u)
                              return Ee(u).then(function (n) {
                                return e.updateProps(n).catch(function (e) {
                                  return at(t).then(function (t) {
                                    if (!t) throw e;
                                  });
                                });
                              });
                          })
                        );
                      },
                      wt = function (e) {
                        return $
                          ? $(e)
                          : p
                              .try(function () {
                                return Be(e);
                              })
                              .then(function (e) {
                                return (
                                  Ye(e) &&
                                    (e = (function e(t) {
                                      var n = (function (e) {
                                        var t = (function (e) {
                                          for (; e.parentNode; )
                                            e = e.parentNode;
                                          if (Ye(e)) return e;
                                        })(e);
                                        if (t && t.host) return t.host;
                                      })(t);
                                      if (!n)
                                        throw new Error(
                                          "Element is not in shadow dom"
                                        );
                                      var r = "shadow-slot-" + ae(),
                                        i = document.createElement("slot");
                                      i.setAttribute("name", r),
                                        t.appendChild(i);
                                      var o = document.createElement("div");
                                      return (
                                        o.setAttribute("slot", r),
                                        n.appendChild(o),
                                        Ye(n) ? e(o) : o
                                      );
                                    })(e)),
                                  (c = e),
                                  cn(e)
                                );
                              });
                      };
                    return {
                      init: function () {
                        W.on(vn.RENDER, function () {
                          return V.onRender();
                        }),
                          W.on(vn.PRERENDER, function () {
                            return V.onPrerender();
                          }),
                          W.on(vn.DISPLAY, function () {
                            return V.onDisplay();
                          }),
                          W.on(vn.RENDERED, function () {
                            return V.onRendered();
                          }),
                          W.on(vn.PRERENDERED, function () {
                            return V.onPrerendered();
                          }),
                          W.on(vn.CLOSE, function () {
                            return V.onClose();
                          }),
                          W.on(vn.DESTROY, function () {
                            return V.onDestroy();
                          }),
                          W.on(vn.RESIZE, function () {
                            return V.onResize();
                          }),
                          W.on(vn.FOCUS, function () {
                            return V.onFocus();
                          }),
                          W.on(vn.PROPS, function (e) {
                            return V.onProps(e);
                          }),
                          W.on(vn.ERROR, function (e) {
                            return V && V.onError
                              ? V.onError(e)
                              : be(e).then(function () {
                                  setTimeout(function () {
                                    throw e;
                                  }, 1);
                                });
                          }),
                          I.register(W.reset);
                      },
                      render: function (e) {
                        var t = e.target,
                          n = e.container,
                          r = e.context,
                          o = e.rerender;
                        return p
                          .try(function () {
                            var e = Ie(),
                              a = T || Ie();
                            !(function (e, t, n) {
                              if (e !== window) {
                                if (!z(window, e))
                                  throw new Error(
                                    "Can only renderTo an adjacent frame"
                                  );
                                var r = O();
                                if (!L(t, r) && !P(e))
                                  throw new Error(
                                    "Can not render remotely to " +
                                      t.toString() +
                                      " - can only render to " +
                                      r
                                  );
                                if (n && "string" != typeof n)
                                  throw new Error(
                                    "Container passed to renderTo must be a string selector, got " +
                                      typeof n +
                                      " }"
                                  );
                              }
                            })(t, a, n);
                            var s = p.try(function () {
                                if (t !== window)
                                  return (function (e, t) {
                                    for (
                                      var n = {}, r = 0, i = Object.keys(V);
                                      r < i.length;
                                      r++
                                    ) {
                                      var o = i[r],
                                        a = v[o];
                                      a && a.allowDelegate && (n[o] = V[o]);
                                    }
                                    var s = rn(t, "zoid_delegate_" + E, {
                                      uid: d,
                                      overrides: {
                                        props: n,
                                        event: W,
                                        close: nt,
                                        onError: st,
                                        getInternalState: Se,
                                        setInternalState: xe,
                                        resolveInitPromise: ge,
                                        rejectInitPromise: be
                                      }
                                    })
                                      .then(function (e) {
                                        var n = e.data.parent;
                                        return (
                                          I.register(function (e) {
                                            if (!j(t)) return n.destroy(e);
                                          }),
                                          n.getDelegateOverrides()
                                        );
                                      })
                                      .catch(function (e) {
                                        throw new Error(
                                          "Unable to delegate rendering. Possibly the component is not loaded in the target window.\n\n" +
                                            ye(e)
                                        );
                                      });
                                    return (
                                      ($ = function () {
                                        for (
                                          var e = arguments.length,
                                            t = new Array(e),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          t[n] = arguments[n];
                                        return s.then(function (e) {
                                          return e.getProxyContainer.apply(
                                            e,
                                            t
                                          );
                                        });
                                      }),
                                      (Z = function () {
                                        for (
                                          var e = arguments.length,
                                            t = new Array(e),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          t[n] = arguments[n];
                                        return s.then(function (e) {
                                          return e.renderContainer.apply(e, t);
                                        });
                                      }),
                                      (Q = function () {
                                        for (
                                          var e = arguments.length,
                                            t = new Array(e),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          t[n] = arguments[n];
                                        return s.then(function (e) {
                                          return e.show.apply(e, t);
                                        });
                                      }),
                                      (Y = function () {
                                        for (
                                          var e = arguments.length,
                                            t = new Array(e),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          t[n] = arguments[n];
                                        return s.then(function (e) {
                                          return e.hide.apply(e, t);
                                        });
                                      }),
                                      (ue = function () {
                                        for (
                                          var e = arguments.length,
                                            t = new Array(e),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          t[n] = arguments[n];
                                        return s.then(function (e) {
                                          return e.watchForUnload.apply(e, t);
                                        });
                                      }),
                                      e === wn.IFRAME
                                        ? ((ee = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.getProxyWindow.apply(
                                                e,
                                                t
                                              );
                                            });
                                          }),
                                          (ne = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.openFrame.apply(e, t);
                                            });
                                          }),
                                          (re = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.openPrerenderFrame.apply(
                                                e,
                                                t
                                              );
                                            });
                                          }),
                                          (ie = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.prerender.apply(e, t);
                                            });
                                          }),
                                          (oe = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.open.apply(e, t);
                                            });
                                          }),
                                          (se = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.openPrerender.apply(
                                                e,
                                                t
                                              );
                                            });
                                          }))
                                        : e === wn.POPUP &&
                                          (te = function () {
                                            for (
                                              var e = arguments.length,
                                                t = new Array(e),
                                                n = 0;
                                              n < e;
                                              n++
                                            )
                                              t[n] = arguments[n];
                                            return s.then(function (e) {
                                              return e.setProxyWin.apply(e, t);
                                            });
                                          }),
                                      s
                                    );
                                  })(r, t);
                              }),
                              u = V.window,
                              c = it(),
                              f = Tn(v, V, "post"),
                              h = W.trigger(vn.RENDER),
                              y = wt(n),
                              w = Oe(),
                              g = y.then(function () {
                                return pt();
                              }),
                              m = g.then(function () {
                                return Tn(v, V, "get").then(function (e) {
                                  return (function (e, t) {
                                    var n,
                                      r,
                                      i = t.query || {},
                                      o = t.hash || {},
                                      a = e.split("#");
                                    r = a[1];
                                    var s = (n = a[0]).split("?");
                                    n = s[0];
                                    var u = Me(s[1], i),
                                      c = Me(r, o);
                                    return (
                                      u && (n = n + "?" + u),
                                      c && (n = n + "#" + c),
                                      n
                                    );
                                  })(J(De()), { query: e });
                                });
                              }),
                              _ = w.then(function (n) {
                                return ((i = {
                                  proxyWin: (m = {
                                    proxyWin: n,
                                    initialChildDomain: e,
                                    childDomainMatch: a,
                                    target: t,
                                    context: r
                                  }).proxyWin,
                                  initialChildDomain: m.initialChildDomain,
                                  childDomainMatch: m.childDomainMatch,
                                  target: m.target,
                                  context: m.context
                                }),
                                (f = void 0 === i ? {} : i),
                                (h = f.proxyWin),
                                (p = f.initialChildDomain),
                                (y = f.childDomainMatch),
                                (w = f.target),
                                (v = void 0 === w ? window : w),
                                (g = f.context),
                                ((o = {
                                  proxyWin: h,
                                  initialChildDomain: p,
                                  childDomainMatch: y,
                                  context: g
                                }),
                                (s = void 0 === o ? {} : o),
                                (u = s.proxyWin),
                                (c = s.childDomainMatch),
                                (l = s.context),
                                Ee(s.initialChildDomain).then(function (e) {
                                  return {
                                    uid: d,
                                    context: l,
                                    tag: b,
                                    childDomainMatch: c,
                                    version: "10_3_1",
                                    props: e,
                                    exports:
                                      ((t = u),
                                      {
                                        init: function (e) {
                                          return Ze(this.origin, e);
                                        },
                                        close: nt,
                                        checkClose: function () {
                                          return at(t);
                                        },
                                        resize: et,
                                        onError: st,
                                        show: Ce,
                                        hide: Re,
                                        export: ct
                                      })
                                  };
                                  var t;
                                })).then(function (e) {
                                  var t = fn({
                                      data: e,
                                      metaData: { windowRef: Xe(v, p, g, h) },
                                      sender: { domain: O(window) },
                                      receiver: { win: h, domain: y },
                                      passByReference: p === O()
                                    }),
                                    n = t.serializedData;
                                  return I.register(t.cleanReference), n;
                                })).then(function (e) {
                                  return gn({ name: E, serializedPayload: e });
                                });
                                var i, o, s, u, c, l, f, h, p, y, w, v, g, m;
                              }),
                              S = _.then(function (e) {
                                return Ne(r, { windowName: e });
                              }),
                              x = je(r),
                              A = p
                                .hash({
                                  proxyContainer: y,
                                  proxyFrame: S,
                                  proxyPrerenderFrame: x
                                })
                                .then(function (e) {
                                  return ft(e.proxyContainer, {
                                    context: r,
                                    proxyFrame: e.proxyFrame,
                                    proxyPrerenderFrame: e.proxyPrerenderFrame,
                                    rerender: o
                                  });
                                })
                                .then(function (e) {
                                  return e;
                                }),
                              C = p
                                .hash({
                                  windowName: _,
                                  proxyFrame: S,
                                  proxyWin: w
                                })
                                .then(function (e) {
                                  var t = e.proxyWin;
                                  return u
                                    ? t
                                    : rt(r, {
                                        windowName: e.windowName,
                                        proxyWin: t,
                                        proxyFrame: e.proxyFrame
                                      });
                                }),
                              R = p
                                .hash({ proxyWin: C, proxyPrerenderFrame: x })
                                .then(function (e) {
                                  return Fe(
                                    r,
                                    e.proxyWin,
                                    e.proxyPrerenderFrame
                                  );
                                }),
                              k = C.then(function (e) {
                                return (i = e), Ae(e);
                              }),
                              N = p
                                .hash({ proxyPrerenderWin: R, state: k })
                                .then(function (e) {
                                  return lt(e.proxyPrerenderWin, {
                                    context: r
                                  });
                                }),
                              F = p
                                .hash({ proxyWin: C, windowName: _ })
                                .then(function (e) {
                                  if (u)
                                    return e.proxyWin.setName(e.windowName);
                                }),
                              M = p.hash({ body: f }).then(function (e) {
                                return l.method
                                  ? l.method
                                  : Object.keys(e.body).length
                                  ? "post"
                                  : "get";
                              }),
                              B = p
                                .hash({
                                  proxyWin: C,
                                  windowUrl: m,
                                  body: f,
                                  method: M,
                                  windowName: F,
                                  prerender: N
                                })
                                .then(function (e) {
                                  return e.proxyWin.setLocation(e.windowUrl, {
                                    method: e.method,
                                    body: e.body
                                  });
                                }),
                              U = C.then(function (e) {
                                !(function e(t, n) {
                                  var r = !1;
                                  return (
                                    I.register(function () {
                                      r = !0;
                                    }),
                                    p
                                      .delay(2e3)
                                      .then(function () {
                                        return t.isClosed();
                                      })
                                      .then(function (i) {
                                        if (!r)
                                          return i
                                            ? nt(
                                                new Error(
                                                  "Detected " + n + " close"
                                                )
                                              )
                                            : e(t, n);
                                      })
                                  );
                                })(e, r);
                              }),
                              H = p
                                .hash({ container: A, prerender: N })
                                .then(function () {
                                  return W.trigger(vn.DISPLAY);
                                }),
                              K = C.then(function (t) {
                                return (
                                  (n = t),
                                  (i = e),
                                  (o = r),
                                  p
                                    .try(function () {
                                      return n.awaitWindow();
                                    })
                                    .then(function (e) {
                                      if (
                                        nn &&
                                        nn.needsBridge({ win: e, domain: i }) &&
                                        !nn.hasBridge(i, i)
                                      ) {
                                        var t =
                                          "function" == typeof l.bridgeUrl
                                            ? l.bridgeUrl({ props: V })
                                            : l.bridgeUrl;
                                        if (!t)
                                          throw new Error(
                                            "Bridge needed to render " + o
                                          );
                                        var n = q(t);
                                        return (
                                          nn.linkUrl(e, i),
                                          nn.openBridge(J(t), n)
                                        );
                                      }
                                    })
                                );
                                var n, i, o;
                              }),
                              G = B.then(function () {
                                return p.try(function () {
                                  var e = V.timeout;
                                  if (e)
                                    return D.timeout(
                                      e,
                                      new Error(
                                        "Loading component timed out after " +
                                          e +
                                          " milliseconds"
                                      )
                                    );
                                });
                              }),
                              X = D.then(function () {
                                return W.trigger(vn.RENDERED);
                              });
                            return p.hash({
                              initPromise: D,
                              buildUrlPromise: m,
                              onRenderPromise: h,
                              getProxyContainerPromise: y,
                              openFramePromise: S,
                              openPrerenderFramePromise: x,
                              renderContainerPromise: A,
                              openPromise: C,
                              openPrerenderPromise: R,
                              setStatePromise: k,
                              prerenderPromise: N,
                              loadUrlPromise: B,
                              buildWindowNamePromise: _,
                              setWindowNamePromise: F,
                              watchForClosePromise: U,
                              onDisplayPromise: H,
                              openBridgePromise: K,
                              runTimeoutPromise: G,
                              onRenderedPromise: X,
                              delegatePromise: s,
                              watchForUnloadPromise: c,
                              finalSetPropsPromise: g
                            });
                          })
                          .catch(function (e) {
                            return p.all([st(e), tt(e)]).then(
                              function () {
                                throw e;
                              },
                              function () {
                                throw e;
                              }
                            );
                          })
                          .then(he);
                      },
                      destroy: tt,
                      getProps: function () {
                        return V;
                      },
                      setProps: pt,
                      export: ct,
                      getHelpers: ht,
                      getDelegateOverrides: function () {
                        return p.try(function () {
                          return {
                            getProxyContainer: wt,
                            show: Ce,
                            hide: Re,
                            renderContainer: ft,
                            getProxyWindow: Oe,
                            watchForUnload: it,
                            openFrame: Ne,
                            openPrerenderFrame: je,
                            prerender: lt,
                            open: rt,
                            openPrerender: Fe,
                            setProxyWin: Ae
                          };
                        });
                      },
                      getExports: function () {
                        return R({
                          getExports: function () {
                            return ut;
                          }
                        });
                      }
                    };
                  }
                  var Dn = {
                      register: function (e, t, n, r) {
                        var o = r.React,
                          a = r.ReactDOM;
                        return (function (e) {
                          function t() {
                            return e.apply(this, arguments) || this;
                          }
                          i(t, e);
                          var r = t.prototype;
                          return (
                            (r.render = function () {
                              return o.createElement("div", null);
                            }),
                            (r.componentDidMount = function () {
                              var e = a.findDOMNode(this),
                                t = n(ve({}, this.props));
                              t.render(e, wn.IFRAME),
                                this.setState({ parent: t });
                            }),
                            (r.componentDidUpdate = function () {
                              this.state &&
                                this.state.parent &&
                                this.state.parent
                                  .updateProps(ve({}, this.props))
                                  .catch(he);
                            }),
                            t
                          );
                        })(o.Component);
                      }
                    },
                    kn = {
                      register: function (e, t, n, r) {
                        return r.component(e, {
                          render: function (e) {
                            return e("div");
                          },
                          inheritAttrs: !1,
                          mounted: function () {
                            var e,
                              t = this.$el;
                            (this.parent = n(
                              o(
                                {},
                                ((e = this.$attrs),
                                Object.keys(e).reduce(function (t, n) {
                                  var r = e[n];
                                  return (
                                    "style-object" === n || "styleObject" === n
                                      ? ((t.style = r), (t.styleObject = r))
                                      : n.includes("-")
                                      ? (t[be(n)] = r)
                                      : (t[n] = r),
                                    t
                                  );
                                }, {}))
                              )
                            )),
                              this.parent.render(t, wn.IFRAME);
                          },
                          watch: {
                            $attrs: {
                              handler: function () {
                                this.parent &&
                                  this.$attrs &&
                                  this.parent
                                    .updateProps(o({}, this.$attrs))
                                    .catch(he);
                              },
                              deep: !0
                            }
                          }
                        });
                      }
                    },
                    In = {
                      register: function (e, t, n) {
                        return {
                          template: "<div></div>",
                          inheritAttrs: !1,
                          mounted: function () {
                            var e,
                              t = this.$el;
                            (this.parent = n(
                              o(
                                {},
                                ((e = this.$attrs),
                                Object.keys(e).reduce(function (t, n) {
                                  var r = e[n];
                                  return (
                                    "style-object" === n || "styleObject" === n
                                      ? ((t.style = r), (t.styleObject = r))
                                      : n.includes("-")
                                      ? (t[be(n)] = r)
                                      : (t[n] = r),
                                    t
                                  );
                                }, {}))
                              )
                            )),
                              this.parent.render(t, wn.IFRAME);
                          },
                          watch: {
                            $attrs: {
                              handler: function () {
                                this.parent &&
                                  this.$attrs &&
                                  this.parent
                                    .updateProps(o({}, this.$attrs))
                                    .catch(he);
                              },
                              deep: !0
                            }
                          }
                        };
                      }
                    },
                    Nn = {
                      register: function (e, t, n, r) {
                        return r.module(e, []).directive(be(e), function () {
                          for (
                            var e = {}, r = 0, i = Object.keys(t);
                            r < i.length;
                            r++
                          )
                            e[i[r]] = "=";
                          return (
                            (e.props = "="),
                            {
                              scope: e,
                              restrict: "E",
                              controller: [
                                "$scope",
                                "$element",
                                function (e, t) {
                                  var r = function () {
                                      return Oe(e.props, function (t) {
                                        return "function" == typeof t
                                          ? function () {
                                              var n = t.apply(this, arguments);
                                              return (
                                                (function () {
                                                  if (
                                                    "$apply" !==
                                                      e.$root.$$phase &&
                                                    "$digest" !==
                                                      e.$root.$$phase
                                                  )
                                                    try {
                                                      e.$apply();
                                                    } catch {}
                                                })(),
                                                n
                                              );
                                            }
                                          : t;
                                      });
                                    },
                                    i = n(r());
                                  i.render(t[0], wn.IFRAME),
                                    e.$watch(function () {
                                      i.updateProps(r()).catch(he);
                                    });
                                }
                              ]
                            }
                          );
                        });
                      }
                    },
                    jn = {
                      register: function (e, t, n, r) {
                        var i = r.Component,
                          a = r.NgModule,
                          s = r.ElementRef,
                          u = r.NgZone,
                          c = r.Inject,
                          d = (function () {
                            function e(e, t) {
                              (this.elementRef = void 0),
                                (this.internalProps = void 0),
                                (this.parent = void 0),
                                (this.props = void 0),
                                (this.zone = void 0),
                                (this._props = void 0),
                                (this._props = {}),
                                (this.elementRef = e),
                                (this.zone = t);
                            }
                            var t = e.prototype;
                            return (
                              (t.getProps = function () {
                                var e = this;
                                return Oe(
                                  o({}, this.internalProps, this.props),
                                  function (t) {
                                    if ("function" == typeof t) {
                                      var n = e.zone;
                                      return function () {
                                        var e = arguments,
                                          r = this;
                                        return n.run(function () {
                                          return t.apply(r, e);
                                        });
                                      };
                                    }
                                    return t;
                                  }
                                );
                              }),
                              (t.ngOnInit = function () {
                                var e = this.elementRef.nativeElement;
                                (this.parent = n(this.getProps())),
                                  this.parent.render(e, wn.IFRAME);
                              }),
                              (t.ngDoCheck = function () {
                                this.parent &&
                                  !(function (e, t) {
                                    var n = {};
                                    for (var r in e)
                                      if (
                                        e.hasOwnProperty(r) &&
                                        ((n[r] = !0), e[r] !== t[r])
                                      )
                                        return !1;
                                    for (var i in t) if (!n[i]) return !1;
                                    return !0;
                                  })(this._props, this.props) &&
                                  ((this._props = o({}, this.props)),
                                  this.parent.updateProps(this.getProps()));
                              }),
                              e
                            );
                          })();
                        (d.annotations = void 0),
                          (d.parameters = void 0),
                          (d.parameters = [[new c(s)], [new c(u)]]),
                          (d.annotations = [
                            new i({
                              selector: e,
                              template: "<div></div>",
                              inputs: ["props"]
                            })
                          ]);
                        var l = function () {};
                        return (
                          (l.annotations = void 0),
                          (l.annotations = [
                            new a({ declarations: [d], exports: [d] })
                          ]),
                          l
                        );
                      }
                    };
                  function Fn(e) {
                    var t = e.uid,
                      n = e.frame,
                      r = e.prerenderFrame,
                      i = e.doc,
                      o = e.props,
                      a = e.event,
                      s = e.dimensions,
                      u = s.width,
                      c = s.height;
                    if (n && r) {
                      var d = i.createElement("div");
                      d.setAttribute("id", t);
                      var l = i.createElement("style");
                      return (
                        o.cspNonce && l.setAttribute("nonce", o.cspNonce),
                        l.appendChild(
                          i.createTextNode(
                            "\n            #" +
                              t +
                              " {\n                display: inline-block;\n                position: relative;\n                width: " +
                              u +
                              ";\n                height: " +
                              c +
                              ";\n            }\n\n            #" +
                              t +
                              " > iframe {\n                display: inline-block;\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                transition: opacity .2s ease-in-out;\n            }\n\n            #" +
                              t +
                              " > iframe.zoid-invisible {\n                opacity: 0;\n            }\n\n            #" +
                              t +
                              " > iframe.zoid-visible {\n                opacity: 1;\n        }\n        "
                          )
                        ),
                        d.appendChild(n),
                        d.appendChild(r),
                        d.appendChild(l),
                        r.classList.add("zoid-visible"),
                        n.classList.add("zoid-invisible"),
                        a.on(vn.RENDERED, function () {
                          r.classList.remove("zoid-visible"),
                            r.classList.add("zoid-invisible"),
                            n.classList.remove("zoid-invisible"),
                            n.classList.add("zoid-visible"),
                            setTimeout(function () {
                              $e(r);
                            }, 1);
                        }),
                        a.on(vn.RESIZE, function (e) {
                          var t = e.width,
                            n = e.height;
                          "number" == typeof t && (d.style.width = it(t)),
                            "number" == typeof n && (d.style.height = it(n));
                        }),
                        d
                      );
                    }
                  }
                  function Mn(e) {
                    var t = e.doc,
                      n = e.props,
                      r = t.createElement("html"),
                      i = t.createElement("body"),
                      o = t.createElement("style"),
                      a = t.createElement("div");
                    return (
                      a.classList.add("spinner"),
                      n.cspNonce && o.setAttribute("nonce", n.cspNonce),
                      r.appendChild(i),
                      i.appendChild(a),
                      i.appendChild(o),
                      o.appendChild(
                        t.createTextNode(
                          "\n            html, body {\n                width: 100%;\n                height: 100%;\n            }\n\n            .spinner {\n                position: fixed;\n                max-height: 60vmin;\n                max-width: 60vmin;\n                height: 40px;\n                width: 40px;\n                top: 50%;\n                left: 50%;\n                box-sizing: border-box;\n                border: 3px solid rgba(0, 0, 0, .2);\n                border-top-color: rgba(33, 128, 192, 0.8);\n                border-radius: 100%;\n                animation: rotation .7s infinite linear;\n            }\n\n            @keyframes rotation {\n                from {\n                    transform: translateX(-50%) translateY(-50%) rotate(0deg);\n                }\n                to {\n                    transform: translateX(-50%) translateY(-50%) rotate(359deg);\n                }\n            }\n        "
                        )
                      ),
                      r
                    );
                  }
                  var Wn = Te(),
                    Bn = Te();
                  var Vn = function (e) {
                    var t, n, r, i, a, s, u;
                    at().initialized ||
                      ((at().initialized = !0),
                      (a = (i = { on: tn, send: rn }).on),
                      (s = i.send),
                      ((u = at()).receiveMessage =
                        u.receiveMessage ||
                        function (e) {
                          return en(e, { on: a, send: s });
                        }),
                      (n = (t = { on: tn, send: rn }).on),
                      (r = t.send),
                      ut().getOrSet("postMessageListener", function () {
                        return He(window, "message", function (e) {
                          var t, i, o, a;
                          (t = e),
                            (o = (i = { on: n, send: r }).on),
                            (a = i.send),
                            p.try(function () {
                              var e = t.source || t.sourceElement,
                                n =
                                  t.origin ||
                                  (t.originalEvent && t.originalEvent.origin),
                                r = t.data;
                              if (("null" === n && (n = "file://"), e)) {
                                if (!n)
                                  throw new Error(
                                    "Post message did not have origin domain"
                                  );
                                en(
                                  { source: e, origin: n, data: r },
                                  { on: o, send: a }
                                );
                              }
                            });
                        });
                      }),
                      Bt({ on: tn, send: rn, receiveMessage: en }),
                      (function (e) {
                        var t = e.on,
                          n = e.send;
                        ut("builtinListeners").getOrSet(
                          "helloListener",
                          function () {
                            var e = t(
                                "postrobot_hello",
                                { domain: "*" },
                                function (e) {
                                  return (
                                    ht(e.source, { domain: e.origin }),
                                    { instanceID: ft() }
                                  );
                                }
                              ),
                              r = B();
                            return (
                              r && pt(r, { send: n }).catch(function (e) {}), e
                            );
                          }
                        );
                      })({ on: tn, send: rn }));
                    var c = (function (e) {
                        var t,
                          n,
                          r = (function (e) {
                            var t = e.tag,
                              n = e.url,
                              r = e.domain,
                              i = e.bridgeUrl,
                              a = e.props,
                              s = void 0 === a ? {} : a,
                              u = e.dimensions,
                              c = void 0 === u ? {} : u,
                              d = e.autoResize,
                              l = void 0 === d ? {} : d,
                              f = e.allowedParentDomains,
                              h = void 0 === f ? "*" : f,
                              p = e.attributes,
                              y = void 0 === p ? {} : p,
                              w = e.defaultContext,
                              v = void 0 === w ? wn.IFRAME : w,
                              g = e.containerTemplate,
                              m = void 0 === g ? Fn : g,
                              b = e.prerenderTemplate,
                              E = void 0 === b ? Mn : b,
                              _ = e.validate,
                              S = e.eligible,
                              x =
                                void 0 === S
                                  ? function () {
                                      return { eligible: !0 };
                                    }
                                  : S,
                              O = e.logger,
                              A = void 0 === O ? { info: he } : O,
                              C = e.exports,
                              T = void 0 === C ? he : C,
                              R = e.method,
                              D = e.children,
                              k =
                                void 0 === D
                                  ? function () {
                                      return {};
                                    }
                                  : D,
                              I = t.replace(/-/g, "_"),
                              N = o(
                                {},
                                {
                                  window: {
                                    type: pn.OBJECT,
                                    sendToChild: !1,
                                    required: !1,
                                    allowDelegate: !0,
                                    validate: function (e) {
                                      var t = e.value;
                                      if (!K(t) && !zt.isProxyWindow(t))
                                        throw new Error(
                                          "Expected Window or ProxyWindow"
                                        );
                                      if (K(t)) {
                                        if (j(t))
                                          throw new Error("Window is closed");
                                        if (!P(t))
                                          throw new Error(
                                            "Window is not same domain"
                                          );
                                      }
                                    },
                                    decorate: function (e) {
                                      return on(e.value);
                                    }
                                  },
                                  timeout: {
                                    type: pn.NUMBER,
                                    required: !1,
                                    sendToChild: !1
                                  },
                                  cspNonce: { type: pn.STRING, required: !1 },
                                  onDisplay: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    allowDelegate: !0,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onRendered: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onRender: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onPrerendered: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onPrerender: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onClose: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    allowDelegate: !0,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onDestroy: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    allowDelegate: !0,
                                    default: Pn,
                                    decorate: An
                                  },
                                  onResize: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    allowDelegate: !0,
                                    default: Pn
                                  },
                                  onFocus: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    allowDelegate: !0,
                                    default: Pn
                                  },
                                  close: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.close;
                                    }
                                  },
                                  focus: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.focus;
                                    }
                                  },
                                  resize: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.resize;
                                    }
                                  },
                                  uid: {
                                    type: pn.STRING,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.uid;
                                    }
                                  },
                                  tag: {
                                    type: pn.STRING,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.tag;
                                    }
                                  },
                                  getParent: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.getParent;
                                    }
                                  },
                                  getParentDomain: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.getParentDomain;
                                    }
                                  },
                                  show: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.show;
                                    }
                                  },
                                  hide: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.hide;
                                    }
                                  },
                                  export: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.export;
                                    }
                                  },
                                  onError: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.onError;
                                    }
                                  },
                                  onProps: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.onProps;
                                    }
                                  },
                                  getSiblings: {
                                    type: pn.FUNCTION,
                                    required: !1,
                                    sendToChild: !1,
                                    childDecorate: function (e) {
                                      return e.getSiblings;
                                    }
                                  }
                                },
                                s
                              );
                            if (!m)
                              throw new Error("Container template required");
                            return {
                              name: I,
                              tag: t,
                              url: n,
                              domain: r,
                              bridgeUrl: i,
                              method: R,
                              propsDef: N,
                              dimensions: c,
                              autoResize: l,
                              allowedParentDomains: h,
                              attributes: y,
                              defaultContext: v,
                              containerTemplate: m,
                              prerenderTemplate: E,
                              validate: _,
                              logger: A,
                              eligible: x,
                              children: k,
                              exports:
                                "function" == typeof T
                                  ? T
                                  : function (e) {
                                      for (
                                        var t = e.getExports,
                                          n = {},
                                          r = function () {
                                            var e = o[i],
                                              r = T[e].type,
                                              a = t().then(function (t) {
                                                return t[e];
                                              });
                                            n[e] =
                                              r === pn.FUNCTION
                                                ? function () {
                                                    for (
                                                      var e = arguments.length,
                                                        t = new Array(e),
                                                        n = 0;
                                                      n < e;
                                                      n++
                                                    )
                                                      t[n] = arguments[n];
                                                    return a.then(function (e) {
                                                      return e.apply(void 0, t);
                                                    });
                                                  }
                                                : a;
                                          },
                                          i = 0,
                                          o = Object.keys(T);
                                        i < o.length;
                                        i++
                                      )
                                        r();
                                      return n;
                                    }
                            };
                          })(e),
                          i = r.name,
                          a = r.tag,
                          s = r.defaultContext,
                          u = r.propsDef,
                          c = r.eligible,
                          d = r.children,
                          l = sn(window),
                          f = {},
                          h = [],
                          y = function () {
                            if (
                              (function (e) {
                                try {
                                  return mn(window.name).name === e;
                                } catch {}
                                return !1;
                              })(i)
                            ) {
                              var e = En().payload;
                              if (e.tag === a && L(e.childDomainMatch, O()))
                                return !0;
                            }
                            return !1;
                          },
                          w = le(function () {
                            if (y()) {
                              if (window.xprops)
                                throw (
                                  (delete l.components[a],
                                  new Error(
                                    "Can not register " +
                                      i +
                                      " as child - child already registered"
                                  ))
                                );
                              var e = (function (e) {
                                var t,
                                  n = e.tag,
                                  r = e.propsDef,
                                  i = e.autoResize,
                                  o = e.allowedParentDomains,
                                  a = [],
                                  s = En(),
                                  u = s.parent,
                                  c = s.payload,
                                  d = u.win,
                                  l = u.domain,
                                  f = new p(),
                                  h = c.version,
                                  y = c.uid,
                                  w = c.exports,
                                  v = c.context,
                                  g = c.props;
                                if (
                                  !(function (e, t) {
                                    if (!/_/.test(e) || !/_/.test("10_3_1"))
                                      throw new Error(
                                        "Versions are in an invalid format (" +
                                          e +
                                          ", 10_3_1)"
                                      );
                                    return (
                                      e.split("_")[0] === "10_3_1".split("_")[0]
                                    );
                                  })(h)
                                )
                                  throw new Error(
                                    "Parent window has zoid version " +
                                      h +
                                      ", child window has version 10_3_1"
                                  );
                                var m = w.show,
                                  b = w.hide,
                                  E = w.close,
                                  _ = w.onError,
                                  S = w.checkClose,
                                  x = w.export,
                                  C = w.resize,
                                  T = w.init,
                                  R = function () {
                                    return d;
                                  },
                                  D = function () {
                                    return l;
                                  },
                                  I = function (e) {
                                    return (
                                      a.push(e),
                                      {
                                        cancel: function () {
                                          a.splice(a.indexOf(e), 1);
                                        }
                                      }
                                    );
                                  },
                                  N = function (e) {
                                    return C.fireAndForget({
                                      width: e.width,
                                      height: e.height
                                    });
                                  },
                                  j = function (e) {
                                    return f.resolve(e), x(e);
                                  },
                                  F = function (e) {
                                    var r = (void 0 === e ? {} : e).anyParent,
                                      i = [],
                                      o = t.parent;
                                    if ((void 0 === r && (r = !o), !r && !o))
                                      throw new Error(
                                        "No parent found for " + n + " child"
                                      );
                                    for (
                                      var a = 0, s = k(window);
                                      a < s.length;
                                      a++
                                    ) {
                                      var u = s[a];
                                      if (P(u)) {
                                        var c = A(u).xprops;
                                        if (c && R() === c.getParent()) {
                                          var d = c.parent;
                                          if (
                                            r ||
                                            !o ||
                                            (d && d.uid === o.uid)
                                          ) {
                                            var l = un(u, function (e) {
                                              return e.exports;
                                            });
                                            i.push({ props: c, exports: l });
                                          }
                                        }
                                      }
                                    }
                                    return i;
                                  },
                                  M = function (e, i, o) {
                                    void 0 === o && (o = !1);
                                    var s = (function (e, t, n, r, i, o) {
                                      void 0 === o && (o = !1);
                                      for (
                                        var a = {}, s = 0, u = Object.keys(n);
                                        s < u.length;
                                        s++
                                      ) {
                                        var c = u[s],
                                          d = t[c],
                                          l =
                                            d &&
                                            d.trustedDomains &&
                                            d.trustedDomains.length > 0
                                              ? d.trustedDomains.reduce(
                                                  function (e, t) {
                                                    return e || L(t, O(window));
                                                  },
                                                  !1
                                                )
                                              : r === O(window) || P(e);
                                        if (
                                          (!d || !d.sameDomain || l) &&
                                          (!d || !d.trustedDomains || l)
                                        ) {
                                          var f = Sn(t, 0, c, n[c], i);
                                          (a[c] = f),
                                            d &&
                                              d.alias &&
                                              !a[d.alias] &&
                                              (a[d.alias] = f);
                                        }
                                      }
                                      if (!o)
                                        for (
                                          var h = 0, p = Object.keys(t);
                                          h < p.length;
                                          h++
                                        ) {
                                          var y = p[h];
                                          n.hasOwnProperty(y) ||
                                            (a[y] = Sn(t, 0, y, void 0, i));
                                        }
                                      return a;
                                    })(
                                      d,
                                      r,
                                      e,
                                      i,
                                      {
                                        tag: n,
                                        show: m,
                                        hide: b,
                                        close: E,
                                        focus: xn,
                                        onError: _,
                                        resize: N,
                                        getSiblings: F,
                                        onProps: I,
                                        getParent: R,
                                        getParentDomain: D,
                                        uid: y,
                                        export: j
                                      },
                                      o
                                    );
                                    t ? ve(t, s) : (t = s);
                                    for (var u = 0; u < a.length; u++)
                                      (0, a[u])(t);
                                  },
                                  W = function (e) {
                                    return p.try(function () {
                                      return M(e, l, !0);
                                    });
                                  };
                                return {
                                  init: function () {
                                    return p
                                      .try(function () {
                                        return (
                                          P(d) &&
                                            (function (e) {
                                              var t = e.componentName,
                                                n = e.parentComponentWindow,
                                                r = hn({
                                                  data: mn(window.name)
                                                    .serializedInitialPayload,
                                                  sender: { win: n },
                                                  basic: !0
                                                }),
                                                i = r.sender;
                                              if (
                                                "uid" === r.reference.type ||
                                                "global" ===
                                                  r.metaData.windowRef.type
                                              ) {
                                                var o = fn({
                                                  data: r.data,
                                                  metaData: {
                                                    windowRef: _n(n)
                                                  },
                                                  sender: { domain: i.domain },
                                                  receiver: {
                                                    win: window,
                                                    domain: O()
                                                  },
                                                  basic: !0
                                                });
                                                window.name = gn({
                                                  name: t,
                                                  serializedPayload:
                                                    o.serializedData
                                                });
                                              }
                                            })({
                                              componentName: e.name,
                                              parentComponentWindow: d
                                            }),
                                          (sn(window).exports = e.exports({
                                            getExports: function () {
                                              return f;
                                            }
                                          })),
                                          (function (e, t) {
                                            if (!L(e, t))
                                              throw new Error(
                                                "Can not be rendered by domain: " +
                                                  t
                                              );
                                          })(o, l),
                                          vt(d),
                                          window.addEventListener(
                                            "beforeunload",
                                            function () {
                                              S.fireAndForget();
                                            }
                                          ),
                                          window.addEventListener(
                                            "unload",
                                            function () {
                                              S.fireAndForget();
                                            }
                                          ),
                                          H(d, function () {
                                            On();
                                          }),
                                          T({ updateProps: W, close: On })
                                        );
                                      })
                                      .then(function () {
                                        return ((e = i.width),
                                        (t = void 0 !== e && e),
                                        (n = i.height),
                                        (r = void 0 !== n && n),
                                        (o = i.element),
                                        Be(void 0 === o ? "body" : o)
                                          .catch(he)
                                          .then(function (e) {
                                            return {
                                              width: t,
                                              height: r,
                                              element: e
                                            };
                                          })).then(function (e) {
                                          var t = e.width,
                                            n = e.height,
                                            r = e.element;
                                          r &&
                                            (t || n) &&
                                            v !== wn.POPUP &&
                                            Qe(
                                              r,
                                              function (e) {
                                                N({
                                                  width: t ? e.width : void 0,
                                                  height: n ? e.height : void 0
                                                });
                                              },
                                              { width: t, height: n }
                                            );
                                        });
                                        var e, t, n, r, o;
                                      })
                                      .catch(function (e) {
                                        _(e);
                                      });
                                  },
                                  getProps: function () {
                                    return t || (M(g, l), t);
                                  }
                                };
                              })(r);
                              return e.init(), e;
                            }
                          }),
                          v = function e(t) {
                            var n,
                              u = "zoid-" + a + "-" + ae(),
                              l = t || {},
                              f = c({ props: l }),
                              y = f.eligible,
                              w = f.reason,
                              v = l.onDestroy;
                            l.onDestroy = function () {
                              if ((n && y && h.splice(h.indexOf(n), 1), v))
                                return v.apply(void 0, arguments);
                            };
                            var g = Rn({ uid: u, options: r });
                            g.init(),
                              y ? g.setProps(l) : l.onDestroy && l.onDestroy(),
                              Wn.register(function (e) {
                                return g.destroy(
                                  e ||
                                    new Error("zoid destroyed all components")
                                );
                              });
                            var m = function (t) {
                                var n = (void 0 === t ? {} : t).decorate;
                                return e((void 0 === n ? ge : n)(l));
                              },
                              b = function (e, t, r) {
                                return p
                                  .try(function () {
                                    if (!y) {
                                      var t = new Error(
                                        w || i + " component is not eligible"
                                      );
                                      return g.destroy(t).then(function () {
                                        throw t;
                                      });
                                    }
                                    if (!K(e))
                                      throw new Error(
                                        "Must pass window to renderTo"
                                      );
                                    return (
                                      (n = l),
                                      (o = r),
                                      p.try(function () {
                                        if (n.window)
                                          return on(n.window).getType();
                                        if (o) {
                                          if (o !== wn.IFRAME && o !== wn.POPUP)
                                            throw new Error(
                                              "Unrecognized context: " + o
                                            );
                                          return o;
                                        }
                                        return s;
                                      })
                                    );
                                    var n, o;
                                  })
                                  .then(function (i) {
                                    if (
                                      ((t = (function (e, t) {
                                        if (t) {
                                          if ("string" != typeof t && !ne(t))
                                            throw new TypeError(
                                              "Expected string or element selector to be passed"
                                            );
                                          return t;
                                        }
                                        if (e === wn.POPUP) return "body";
                                        throw new Error(
                                          "Expected element to be passed to render iframe"
                                        );
                                      })(i, t)),
                                      e !== window && "string" != typeof t)
                                    )
                                      throw new Error(
                                        "Must pass string element when rendering to another window"
                                      );
                                    return g.render({
                                      target: e,
                                      container: t,
                                      context: i,
                                      rerender: function () {
                                        var i = m();
                                        return ve(n, i), i.renderTo(e, t, r);
                                      }
                                    });
                                  })
                                  .catch(function (e) {
                                    return g.destroy(e).then(function () {
                                      throw e;
                                    });
                                  });
                              };
                            return (
                              (n = o(
                                {},
                                g.getExports(),
                                g.getHelpers(),
                                (function () {
                                  for (
                                    var e = d(),
                                      t = {},
                                      n = function () {
                                        var n = i[r],
                                          a = e[n];
                                        t[n] = function (e) {
                                          var t = g.getProps(),
                                            n = o({}, e, {
                                              parent: {
                                                uid: u,
                                                props: t,
                                                export: g.export
                                              }
                                            });
                                          return a(n);
                                        };
                                      },
                                      r = 0,
                                      i = Object.keys(e);
                                    r < i.length;
                                    r++
                                  )
                                    n();
                                  return t;
                                })(),
                                {
                                  isEligible: function () {
                                    return y;
                                  },
                                  clone: m,
                                  render: function (e, t) {
                                    return b(window, e, t);
                                  },
                                  renderTo: function (e, t, n) {
                                    return b(e, t, n);
                                  }
                                }
                              )),
                              y && h.push(n),
                              n
                            );
                          };
                        if (
                          (w(),
                          (t = tn("zoid_allow_delegate_" + i, function () {
                            return !0;
                          })),
                          (n = tn("zoid_delegate_" + i, function (e) {
                            var t = e.data;
                            return {
                              parent: Rn({
                                uid: t.uid,
                                options: r,
                                overrides: t.overrides,
                                parentWin: e.source
                              })
                            };
                          })),
                          Bn.register(t.cancel),
                          Bn.register(n.cancel),
                          (l.components = l.components || {}),
                          l.components[a])
                        )
                          throw new Error(
                            "Can not register multiple components with the same tag: " +
                              a
                          );
                        return (
                          (l.components[a] = !0),
                          {
                            init: v,
                            instances: h,
                            driver: function (e, t) {
                              var n = {
                                react: Dn,
                                angular: Nn,
                                vue: kn,
                                vue3: In,
                                angular2: jn
                              };
                              if (!n[e])
                                throw new Error(
                                  "Could not find driver for framework: " + e
                                );
                              return (
                                f[e] || (f[e] = n[e].register(a, u, v, t)), f[e]
                              );
                            },
                            isChild: y,
                            canRenderTo: function (e) {
                              return rn(e, "zoid_allow_delegate_" + i)
                                .then(function (e) {
                                  return e.data;
                                })
                                .catch(function () {
                                  return !1;
                                });
                            },
                            registerChild: w
                          }
                        );
                      })(e),
                      d = function (e) {
                        return c.init(e);
                      };
                    (d.driver = function (e, t) {
                      return c.driver(e, t);
                    }),
                      (d.isChild = function () {
                        return c.isChild();
                      }),
                      (d.canRenderTo = function (e) {
                        return c.canRenderTo(e);
                      }),
                      (d.instances = c.instances);
                    var l = c.registerChild();
                    return l && (window.xprops = d.xprops = l.getProps()), d;
                  };
                  function Un(e) {
                    nn && nn.destroyBridges();
                    var t = Wn.all(e);
                    return (Wn = Te()), t;
                  }
                  var zn = Un;
                  function Ln(e) {
                    return (
                      zn(),
                      delete window.__zoid_10_3_1__,
                      (function () {
                        for (
                          var e = ut("responseListeners"), t = 0, n = e.keys();
                          t < n.length;
                          t++
                        ) {
                          var r = n[t],
                            i = e.get(r);
                          i && (i.cancelled = !0), e.del(r);
                        }
                      })(),
                      (t = ut().get("postMessageListener")) && t.cancel(),
                      delete window.__post_robot_11_0_0__,
                      Bn.all(e)
                    );
                    var t;
                  }
                }
              ]));
          })(Tt);
          const Rt = Tt.exports.create({
            dimensions: { height: "55px", width: "300px" },
            exports: ({ getExports: e }) => ({
              requestPaymentToken: (t, n, r, i, o, a) =>
                e().then((e) => e.requestPaymentToken(t, n, r, i, o, a))
            }),
            tag: "kushki_hosted_fields",
            url: "http://localhost:5173"
          });
          var Dt = ((e) => (
              (e.ECU = "Ecuador"),
              (e.COL = "Colombia"),
              (e.PER = "Peru"),
              (e.CHL = "Chile"),
              (e.MXN = "Mexico"),
              (e.BRA = "Brazil"),
              (e.CRI = "Costa Rica"),
              e
            ))(Dt || {}),
            kt = ((e) => (
              (e.secureService = "KushkiOTP"),
              (e.secureCodeSuccess = "OTP000"),
              e
            ))(kt || {}),
            It = ((e) => (
              (e.REQUIRED = "required"),
              (e.SUCCESS = "success"),
              (e.ERROR = "error"),
              e
            ))(It || {});
          const Nt = [
              "-moz-appearance",
              "-moz-box-shadow",
              "-moz-osx-font-smoothing",
              "-moz-tap-highlight-color",
              "-moz-transition",
              "-webkit-appearance",
              "-webkit-box-shadow",
              "-webkit-font-smoothing",
              "-webkit-tap-highlight-color",
              "-webkit-transition",
              "appearance",
              "border",
              "border-color",
              "border-radius",
              "box-shadow",
              "color",
              "direction",
              "font",
              "font-family",
              "font-size",
              "font-size-adjust",
              "font-stretch",
              "font-style",
              "font-variant",
              "font-variant-alternates",
              "font-variant-caps",
              "font-variant-east-asian",
              "font-variant-ligatures",
              "font-variant-numeric",
              "font-weight",
              "letter-spacing",
              "line-height",
              "margin",
              "margin-top",
              "margin-right",
              "margin-bottom",
              "margin-left",
              "opacity",
              "outline",
              "padding",
              "padding-top",
              "padding-right",
              "padding-bottom",
              "padding-left",
              "text-align",
              "text-shadow",
              "transition",
              "width"
            ],
            jt = (e) =>
              "string" == typeof e
                ? ((e) => {
                    const t = document.createElement("input"),
                      n = {};
                    "." === e[0] && (e = e.substring(1)),
                      (t.className = e),
                      (t.style.display = "none !important"),
                      (t.style.position = "fixed !important"),
                      (t.style.left = "-99999px !important"),
                      (t.style.top = "-99999px !important"),
                      document.body.appendChild(t);
                    const r = window.getComputedStyle(t);
                    return (
                      Nt.forEach((e) => {
                        let t = r[e];
                        t && (n[e] = t), (t = null);
                      }),
                      document.body.removeChild(t),
                      n
                    );
                  })(e)
                : e,
            Ft = (e) => (
              Object.entries(e).forEach(([t, n]) => {
                e = { ...e, [t]: jt(n) };
              }),
              e
            );
          class Mt {
            constructor(e, t) {
              i(this, "options"),
                i(this, "kushkiInstance"),
                i(this, "inputValues"),
                i(this, "currentBin"),
                i(this, "currentBinHasDeferredOptions"),
                i(this, "_gateway"),
                i(this, "_siftScienceService"),
                i(this, "_cardinal3DSProvider"),
                i(this, "_sandbox3DSProvider"),
                i(this, "listenerFieldValidity", "fieldValidity"),
                i(this, "listenerFieldFocus", "fieldFocus"),
                i(this, "listenerFieldBlur", "fieldBlur"),
                i(this, "listenerFieldSubmit", "fieldSubmit"),
                i(this, "otpValidation", "otpValidation"),
                i(this, "otpInputOTP", "onInputOTP"),
                i(this, "deferredDefaultWidth", 300),
                i(this, "firstHostedFieldType", ""),
                i(this, "buildTokenResponse", (e) => {
                  const t = { token: e.token };
                  return (
                    !e.deferred ||
                      "" === e.deferred.creditType ||
                      ("all" === e.deferred.creditType
                        ? (t.deferred = { months: e.deferred.months })
                        : (t.deferred = {
                            creditType: e.deferred.creditType,
                            graceMonths: e.deferred.graceMonths,
                            months: e.deferred.months
                          })),
                    t
                  );
                }),
                i(this, "getDeferredValues", (e = this.inputValues.deferred) =>
                  e && e.value
                    ? "object" != typeof e.value
                      ? {}
                      : e.value
                    : {}
                ),
                i(this, "buildGetDeferredValuesToRequestToken", (e) => {
                  const t = {},
                    n = this.getDeferredValues();
                  return (
                    n.isDeferred && (t.isDeferred = n.isDeferred),
                    e.country === Dt.CHL &&
                      n.isDeferred &&
                      (t.months = n.months),
                    t
                  );
                }),
                i(this, "validateDeferredValues", () => {
                  var e, t, n, r;
                  let i = !0;
                  if (
                    !this.inputValues.deferred ||
                    !this.inputValues.deferred.value ||
                    0 === Object.keys(this.inputValues.deferred.value).length
                  )
                    return i;
                  const o = this.getDeferredValues();
                  if (!o.isDeferred)
                    return (this.inputValues.deferred.validity.isValid = i), i;
                  const a = "" !== o.creditType;
                  if (
                    ((i = !!o.isDeferred && a),
                    (this.inputValues.deferred.validity.isValid = i),
                    !i)
                  )
                    return (
                      (this.inputValues.deferred.validity.errorType =
                        At.DEFERRED_TYPE_REQUERED),
                      null ==
                        (t =
                          null == (e = this.inputValues.deferred)
                            ? void 0
                            : e.hostedField) ||
                        t.updateProps({ deferredOptions: { isValid: !1 } }),
                      i
                    );
                  const s = 0 !== o.months;
                  return (
                    (i = !!o.isDeferred && s),
                    (this.inputValues.deferred.validity.isValid = i),
                    i ||
                      ((this.inputValues.deferred.validity.errorType =
                        At.DEFERRED_MONTHS_REQUERED),
                      null ==
                        (r =
                          null == (n = this.inputValues.deferred)
                            ? void 0
                            : n.hostedField) ||
                        r.updateProps({ deferredOptions: { isValid: !1 } })),
                    i
                  );
                }),
                i(this, "renderFields", async () =>
                  Promise.all(
                    Object.values(this.inputValues).map((e) => {
                      var t;
                      return null == (t = e.hostedField)
                        ? void 0
                        : t.render(`#${e.selector}`);
                    })
                  )
                ),
                i(this, "buildFieldsValidity", (e, t, n) => {
                  const r = { errorType: At.EMPTY, isValid: !1 },
                    i = {
                      cardholderName: r,
                      cardNumber: r,
                      cvv: r,
                      deferred: r,
                      expirationDate: r
                    };
                  let o = !0;
                  for (const t in e)
                    Object.values(Ct).includes(t) &&
                      t !== Ct.OTP &&
                      e[t].validity &&
                      (i[t] = {
                        errorType: e[t].validity.errorType,
                        isValid: e[t].validity.isValid
                      }),
                      !this.inputValues[t].validity.isValid && (o = !1);
                  return { fields: i, isFormValid: n ?? o, triggeredBy: t };
                }),
                i(
                  this,
                  "buildEventFormValidity",
                  (e, t) =>
                    new CustomEvent(this.listenerFieldValidity, {
                      detail: this.buildFieldsValidity(e, t)
                    })
                ),
                i(this, "hideDeferredOptions", () => {
                  var e;
                  return this.inputValues.deferred &&
                    null != (e = this.inputValues.deferred) &&
                    e.hostedField
                    ? new Promise((e, t) => {
                        var n, r;
                        null ==
                          (r =
                            null == (n = this.inputValues.deferred)
                              ? void 0
                              : n.hostedField) ||
                          r
                            .resize({
                              height: 75,
                              width: this.deferredDefaultWidth
                            })
                            .then(() => {
                              var e, t;
                              return null ==
                                (t =
                                  null == (e = this.inputValues.deferred)
                                    ? void 0
                                    : e.hostedField)
                                ? void 0
                                : t.hide();
                            })
                            .then(() => e())
                            .catch((e) => t(e));
                      })
                    : Promise.resolve();
                }),
                i(this, "hideOTPInput", () => {
                  var e, t;
                  return this.inputValues.otp
                    ? null ==
                      (t =
                        null == (e = this.inputValues.otp)
                          ? void 0
                          : e.hostedField)
                      ? void 0
                      : t.hide()
                    : Promise.resolve();
                }),
                i(
                  this,
                  "buildEventOtpValidation",
                  (e) =>
                    new CustomEvent(this.otpValidation, { detail: { otp: e } })
                ),
                i(this, "showOtpAndHideInputs", () => {
                  var e, t;
                  this.dispatchEventOTPValidation(It.REQUIRED),
                    null ==
                      (t =
                        null == (e = this.inputValues.otp)
                          ? void 0
                          : e.hostedField) || t.show();
                }),
                i(this, "dispatchEventOTPValidation", (e) => {
                  const t = this.buildEventOtpValidation(e);
                  dispatchEvent(t);
                }),
                (this.options = this.setDefaultValues(t)),
                (this.kushkiInstance = e),
                (this.inputValues = {}),
                (this.currentBin = ""),
                (this.currentBinHasDeferredOptions = !1),
                (this._gateway = Pt.get(tt.KushkiGateway)),
                (this._siftScienceService = Pt.get(tt.SiftScienceService)),
                (this._cardinal3DSProvider = Pt.get(tt.Cardinal3DSProvider)),
                (this._sandbox3DSProvider = Pt.get(tt.Sandbox3DSProvider));
            }
            static async initCardToken(e, t) {
              try {
                this.validParamsInitCardToken(e, t);
                const n = new Mt(e, t);
                return (
                  await n.initFields(t.fields, t.styles),
                  n.showContainers(),
                  await n.hideDeferredOptions(),
                  await n.hideOTPInput(),
                  n
                );
              } catch (e) {
                return await o.UtilsProvider.validErrors(e, o.ERRORS.E012);
              }
            }
            async requestToken() {
              try {
                const { isFormValid: e } = this.getFormValidity();
                if (!e) throw new o.KushkiError(o.ERRORS.E007);
                const t = await this._gateway.requestMerchantSettings(
                    this.kushkiInstance
                  ),
                  n = this._siftScienceService.createSiftScienceSession(
                    this.getBinFromCreditCardNumberSift(this.currentBin),
                    this.currentBin.slice(-4),
                    this.kushkiInstance,
                    t
                  ),
                  r = await this.getJwtIf3dsEnabled(t);
                if (r)
                  return this.buildTokenResponse(
                    await this.request3DSToken(r, t, n)
                  );
                {
                  const e = await this.requestTokenGateway(t, r, n),
                    i = this.getDeferredValues(),
                    o = await this.validInputOTP(
                      e.token,
                      i,
                      e.secureService,
                      e.secureId
                    );
                  return void 0 !== o
                    ? this.buildTokenResponse(o)
                    : Promise.resolve(
                        this.buildTokenResponse({ deferred: i, token: e.token })
                      );
                }
              } catch (e) {
                return await o.UtilsProvider.validErrors(e, o.ERRORS.E002);
              }
            }
            onFieldValidity(e, t) {
              this.addEventListener(this.listenerFieldValidity, e, t);
            }
            reset(e) {
              var t, n, r, i;
              return Object.values(Ct).includes(e)
                ? (null ==
                    (n =
                      null == (t = this.inputValues[e])
                        ? void 0
                        : t.hostedField) ||
                    n.updateProps({ brandIcon: "", reset: !0 }),
                  null ==
                    (i =
                      null == (r = this.inputValues[e])
                        ? void 0
                        : r.hostedField) || i.updateProps({ reset: !1 }),
                  Promise.resolve())
                : Promise.reject(new o.KushkiError(o.ERRORS.E009));
            }
            focus(e) {
              var t, n, r, i;
              return Object.values(Ct).includes(e)
                ? (null ==
                    (n =
                      null == (t = this.inputValues[e])
                        ? void 0
                        : t.hostedField) ||
                    n.updateProps({ isFocusActive: !0 }),
                  null ==
                    (i =
                      null == (r = this.inputValues[e])
                        ? void 0
                        : r.hostedField) ||
                    i.updateProps({ isFocusActive: !1 }),
                  Promise.resolve())
                : Promise.reject(new o.KushkiError(o.ERRORS.E008));
            }
            onFieldFocus(e, t) {
              this.addEventListener(this.listenerFieldFocus, e, t);
            }
            onFieldBlur(e, t) {
              this.addEventListener(this.listenerFieldBlur, e, t);
            }
            onFieldSubmit(e, t) {
              this.addEventListener(this.listenerFieldSubmit, e, t);
            }
            onOTPValidation(e, t, n) {
              window.addEventListener(this.otpValidation, (r) => {
                const i = r.detail,
                  a = o.ERRORS.E008;
                ({
                  [It.SUCCESS]: () => {
                    var e, t;
                    n(),
                      null ==
                        (t =
                          null == (e = this.inputValues.otp)
                            ? void 0
                            : e.hostedField) ||
                        t.updateProps({ otpValidationError: !1 });
                  },
                  [It.ERROR]: () => {
                    var e, n;
                    null ==
                      (n =
                        null == (e = this.inputValues.otp)
                          ? void 0
                          : e.hostedField) ||
                      n.updateProps({ otpValidationError: !0 }),
                      t(a);
                  },
                  [It.REQUIRED]: e
                })[i.otp]();
              });
            }
            getFormValidity() {
              let e = !0;
              for (const t in this.inputValues) {
                const n = this.inputValues[t].validity,
                  r = !n.isValid,
                  i = !!n.errorType;
                r && (e = !1),
                  r && !i && (n.errorType = At.EMPTY),
                  t === Ct.DEFERRED && (e = this.validateDeferredValues());
              }
              const t = this.buildEventFormValidity(this.inputValues, void 0);
              return (
                dispatchEvent(t),
                this.buildFieldsValidity(this.inputValues, void 0, e)
              );
            }
            async request3DSToken(e, t, n) {
              const r = this.getDeferredValues();
              return t.sandboxEnable
                ? this.getSandboxToken(e, t, r, n)
                : this.getCardinalToken(e, t, r, n);
            }
            async getSandboxToken(e, t, n, r) {
              const i = await this.requestTokenGateway(t, e, r);
              return this._sandbox3DSProvider.validateSandbox3dsToken(
                this.kushkiInstance,
                i,
                n
              );
            }
            async getCardinalToken(e, t, n, r) {
              return new Promise((i, o) => {
                this._cardinal3DSProvider.onSetUpComplete(async () => {
                  try {
                    const o =
                      await this._cardinal3DSProvider.validateCardinal3dsToken(
                        this.kushkiInstance,
                        await this.requestTokenGateway(t, e, r),
                        n
                      );
                    i(o);
                  } catch (e) {
                    o(e);
                  }
                });
              });
            }
            async getJwtIf3dsEnabled(e) {
              if (e.active_3dsecure) {
                const t = await this._gateway.requestCybersourceJwt(
                  this.kushkiInstance
                );
                return (
                  e.sandboxEnable
                    ? this._sandbox3DSProvider.initSandbox()
                    : await this._cardinal3DSProvider.initCardinal(
                        this.kushkiInstance,
                        t.jwt,
                        this.currentBin
                      ),
                  t.jwt
                );
              }
            }
            async requestTokenGateway(e, t, n) {
              try {
                const r = this.buildGetDeferredValuesToRequestToken(e),
                  i = this.options.isSubscription
                    ? c.card_subscription_token
                    : c.card_token,
                  o = await this.inputValues[
                    this.firstHostedFieldType
                  ].hostedField.requestPaymentToken(
                    this.kushkiInstance,
                    this.options,
                    i,
                    t,
                    n,
                    r
                  );
                return Promise.resolve(o);
              } catch (e) {
                return Promise.reject(e);
              }
            }
            setDefaultValues(e) {
              return { ...e, isSubscription: !!e.isSubscription };
            }
            async handleOnChangeOTP(e) {
              var t, n;
              if (
                ((this.inputValues = {
                  ...this.inputValues,
                  [Ct.OTP]: { ...this.inputValues[Ct.OTP], value: e }
                }),
                void 0 !==
                  (null == (t = this.inputValues.otp) ? void 0 : t.value) &&
                  3 ===
                    (null == (n = this.inputValues.otp)
                      ? void 0
                      : n.value.toString().length))
              ) {
                const e = new CustomEvent(this.otpInputOTP, {
                  detail: { otpValue: this.inputValues.otp.value }
                });
                dispatchEvent(e);
              }
            }
            createCustomEvent(e, t) {
              const n = new CustomEvent(e, {
                detail: this.buildFieldsValidity(this.inputValues, t)
              });
              dispatchEvent(n);
              const r = new CustomEvent(`${e}${t}`, {
                detail: this.buildFieldsValidity(this.inputValues, t)
              });
              dispatchEvent(r);
            }
            handleOnFocus(e) {
              this.createCustomEvent(this.listenerFieldFocus, e);
            }
            handleOnSubmit(e) {
              this.createCustomEvent(this.listenerFieldSubmit, e);
            }
            handleOnBlur(e) {
              this.createCustomEvent(this.listenerFieldBlur, e);
            }
            handleOnValidity(e, t) {
              this.inputValues = {
                ...this.inputValues,
                [e]: {
                  ...this.inputValues[e],
                  validity: { errorType: t.errorType, isValid: t.isValid }
                }
              };
              const n = this.buildEventFormValidity(this.inputValues, e);
              dispatchEvent(n);
              const r = new CustomEvent(`${this.listenerFieldValidity}${e}`, {
                detail: this.buildFieldsValidity(this.inputValues, e)
              });
              dispatchEvent(r);
            }
            async handleOnBinChange(e) {
              var t, n, r, i, o, a, s, u, c, d, l, f, h, p, y, w, v, g;
              if (!e)
                return (
                  null ==
                    (n =
                      null == (t = this.inputValues.deferred)
                        ? void 0
                        : t.hostedField) ||
                    n.updateProps({
                      deferredOptions: { bin: "", options: [] }
                    }),
                  void (
                    null ==
                      (i =
                        null == (r = this.inputValues.deferred)
                          ? void 0
                          : r.hostedField) || i.hide()
                  )
                );
              if (this.currentBin !== e) {
                (this.currentBin = e), (this.currentBinHasDeferredOptions = !1);
                try {
                  const { brand: t, cardType: n } =
                    await this._gateway.requestBinInfo(this.kushkiInstance, {
                      bin: e
                    });
                  if (
                    (null ==
                      (a =
                        null == (o = this.inputValues.cardNumber)
                          ? void 0
                          : o.hostedField) || a.updateProps({ brandIcon: t }),
                    "credit" !== n &&
                      (await (null ==
                      (u =
                        null == (s = this.inputValues.deferred)
                          ? void 0
                          : s.hostedField)
                        ? void 0
                        : u.hide())),
                    "credit" === n && !this.options.isSubscription)
                  ) {
                    const t = await this._gateway.requestDeferredInfo(
                      this.kushkiInstance,
                      { bin: e }
                    );
                    await (null ==
                    (d =
                      null == (c = this.inputValues.deferred)
                        ? void 0
                        : c.hostedField)
                      ? void 0
                      : d.updateProps({
                          deferredOptions: { bin: e, options: t }
                        })),
                      (this.currentBinHasDeferredOptions =
                        Array.isArray(t) && t.length > 0),
                      this.currentBinHasDeferredOptions
                        ? await (null ==
                          (f =
                            null == (l = this.inputValues.deferred)
                              ? void 0
                              : l.hostedField)
                            ? void 0
                            : f.show())
                        : await (null ==
                          (p =
                            null == (h = this.inputValues.deferred)
                              ? void 0
                              : h.hostedField)
                            ? void 0
                            : p.hide());
                  }
                } catch {
                  null ==
                    (w =
                      null == (y = this.inputValues.cardNumber)
                        ? void 0
                        : y.hostedField) ||
                    w.updateProps({
                      brandIcon: "",
                      deferredOptions: { bin: e, options: [] }
                    });
                }
              } else
                this.currentBinHasDeferredOptions &&
                  (await (null ==
                  (g =
                    null == (v = this.inputValues.deferred)
                      ? void 0
                      : v.hostedField)
                    ? void 0
                    : g.show()));
            }
            onChangeDeferred(e) {
              var t, n, r, i;
              const o = this.getDeferredValues({
                selector: "",
                validity: { isValid: !0 },
                value: e
              });
              (this.inputValues.deferred.value = o),
                o.isDeferred &&
                  (null ==
                    (n =
                      null == (t = this.inputValues.deferred)
                        ? void 0
                        : t.hostedField) ||
                    n.resize({
                      height: 125,
                      width: this.deferredDefaultWidth
                    })),
                o.isDeferred &&
                  "" !== o.creditType &&
                  (null ==
                    (i =
                      null == (r = this.inputValues.deferred)
                        ? void 0
                        : r.hostedField) ||
                    i.resize({
                      height: 160,
                      width: this.deferredDefaultWidth
                    }));
            }
            buildFieldOptions(e, t, n) {
              const r = {
                ...e,
                fieldType: t,
                handleOnBinChange: (e) => this.handleOnBinChange(e),
                handleOnBlur: (e) => this.handleOnBlur(e),
                handleOnFocus: (e) => this.handleOnFocus(e),
                handleOnOtpChange: (e) => this.handleOnChangeOTP(e),
                handleOnSubmit: (e) => this.handleOnSubmit(e),
                handleOnValidity: (e, t) => this.handleOnValidity(e, t),
                styles: Ft(n || {})
              };
              return (
                t === Ct.DEFERRED &&
                  (r.handleOnDeferredChange = (e) => this.onChangeDeferred(e)),
                r
              );
            }
            initFields(e, t) {
              for (const n in e) {
                const r = e[n],
                  i = this.buildFieldOptions(r, n, t);
                let o;
                this.firstHostedFieldType
                  ? (o = Rt(i))
                  : ((o = Rt({ ...i, isFirst: !0 })),
                    (this.firstHostedFieldType = n)),
                  (this.inputValues[n] = {
                    hostedField: o,
                    selector: r.selector,
                    validity: { isValid: !1 }
                  });
              }
              return (
                this.inputValues.deferred &&
                  (this.inputValues.deferred.validity = { isValid: !0 }),
                this.inputValues.otp &&
                  (this.inputValues.otp.validity = { isValid: !0 }),
                this.hideContainers(),
                this.renderFields()
              );
            }
            hideContainers() {
              this.getContainers().forEach((e) => {
                if (!e) throw new Error("element don't exist");
                e.style.cssText += "display:none";
              });
            }
            showContainers() {
              this.getContainers().forEach((e) => {
                if (!e) throw new Error("element don't exist");
                e.removeAttribute("style");
              });
            }
            getContainers() {
              return Object.values(this.inputValues).map((e) =>
                document.getElementById(`${e.selector}`)
              );
            }
            getBinFromCreditCardNumberSift(e) {
              return e.slice(0, 6);
            }
            async getOtpInput(e) {
              return new Promise((t, n) => {
                let r = 0;
                window.addEventListener(this.otpInputOTP, async (i) => {
                  if (((r += 1), r <= 3)) {
                    const a = i.detail,
                      s = await this.validationOTP(a.otpValue, e);
                    s && t(!0),
                      s || this.dispatchEventOTPValidation(It.ERROR),
                      !s && 3 === r && n(new o.KushkiError(o.ERRORS.E008));
                  }
                });
              });
            }
            async validInputOTP(e, t, n, r) {
              if (
                n === kt.secureService &&
                "" !== r &&
                (this.showOtpAndHideInputs(), await this.getOtpInput(r))
              )
                return (
                  this.dispatchEventOTPValidation(It.SUCCESS),
                  Promise.resolve({ deferred: t, token: e })
                );
            }
            async validationOTP(e, t) {
              return new Promise(async (n, r) => {
                try {
                  const r = await this._gateway.requestSecureServiceValidation(
                    this.kushkiInstance,
                    {
                      otpValue: e ?? "",
                      secureService: kt.secureService,
                      secureServiceId: t
                    }
                  );
                  "code" in r && r.code === kt.secureCodeSuccess
                    ? n(!0)
                    : (this.dispatchEventOTPValidation(It.ERROR), n(!1));
                } catch (e) {
                  r(e);
                }
              });
            }
            addEventListener(e, t, n) {
              n
                ? window.addEventListener(`${e}${n}`, (e) => {
                    t(e.detail.fields[n] || e.detail);
                  })
                : window.addEventListener(e, (e) => {
                    t(e.detail);
                  });
            }
            static validParamsInitCardToken(e, t) {
              if (!t || !e) throw new o.KushkiError(o.ERRORS.E012);
            }
          }
          t.initCardToken = (e, t) => Mt.initCardToken(e, t);
        },
        470: () => {
          !(function (e) {
            function t(n) {
              if (r[n]) return r[n].exports;
              var i = (r[n] = { exports: {}, id: n, loaded: !1 });
              return (
                e[n].call(i.exports, i, i.exports, t),
                (i.loaded = !0),
                i.exports
              );
            }
            var n = window.songbirdLoader;
            window.songbirdLoader = function (r, o) {
              for (var a, s, u = 0, c = []; u < r.length; u++)
                (s = r[u]), i[s] && c.push.apply(c, i[s]), (i[s] = 0);
              for (a in o)
                Object.prototype.hasOwnProperty.call(o, a) && (e[a] = o[a]);
              for (n && n(r, o); c.length; ) c.shift().call(null, t);
            };
            var r = {},
              i = { 8: 0 };
            (t.e = function (e, n) {
              if (0 === i[e]) return n.call(null, t);
              if (void 0 !== i[e]) i[e].push(n);
              else {
                i[e] = [n];
                var r = document.getElementsByTagName("head")[0],
                  o = document.createElement("script");
                (o.type = "text/javascript"),
                  (o.charset = "utf-8"),
                  (o.async = !0),
                  (o.crossOrigin = "anonymous"),
                  (o.src = t.p + "" + e + ".597f4104d311c33d4189.songbird.js"),
                  r.appendChild(o);
              }
            }),
              (t.m = e),
              (t.c = r),
              (t.p =
                "https://songbird.cardinalcommerce.com/edge/v1/597f4104d311c33d4189/"),
              t(0);
          })({
            0: function (e, t, n) {
              e.exports = n(76);
            },
            5: function (e, t) {
              var n;
              try {
                n = window;
              } catch {
                n = this;
              }
              e.exports = {
                apiId: void 0,
                bin: void 0,
                deviceFingerprinting: {
                  shouldRunFingerprinting: !1,
                  urls: { base: void 0, browser: void 0, profileBin: void 0 }
                },
                farnsworthLabs: {},
                formFields: {},
                jwtOrderObject: void 0,
                merchantJwt: void 0,
                songbirdPostmessageValidation: !1,
                message: void 0,
                orgUnitId: void 0,
                setup: { eventCompleted: !1, modulesLoaded: void 0 },
                storage: {},
                tid: void 0,
                transactionFlow: void 0,
                timers: { browserRender: null },
                urls: { hostedFields: void 0, postMessageWhiteList: [] },
                window: n
              };
            },
            46: function (e, t) {
              function n(e) {
                (this.Namespace = e),
                  (this.logQueue = []),
                  (this.log = function (e, t) {
                    e || (e = "debug"),
                      this.logQueue.push({ type: e, message: t });
                  });
              }
              (n.prototype.getLogQueue = function () {
                return this.logQueue;
              }),
                (n.prototype.getNamespace = function () {
                  return this.Namespace;
                }),
                (n.prototype.trace = function (e) {
                  this.log("trace", e);
                }),
                (n.prototype.debug = function (e) {
                  this.log("debug", e);
                }),
                (n.prototype.info = function (e) {
                  this.log("info", e);
                }),
                (n.prototype.warn = function (e) {
                  this.log("warn", e);
                }),
                (n.prototype.error = function (e) {
                  this.log("error", e);
                }),
                (e.exports = n);
            },
            54: function (e, t, n) {
              var r,
                i = n(5),
                o = new (n(46))("Base.Polyfiller"),
                a = { JSON: !1, performance: !1, bind: !1, filter: !1 },
                s = {
                  polyfill: function (e) {
                    (r = e),
                      "JSON" in i.window
                        ? ((a.JSON = !0), s.isFinished())
                        : (o.debug("Detected JSON missing, loading polyfill"),
                          n.e(0, function (e) {
                            n(97),
                              o.debug("JSON polyfill loaded"),
                              (a.JSON = !0),
                              s.isFinished();
                          })),
                      "performance" in i.window &&
                      "mark" in i.window.performance
                        ? ((a.performance = !0), s.isFinished())
                        : (o.debug(
                            "Detected performance library missing in browser - loading polyfill"
                          ),
                          n.e(2, function (e) {
                            n(118),
                              o.debug("performance polyfill loaded"),
                              (a.performance = !0),
                              s.isFinished();
                          })),
                      Function.prototype.bind
                        ? ((a.bind = !0), s.isFinished())
                        : (o.debug(
                            "Detected bind is missing - loading polyfill"
                          ),
                          n.e(0, function (e) {
                            n(119)(),
                              o.debug("bind polyfill loaded"),
                              (a.bind = !0),
                              s.isFinished();
                          })),
                      Array.prototype.filter
                        ? ((a.filter = !0), s.isFinished())
                        : (o.debug(
                            "Detected filter is missing - loading polyfill"
                          ),
                          n.e(0, function (e) {
                            n(120)(),
                              o.debug("filter polyfill loaded"),
                              (a.filter = !0),
                              s.isFinished();
                          }));
                  },
                  isFinished: function () {
                    for (var e in a)
                      if (a.hasOwnProperty(e) && !a[e]) return !1;
                    r(o);
                  }
                };
              e.exports = s;
            },
            76: function (e, t, n) {
              var r, i, o, a, s, u, c, d, l;
              (r = window),
                (a = []),
                (s = []),
                (u = []),
                (c = []),
                (d = []),
                (l = []),
                (o = {
                  configure: function (e) {
                    a.push({ name: e, arguments });
                  },
                  setup: function (e) {
                    c.push({ name: e, arguments });
                  },
                  start: function (e) {
                    d.push({ name: e, arguments });
                  },
                  continue: function (e) {
                    s.push({ name: e, arguments });
                  },
                  on: function (e) {
                    u.push({ name: e, arguments });
                  },
                  trigger: function (e) {
                    l.push({ name: e, arguments });
                  },
                  off: function (e) {},
                  complete: function (e) {}
                }),
                (r.Cardinal = o),
                (r.onerror !== i && null !== r.onerror) ||
                  (r.onerror = function () {
                    return !1;
                  }),
                n(54).polyfill(function (e) {
                  n.e(1, function (t) {
                    var f = n(6),
                      h = n(4).active,
                      p = n(108),
                      y = n(5),
                      w = n(3),
                      v = n(9),
                      g = n(11),
                      m = n(55),
                      b = n(12),
                      E = n(1),
                      _ = n(13),
                      S = n(101),
                      x = E.getLoggerInstance("Base.Main"),
                      O = n(4).passive,
                      P = n(7),
                      A = n(100),
                      C = {
                        configurationQueue: a,
                        onQueue: u,
                        startQueue: d,
                        continueQueue: s
                      };
                    E.addToLoggerCollection(e);
                    try {
                      P.on("error", function (e) {
                        h.publish("error.fatal").then(function () {
                          g.handleError(
                            e,
                            v.GENERAL.NUMBER,
                            v.GENERAL.DESCRIPTION
                          );
                        });
                      }),
                        x.info(
                          "Using Songbird.js v" + w.getSystemConfig().version
                        ),
                        S.init(),
                        (o.setup = f.partial(h.publish, "setup")),
                        (o.on = O.subscribe),
                        (o.start = function (e) {
                          (arguments[0] = "start." + e.toUpperCase()),
                            h.publish.apply(this, arguments);
                        }),
                        (o.continue = function (e) {
                          (arguments[0] = "continue." + e.toUpperCase()),
                            h.publish.apply(this, arguments);
                        }),
                        (o.complete = f.partial(
                          h.publish,
                          "payments.completed"
                        )),
                        (o.trigger = h.publish),
                        (o.off = O.removeEvent),
                        m.setupSubscriptions(),
                        (y.browser = p.getBrowserDetails()),
                        f.each(l, function (e) {
                          h.publish.apply(this, e.arguments);
                        }),
                        h.subscribe("setup", f.partial(A.processSetup, C)),
                        c.length > 0 &&
                          h.publish(
                            "setup",
                            c[0].arguments[0],
                            c[0].arguments[1]
                          ),
                        (y.namespace = o),
                        (y.window = r),
                        _.initialize(r),
                        _.captureTiming(b.getCurrentScript());
                    } catch (e) {
                      x.error(
                        "Fatal Exception while processing: " +
                          (e.message !== i ? e.message : e)
                      ),
                        g.handleError(
                          e,
                          v.GENERAL.NUMBER,
                          v.GENERAL.DESCRIPTION
                        );
                    }
                  });
                });
            }
          });
        },
        709: () => {
          !(function (e) {
            function t(n) {
              if (r[n]) return r[n].exports;
              var i = (r[n] = { exports: {}, id: n, loaded: !1 });
              return (
                e[n].call(i.exports, i, i.exports, t),
                (i.loaded = !0),
                i.exports
              );
            }
            var n = window.songbirdLoader;
            window.songbirdLoader = function (r, o) {
              for (var a, s, u = 0, c = []; u < r.length; u++)
                (s = r[u]), i[s] && c.push.apply(c, i[s]), (i[s] = 0);
              for (a in o)
                Object.prototype.hasOwnProperty.call(o, a) && (e[a] = o[a]);
              for (n && n(r, o); c.length; ) c.shift().call(null, t);
            };
            var r = {},
              i = { 19: 0 };
            (t.e = function (e, n) {
              if (0 === i[e]) return n.call(null, t);
              if (void 0 !== i[e]) i[e].push(n);
              else {
                i[e] = [n];
                var r = document.getElementsByTagName("head")[0],
                  o = document.createElement("script");
                (o.type = "text/javascript"),
                  (o.charset = "utf-8"),
                  (o.async = !0),
                  (o.crossOrigin = "anonymous"),
                  (o.src = t.p + "" + e + ".a960453caa80548c4a43.songbird.js"),
                  r.appendChild(o);
              }
            }),
              (t.m = e),
              (t.c = r),
              (t.p =
                "https://songbirdstag.cardinalcommerce.com/edge/v1/a960453caa80548c4a43/"),
              t(0);
          })([
            function (e, t, n) {
              e.exports = n(1);
            },
            function (e, t, n) {
              var r, i, o, a, s, u, c, d, l;
              (r = window),
                (a = []),
                (s = []),
                (u = []),
                (c = []),
                (d = []),
                (l = []),
                (o = {
                  configure: function (e) {
                    a.push({ name: e, arguments });
                  },
                  setup: function (e) {
                    c.push({ name: e, arguments });
                  },
                  start: function (e) {
                    d.push({ name: e, arguments });
                  },
                  continue: function (e) {
                    s.push({ name: e, arguments });
                  },
                  on: function (e) {
                    u.push({ name: e, arguments });
                  },
                  trigger: function (e) {
                    l.push({ name: e, arguments });
                  },
                  off: function (e) {},
                  complete: function (e) {}
                }),
                (r.Cardinal = o),
                (r.onerror !== i && null !== r.onerror) ||
                  (r.onerror = function () {
                    return !1;
                  }),
                n(2).polyfill(function (e) {
                  n.e(5, function (t) {
                    var f = n(12),
                      h = n(14).active,
                      p = n(23),
                      y = n(3),
                      w = n(24),
                      v = n(31),
                      g = n(32),
                      m = n(58),
                      b = n(67),
                      E = n(15),
                      _ = n(63),
                      S = n(113),
                      x = E.getLoggerInstance("Base.Main"),
                      O = n(14).passive,
                      P = n(18),
                      A = n(114),
                      C = {
                        configurationQueue: a,
                        onQueue: u,
                        startQueue: d,
                        continueQueue: s
                      };
                    E.addToLoggerCollection(e);
                    try {
                      P.on("error", function (e) {
                        h.publish("error.fatal").then(function () {
                          g.handleError(
                            e,
                            v.GENERAL.NUMBER,
                            v.GENERAL.DESCRIPTION
                          );
                        });
                      }),
                        x.info(
                          "Using Songbird.js v" + w.getSystemConfig().version
                        ),
                        S.init(),
                        (o.setup = f.partial(h.publish, "setup")),
                        (o.on = O.subscribe),
                        (o.start = function (e) {
                          (arguments[0] = "start." + e.toUpperCase()),
                            h.publish.apply(this, arguments);
                        }),
                        (o.continue = function (e) {
                          (arguments[0] = "continue." + e.toUpperCase()),
                            h.publish.apply(this, arguments);
                        }),
                        (o.complete = f.partial(
                          h.publish,
                          "payments.completed"
                        )),
                        (o.trigger = h.publish),
                        (o.off = O.removeEvent),
                        m.setupSubscriptions(),
                        (y.browser = p.getBrowserDetails()),
                        f.each(l, function (e) {
                          h.publish.apply(this, e.arguments);
                        }),
                        h.subscribe("setup", f.partial(A.processSetup, C)),
                        c.length > 0 &&
                          h.publish(
                            "setup",
                            c[0].arguments[0],
                            c[0].arguments[1]
                          ),
                        (y.namespace = o),
                        (y.window = r),
                        _.initialize(r),
                        _.captureTiming(b.getCurrentScript());
                    } catch (e) {
                      x.error(
                        "Fatal Exception while processing: " +
                          (e.message !== i ? e.message : e)
                      ),
                        g.handleError(
                          e,
                          v.GENERAL.NUMBER,
                          v.GENERAL.DESCRIPTION
                        );
                    }
                  });
                });
            },
            function (e, t, n) {
              var r,
                i = n(3),
                o = new (n(4))("Base.Polyfiller"),
                a = { JSON: !1, performance: !1, bind: !1, filter: !1 },
                s = {
                  polyfill: function (e) {
                    (r = e),
                      "JSON" in i.window
                        ? ((a.JSON = !0), s.isFinished())
                        : (o.debug("Detected JSON missing, loading polyfill"),
                          n.e(1, function (e) {
                            n(5),
                              o.debug("JSON polyfill loaded"),
                              (a.JSON = !0),
                              s.isFinished();
                          })),
                      "performance" in i.window &&
                      "mark" in i.window.performance
                        ? ((a.performance = !0), s.isFinished())
                        : (o.debug(
                            "Detected performance library missing in browser - loading polyfill"
                          ),
                          n.e(2, function (e) {
                            n(8),
                              o.debug("performance polyfill loaded"),
                              (a.performance = !0),
                              s.isFinished();
                          })),
                      Function.prototype.bind
                        ? ((a.bind = !0), s.isFinished())
                        : (o.debug(
                            "Detected bind is missing - loading polyfill"
                          ),
                          n.e(3, function (e) {
                            n(10)(),
                              o.debug("bind polyfill loaded"),
                              (a.bind = !0),
                              s.isFinished();
                          })),
                      Array.prototype.filter
                        ? ((a.filter = !0), s.isFinished())
                        : (o.debug(
                            "Detected filter is missing - loading polyfill"
                          ),
                          n.e(4, function (e) {
                            n(11)(),
                              o.debug("filter polyfill loaded"),
                              (a.filter = !0),
                              s.isFinished();
                          }));
                  },
                  isFinished: function () {
                    for (var e in a)
                      if (a.hasOwnProperty(e) && !a[e]) return !1;
                    r(o);
                  }
                };
              e.exports = s;
            },
            function (e, t) {
              var n;
              try {
                n = window;
              } catch {
                n = this;
              }
              e.exports = {
                apiId: void 0,
                bin: void 0,
                deviceFingerprinting: {
                  shouldRunFingerprinting: !1,
                  urls: { base: void 0, browser: void 0, profileBin: void 0 }
                },
                farnsworthLabs: {},
                formFields: {},
                jwtOrderObject: void 0,
                merchantJwt: void 0,
                songbirdPostmessageValidation: !1,
                message: void 0,
                orgUnitId: void 0,
                setup: { eventCompleted: !1, modulesLoaded: void 0 },
                storage: {},
                tid: void 0,
                transactionFlow: void 0,
                timers: { browserRender: null },
                urls: { hostedFields: void 0, postMessageWhiteList: [] },
                window: n
              };
            },
            function (e, t) {
              function n(e) {
                (this.Namespace = e),
                  (this.logQueue = []),
                  (this.log = function (e, t) {
                    e || (e = "debug"),
                      this.logQueue.push({ type: e, message: t });
                  });
              }
              (n.prototype.getLogQueue = function () {
                return this.logQueue;
              }),
                (n.prototype.getNamespace = function () {
                  return this.Namespace;
                }),
                (n.prototype.trace = function (e) {
                  this.log("trace", e);
                }),
                (n.prototype.debug = function (e) {
                  this.log("debug", e);
                }),
                (n.prototype.info = function (e) {
                  this.log("info", e);
                }),
                (n.prototype.warn = function (e) {
                  this.log("warn", e);
                }),
                (n.prototype.error = function (e) {
                  this.log("error", e);
                }),
                (e.exports = n);
            }
          ]);
        }
      },
      t = {};
    function n(r) {
      var i = t[r];
      if (void 0 !== i) return i.exports;
      var o = (t[r] = { exports: {} });
      return e[r](o, o.exports, n), o.exports;
    }
    return (
      (n.g = (function () {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (e) {
          if ("object" == typeof window) return window;
        }
      })()),
      n(404)
    );
  })()
);
